(function(h){var e=window.AmazonUIPageJS||window.P,p=e._namespace||e.attributeErrors,a=p?p("HLCXDetailPageAssets",""):e;a.guardFatal?a.guardFatal(h)(a,window):a.execute(function(){h(a,window)})})(function(h,e,p){h.when("A","ready").execute(function(a){a.on("a:accordion:installment-payment-buybox-accordion:select",function(b){a.$("#abbWrapper [id^\x3dmbb-offeringID-]").prop("checked",!1)})});h.when("A").register("BaseLinkKeyValuePairHelper",function(a){var b=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,
function(a){var c=16*Math.random()|0;return("x"===a?c:c&3|8).toString(16)})},c=function(a,c){this.key=a;this.value=c};return{getBaseLinkPairs:function(){var a=b();return{ITEM_ASSOC:new c("itemAssoc",a),UNIQ_PARENT:new c("UNIQ-itemAssoc",a),UNIQ_WARRANTY:new c("UNIQ-lnkdWrrnty",a),ITEM_ASSOC_TYPE:new c("itemAssocType","AmazonProtect"),RENDER_TYPE:new c("itemAssocRenderType","renderAll")}}}});h.when("A","BaseLinkKeyValuePairHelper").register("BaseLinkFormHelper",function(a,b){var c=a.$,l=function(a,
f){var d=0;f.find("input[name^\x3d'custom-name\\."+a+"\\.']").each(function(a,f){a=f.name.split(".")[2];isNaN(a)||(d=a>d?a:d)});return d+1},m=function(a,f,d){var k=[],q=l(a,f);c.each(d,function(f,d){var c="custom-value."+a+"."+q;f=e("custom-name."+a+"."+q,d.key);d=e(c,d.value);k=k.concat([f,d]);q++});return k},e=function(a,f){var d=document.createElement("input");d.setAttribute("type","hidden");d.setAttribute("class","atcFormWarrantyData");d.setAttribute("id",a);d.setAttribute("name",a);d.setAttribute("value",
f);return d},n=function(a){a.find(".atcFormWarrantyData").each(function(a,d){d.parentNode.removeChild(d)})};return{addBaseLinkFields:function(a,f){n(f);if(!f.find("input[value\x3d'itemAssoc']").length){var d=b.getBaseLinkPairs(),k=m(1,f,[d.ITEM_ASSOC,d.UNIQ_PARENT,d.ITEM_ASSOC_TYPE]);a=m(a,f,[d.ITEM_ASSOC,d.UNIQ_WARRANTY,d.ITEM_ASSOC_TYPE,d.RENDER_TYPE]);k=k.concat(a);c.each(k,function(a,d){f.append(d)})}},removeBaseLinkFields:n,getMobileWarrantyIndex:function(a){var f=1;a.find("input[name\x3d'a']").each(function(a,
c){c.value&&(a=c.value.split("|"))&&(f=a.length)});return f+1}}});h.when("A","BaseLinkKeyValuePairHelper").register("BaseLinkDeclarativeHelper",function(a,b){var c=a.$,l=[],m=function(a){var d=!1;c.each(a,function(a,f){if("itemAssoc"===f)return d=!0,!1});return d},e=function(a,d,k){var b={},m=n(a,d);c.each(k,function(d,c){d=c.value;var k="custom-name."+a+"."+m,g="custom-value."+a+"."+m;b[k]=c.key;b[g]=d;l.push(k);l.push(g);m++});return b},n=function(a,d){var k=new RegExp("^custom-name[.]["+a+"]+[.]([0-9]+)$"),
b=0;c.each(d,function(a){if(a=a.match(k))a=+a[1],a>b&&(b=a)});return b+1},g=function(a){c.each(l,function(d,c){a[c]&&delete a[c]});l=[]};return{addBaseLinkFields:function(a){g(a);if(!m(a)){var d=b.getBaseLinkPairs(),k=e(1,a,[d.ITEM_ASSOC,d.UNIQ_PARENT,d.ITEM_ASSOC_TYPE]),d=[d.ITEM_ASSOC,d.UNIQ_WARRANTY,d.ITEM_ASSOC_TYPE,d.RENDER_TYPE],l=1;a.a&&(l=a.a.split("|").length);d=e(l+1,a,d);c.extend(a,k);c.extend(a,d)}},removeBaseLinkFields:g,getDeclarativeDataInputs:function(a){if(a=c(a)){var d=a.data("action");
if((a=a.data(d))&&a.inputs)return a.inputs}}}});h.when("A","aw-mash").register("BaseLinkAddWarrantyHelper",function(a,b){var c=function(a){e.ueLogError&&e.ueLogError({message:"msi - "+a},{logLevel:"ERROR",attribution:"Mobile_App_SI_Base_Link"})};return{addLinkedWarranty:function(l,m,e){a.ajax("/gp/product/amazon-protect/base-link/services/warranty-service.html",{method:"post",params:l,timeout:1E3,success:function(a){a&&a.status&&"OK"===a.status?(m(),a.numActiveItemsInCart&&(a=parseInt(a.numActiveItemsInCart,
10),b.cart.didUpdate({newCartQuantity:a}))):c("Error while doing a call to warranty-service.html. Success but response not valid.")},error:function(a,b,f){c("Error while doing a call to warranty-service.html. Status: "+b+" . Error: "+f);e()}})},obtainBaseItemCartid:function(b){a.ajax("/gp/product/amazon-protect/base-link/services/last-added-cart-item-id.html",{method:"post",timeout:1E3,cache:!1,success:function(a){a&&a.status&&a.lastAddedItemCartId?b(a.lastAddedItemCartId):c("Error while doing a call to last-added-cart-item-id.html. Status: "+
a.status)},error:function(a,b,e){c("Error while doing a call to last-added-cart-item-id.html. Status: "+b+" . Error: "+e)}})},mSilogError:c}});"use strict";h.when("A","ready").execute(function(a){function b(a){var c=e.ue;c&&c.count&&c.count(a,(c.count(a)||0)+1)}var c=a.$;a.on("a:expander:comparison_detail_expander:toggle:expand",function(a){b("ComparisonExpanderExpanded");c(".comparison_other_attribute_row").removeClass("aok-hidden")});a.on("a:expander:comparison_detail_expander:toggle:collapse",
function(a){b("ComparisonExpanderCollapsed");c(".comparison_other_attribute_row").addClass("aok-hidden")})});h.when("A","atf","ready").execute(function(a){function b(){var c,b=a.$("#HLCXComparisonJumplink_feature_div"),e=a.$("#HLCXComparisonWidget_feature_div");c=a.$("#HLCXComparisonJumplinkContent").length?e.find("#HLCXComparisonJumplinkContent"):e.find(".HLCXComparisonJumplinkContent");e=e.has("#HLCXComparisonTable").length;b.empty();e&&c.clone().removeClass("aok-hidden").appendTo(b)}a.declarative("hlcx-send-reftag",
"click",function(c){a.$.get("/gp/product/ajax-handlers/reftag.html/ref\x3d"+c.data.refTag)});b();a.on("a:pageUpdate",b)});h.when("A","ready").execute("logCsmMetricsForComparisonTabs",function(a){var b;a.on("a:tabs:comparison_items_tabs:compare_to_similar_items_tab:select a:tabs:comparison_items_tabs:compare_to_recently_viewed_items_tab:select",a.throttle(function(a){b&&b===a.selectedTab.tabName||(b=a.selectedTab.tabName,e.ue&&e.ue.count&&e.ue.count(a.selectedTab.tabName,1))},100,{trailing:!1}))});
h.when("A","3p-promise","ready").register("hlcx-table-csm",function(a,b,c){function l(f){return a.$(f?".hlcx-cmp-title-col":".comparison_image_title_cell").filter(":visible").map(function(){return a.$(this).attr("data-asin")}).toArray()}function m(){try{var a=document.cookie.match("(^|[^;]+)\\s*(session-id|sessionId)\\s*\x3d\\s*([^;]+)");return a?a.pop():""}catch(d){return""}}function h(c,d){return new b(function(b,e){function g(){d.unbind("click auxclick",g);var c=a.now()-h;a.off("DOMContentLoaded load resize scroll",
l);b({timeInView:c,clickedOff:!0})}var h=a.now(),l=a.throttle(function(){if(!a.onScreen(c)){var d=a.now()-h;a.off("DOMContentLoaded load resize scroll",l);b({timeInView:d,clickedOff:!1})}},200);d.bind("click auxclick",g);a.on("DOMContentLoaded load resize scroll",l)})}function n(a,d,c){var b=l(c);a={pageAsin:a,comparableAsins:b.slice(1),sessionId:d,deviceType:c?"mobile":"desktop"};e.ue&&e.ue.event&&e.ue.event(a,"comparison","comparison.dpTableImpression.1")}function g(c,d,b){function g(){!t&&a.onScreen(r)&&
(t=!0,h(r,b()).then(function(a){t=!1;if(!(2500>a.timeInView)){var b=l(d).slice(1),g=a.timeInView,k=++v,h;h=e.location.href.endsWith("#HLCXComparisonWidget_feature_div");a={pageAsin:c,comparableAsins:b,sessionId:p,timeInView:g,viewOnPageCounter:k,deviceType:d?"mobile":"desktop",landedOnComparisonsTable:h,clickedOff:a.clickedOff};e.ue&&e.ue.event&&e.ue.event(a,"comparison","comparison.dpTableView.2")}}))}var r=a.$(d?"#hlcx_cmp_table":"#HLCXComparisonTable");if(r.length){var p=m();n(c,p,d);var t=!1,
v=0;a.on("DOMContentLoaded load resize scroll",g);a.on("a:pageUpdate",function(){c!==a.$(d?".hlcx-cmp-title-col":".comparison_image_title_cell").first().attr("data-asin")&&a.off("DOMContentLoaded load resize scroll",g)})}}return{setupClientSideLogging:function(c,d){var b;return function(){var e=a.$(c?".hlcx-cmp-title-col":".comparison_image_title_cell").first().attr("data-asin");b!==e&&"undefined"!==typeof e&&(b=e,g(b,c,d))}}}});h.when("A","hlcx-table-csm").execute(function(a,b){b=b.setupClientSideLogging(!1,
function(){return a.$("td.comparison_add_to_cart_button span.a-button, th.comparison_image_title_cell a, #comparison_sold_by_row a, #comparison_custormer_rating_row a")});a.on("a:pageUpdate",b);b()});h.when("A","ready").register("comparison-table-weblab-trigger",function(a,b){function c(c,b,f){var d=a.throttle(function(){if(a.onScreen(h)||f&&a.onScreen(m)){var k=a.state(c).treatment,q=e.ue;k&&q&&q.trigger&&q.trigger(b,k);a.off("DOMContentLoaded load resize scroll",d)}},200);a.on("DOMContentLoaded load resize scroll",
d)}var h,m,u;return{triggerWeblabWhenViewing:function(b,e,f){var d;return function(){h=a.$(b?"#hlcx_cmp_table":"#HLCXComparisonTable");u=a.$(b?".hlcx-cmp-title-col":".comparison_image_title_cell");m=a.$(b?"#hlcx_cmp_table_holder":"#HLCXComparisonTableHolder");var k;k=u.length?u.first().attr("data-asin"):m.length?m.attr("data-asin"):p;d!==k&&k&&(d=k,c(e,f,!0))}}}});h.when("A","comparison-table-weblab-trigger").execute(function(a,b){b=b.triggerWeblabWhenViewing(!1,"ppu-weblab-treatment","DP_COMPARISON_DISPLAY_PPU_312196");
a.on("a:pageUpdate",b);b()});"use strict";h.when("A","ready").execute(function(a){function b(a){g.get("/hctp/log/refMarker?ref_\x3d"+a)}function c(){var a=g(e).scrollTop(),c=g("#in-dynamic-comparision-mini-header-coordinates-start").offset(),b=g("#in-dynamic-comparision-mini-header-coordinates-end").offset(),h=g("#HLCXComparisonTable").offset();a&&c&&b&&h&&(a>c.top&&a<b.top?f.fixedHeader.addClass("persistent-header").removeClass("aok-hidden"):a<=c.top?(f.fixedHeader.hasClass("persistent-header")||
a>=h.top)&&f.fixedHeader.addClass("aok-hidden").removeClass("persistent-header"):a>=b.top&&f.fixedHeader.addClass("aok-hidden").removeClass("persistent-header"))}function l(){var a=f.miniHeaderColumns;g(".comparison_table_image_row th").each(function(c){var b=g(this).outerWidth();g(a[c]).css({width:b,"max-width":b})})}function m(){h.when("atf").execute(function(){a.loadImageManually(f.comparisonIcons)})}function p(){a.on("a:expander:in-comparison-detail-expander:toggle:expand",function(){b("hctp_cmp_see_more");
f.expanderContentSelector.removeClass("aok-hidden")});a.on("a:expander:in-comparison-detail-expander:toggle:collapse",function(){b("hctp_cmp_see_less");f.expanderContentSelector.addClass("aok-hidden")});g(".in-comparison-tech-desc-popover").hover(function(){b(g(this).data("reftag"))});a.on("scroll",c)}function n(){f.fixedHeader=g("#in-dynamic-comparision-mini-header");f.expanderContentSelector=g(".comparison_other_attribute_row");f.miniHeaderColumns=g("#in-dynamic-comparision-mini-header .mini-header-row th");
f.comparisonIcons=g("#HLCXComparisonTable.in-comparison-table .in-comparison-icon");p();l();m()}var g=a.$,f={};0!==g("#in-dynamic-comparision-mini-header").length&&0!==g("#in-dynamic-comparision-mini-header-coordinates-start").length&&0!==g("#in-dynamic-comparision-mini-header-coordinates-end").length&&(n(),a.on("a:pageUpdate",n),a.on("resize",n))})});
/* ******** */
(function(k){var p=window.AmazonUIPageJS||window.P,q=p._namespace||p.attributeErrors,n=q?q("DetailPageWarrantyAssets",""):p;n.guardFatal?n.guardFatal(k)(n,window):n.execute(function(){k(n,window)})})(function(k,p,q){"use strict";var n;n=function(){};"use strict";k.when("A").register("wty:Reftag",function(d){function h(a){this.prefix=a}h.prototype.log=function(a,b,e){a=e?[this.prefix,a,b,e]:[this.prefix,a,b];n("Reftag.log: "+a);a=a.join("_");d.get("/gp/product/ajax-handlers/reftag.html/ref\x3d"+a)};
return h});"use strict";k.when("A","BaseLinkFormHelper").register("wty:detailPage",function(d,h){function a(){}a.prototype.bindQuantityChange=function(b){var a=function(){b(d.$(this).val())};d.$("#quantity").bind("change",a);return a};a.prototype.unbindQuantityChange=function(b){d.$("#quantity").unbind("change",b)};a.prototype.bindBuyBoxAccordion=function(b){d.on("a:accordion:buybox-accordion:select",b);d.on("a:accordion:installment-payment-buybox-accordion:select",b);return b};a.prototype.unbindBuyBoxAccordion=
function(b){d.off("a:accordion:buybox-accordion:select",b);d.off("a:accordion:installment-payment-buybox-accordion:select",b)};a.prototype.findQuantityInput=function(b){return b.find("input[name^\x3dquantity]")};a.prototype.findOfferListingIdInput=function(b){return b.find("input[name^\x3dofferingID]")};a.prototype.handleBaselink=function(b){if(d.$("#mbb__bl").length){var a=d.$(b._checkbox[0].form);a&&(b.isChecked()?(b=b.getKvpIndex(),h.addBaseLinkFields(b,a)):h.removeBaseLinkFields(a))}};a.prototype.handleATC=
function(a){};return new a});"use strict";k.when("wty:Reftag").register("wty:MbbTypes",function(d){var h={mbb__tsn:{cssClass:"mbb__tsn",reftag:new d("psd_bb"),hasQuantity:!0},mbb__ti:{cssClass:"mbb__ti",reftag:new d("psd_ib")},mbb__tld:{cssClass:"mbb__tld",reftag:new d("psd_ld")}};return{getType:function(a){return h[a]}}});"use strict";k.when("A","a-modal").register("wty:mbbModalHelper",function(d,h){function a(){}a.prototype.create=function(a,e,l,c){if(c){var f=d.$("#a-popover-"+e),g=f.clone(!0).prop("id",
"a-popover-"+e+"-Opened");f.parent().append(g)}h.create(a,{name:c?e+"-Opened":e,header:l,width:750})};a.prototype.remove=function(a,e){h.remove(e?a+"-Opened":a)};a.prototype.hide=function(a,e){(a=h.get(e?a+"-Opened":a))&&a.hide()};return new a});"use strict";k.when("A","wty:Reftag","wty:MbbItem").register("wty:Mbb",function(d,h,a){function b(b,l,c){this._type=c;this._reftag=c.reftag;this._baseFormIndex=b;this._pageData=l;this._baseItemAsin=l.bi.a;this._mbbFeature=d.$(".mbb__bb."+c.cssClass);this._modalHeader=
this._mbbFeature.find(".mbb__mh").html();this._items=[];this._reftag.log("i",this._baseItemAsin);var f=this;this._mbbFeature.find(".mbb__r").each(function(g){var c=d.$(this),c=new a(f,c,g);f._items[g]=c})}b.prototype._destroy=function(){for(var a=0,b=this._items.length;a<b;a++)this._items[a]._destroy()};b.prototype._setQuantity=function(a){for(var b=0,c=this._items.length;b<c;b++)this._items[b]._setQuantity(a)};b.prototype._setChecked=function(a,b){for(var c=0,f=this._items.length;c<f;c++)this._items[c]._setChecked(b&&
c===a)};b.prototype.getCheckedItem=function(){for(var a=0,b=this._items.length;a<b;a++){var c=this._items[a];if(c.isChecked())return c}};b.prototype.getItems=function(){return this._items};return b});"use strict";k.when("A").register("warranty-options-constants",function(d){return{featureRegistration:{featureName:"warrantyTwisterPlus",featureAttribution:"Retail/AppleCare/(de)activation",updateQtyAsBaseItem:1},selector:{expanderContainer:".warranty-twister-container",skeletonLoader:".warranty-twister-skeleton-loader",
checkmark:".warranty-twister-selected-checkmark",subtitle:".warranty-twister-subtitle",subtitleText:"#warranty-twister-subtitle",priceSubtitle:".warranty-twister-price-subtitle",priceSubtitleText:"#warranty-twister-price-subtitle",cardImage:".warranty-twister-selected-card-image",expanderIcon:".warranty-twister-expander-icon",learnMoreLink:"#learn-more-link",toggleButton:"#warranty-twister-toggle-button",expanderContent:".warranty-twister-expander-content",expanderData:"[data-toggle-warranty-twister-expander]",
swatch:".warranty-twister-swatch",warrantyOption:".warranty-twister-box-group-warranty-option",selectedWarrantyOption:".warranty-twister-selected-box-group.warranty-twister-box-group-warranty-option",warrantyOptionTitle:".warranty-twister-warranty-option-title",defaultOption:"#default-option-swatch",swatchBoxGroup:".warranty-twister-box-group",swatchHeading:".warranty-twister-box-group-heading",swatchBoxGroupDetail:".warranty-twister-box-group-detail",swatchBoxGroupDetailNoHeader:".warranty-twister-box-group-detail-no-header",
popoverButtonRow:"#attach-warranty-popover-buttons-row",warrantyTwisterSecondaryView:"#a-popover-warrantyTwisterPlusSecondaryView",buyingOptionSuppressionMessage:"#buyingOptionSuppressionMessage",warrantyIcon:"#warranty-icon",monthlyCheckbox:".warranties-monthly-checkbox",monthlyWarning:"#MonthlyWarrantyWarning",warrantyListItem:".warranty-twister-list-item",multiCardExperimentData:"wireless-multi-card",multiCardExperimentElement:"[data-wireless-multi-card]",activeTPlusCards:"#twister-plus-active-cards"},
styles:{twisterPlusFadeIn:"twister-plus-cc-card-fadeIn",warrantyTwisterExpand:"warranty-twister-expander-content-expand",skeletonLoaderExpand:"warranty-twister-skeleton-loader-expand",selectedHeading:"warranty-twister-selected-heading",selectedBoxGroup:"warranty-twister-selected-box-group",unselectedHeading:"warranty-twister-unselected-heading",disabledCard:"disabled-card",disabledOption:"disabled-option",hidden:"aok-hidden"},animationTimeoutUnit:200,metricPrefix:"warranty-options",supportedBuyingOptions:"NEW B2B_NEW BUNDLE INSTALLMENTS RENEWED_TIER_1 RENEWED_TIER_2 RENEWED_TIER_3 RENEWED_TIER_4".split(" ")}});
"use strict";k.when("A","warranty-options-constants","warranty-devicetype-variants").register("warranty-options-csm",function(d,h,a){function b(a,b){"undefined"!==typeof l&&"undefined"!==typeof l.count&&a&&l.count(a,(l.count(a)||0)+b)}function e(a){if(a)this.timerName=a,this.startTime=0;else throw Error("timerName must be non empty string");}var l=p.ue;d=h.featureRegistration.featureName;d={ccExpanded:"twisterPlus.ccExpanded."+d,ccExpandedTime:"twisterPlus.ccExpandedTime."+d,ccScroll:"twisterPlus.ccScroll."+
d,ccLearnMore:"twisterPlus.ccLearnMore."+d,ccItemCounts:"twisterPlus.ccItemsCount."+d,ccItemsSelectCount:"twisterPlus.ccItemsSelectCount."+d,defaultOptionSelectCount:"twisterPlus.defaultSelectCount."+d,ccSVLoadingtime:"twisterPlus.ccSVLoadingtime."+d};e.prototype={isStarted:!1,start:function(){this.isStarted=!0;this.startTime=Date.now()},stop:function(){this.startTime&&b(this.timerName,Date.now()-this.startTime)}};return{increment:function(a){b(a,1)},incrementWithValue:b,logRefTag:function(b,f,g){a.attributesForDeviceType.refTag.log(b,
f,g)},Timer:e,MetricNames:d}});k.when("A","warranty-options-constants").register("warranty-card-utils",function(d,h){function a(a){var c=b(a).parent().data("warranty-option-swatch-select");c||(a=b(a).children(".a-declarative")[0],c=b(a).data("warranty-option-swatch-select"));return c}var b=d.$,e=h.selector;return{getSelectedCardData:function(){var d=b("[data-warranty-option-swatch-select]").data("warranty-option-swatch-select");0<b(e.selectedWarrantyOption).length&&(d=a(b(e.selectedWarrantyOption)));
return d},getWarrantyDataFromOption:a}});"use strict";k.when("A","warranty-options-ref-tag").register("warranty-devicetype-variants",function(d,h){return{attributesForDeviceType:{refTag:new h("warr_tplus_desk")}}});"use strict";k.when("A").register("warranty-options-ref-tag",function(d){function h(a){this.prefix=a}h.prototype.log=function(a,b,e){a=e?[this.prefix,a,b,e]:[this.prefix,a,b];console.log("Reftag.log: "+a);a=a.join("_");d.get("/gp/product/ajax-handlers/reftag.html/ref\x3d"+a)};return h});
"use strict";k.when("A","warranty-twister-expander-state","warranty-options-constants","warranty-twister-swatch-actions","warranty-options-csm").register("warranty-twister-expander-actions",function(d,h,a,b,e){function l(){var a=f(g.expanderContainer),b=a.offset().top+a.outerHeight();if(f(p).scrollTop()+f(p).height()<b){var b=a.offset().top,c=f(p).height(),a=a.height(),a=b-(c-a)/2;f("html, body").animate({scrollTop:a},h.animationTimeoutUnit)}}function c(a){a=a?k.expandedPriceSubtitle:k.loadingSubtitle;
f(g.priceSubtitleText).text(a)}var f=d.$,g=a.selector,m=a.styles,k=h.expanderSubtitle,n=new e.Timer(e.MetricNames.ccExpandedTime);return{initSubtitle:function(a){k.collapsedSubtitle=a.data.defaultSubtitle;k.expandedSubtitle=a.data.defaultSubtitle;k.collapsedPriceSubtitle=a.data.defaultPriceSubtitle;k.expandedPriceSubtitle=a.data.expandedPriceSubtitle},expandWarrantyOptions:function(b){e.increment(e.MetricNames.ccExpanded);n.start();f(g.expanderContent).addClass(m.warrantyTwisterExpand);f(g.expanderIcon).addClass("rotate");
d.delay(function(){f(g.swatch).addClass(m.twisterPlusFadeIn);f(g.warrantyIcon).removeClass(m.hidden);c(b);l()},a.animationTimeoutUnit)},expandSkeletonLoader:function(){f(g.expanderContent).addClass(m.skeletonLoaderExpand);f(g.expanderIcon).addClass("rotate");d.delay(function(){f(g.skeletonLoader).addClass(m.twisterPlusFadeIn);c(!1);l()},a.animationTimeoutUnit)},hideLoaderAnimation:function(b){b&&f(g.skeletonLoader).removeClass(m.twisterPlusFadeIn);d.delay(function(){f(g.skeletonLoader).hide();f(g.swatch).removeClass("invisible");
b&&(f(g.expanderContent).addClass(m.warrantyTwisterExpand),d.delay(function(){f(g.swatch).addClass(m.twisterPlusFadeIn);c(!0);l()},a.animationTimeoutUnit))},a.animationTimeoutUnit)},collapseWarrantyOptions:function(b){n.stop();f(g.swatch).removeClass(m.twisterPlusFadeIn);b||f(g.skeletonLoader).removeClass(m.twisterPlusFadeIn);f(g.expanderIcon).removeClass("rotate");d.delay(function(){f(g.warrantyIcon).addClass(m.hidden);f(g.expanderContent).removeClass(m.warrantyTwisterExpand);f(g.expanderContent).removeClass(m.skeletonLoaderExpand);
f(g.priceSubtitleText).text(k.collapsedPriceSubtitle)},a.animationTimeoutUnit)}}});"use strict";k.when("A").register("warranty-twister-expander-state",function(d){return{expanderSubtitle:{collapsedSubtitle:"",expandedSubtitle:"",collapsedPriceSubtitle:"",expandedPriceSubtitle:"",loadingSubtitle:"Loading options..."},get isLoaded(){return this.property},set isLoaded(d){this.property=d}}});"use strict";k.when("A","warranty-twister-expander-state","warranty-options-constants").register("warranty-twister-swatch-actions",
function(d,h,a){var b=d.$,e=a.selector,l=a.styles,c=h.expanderSubtitle;return{updateSwatchStyle:function(a){b(e.swatchBoxGroup).removeClass(l.selectedBoxGroup);b(e.swatchHeading).removeClass(l.selectedHeading);b(e.swatchHeading).addClass(l.unselectedHeading);var g=a.find(e.swatchHeading),c=a.find(e.swatchBoxGroup);1>c.length&&(c=a.parent(e.swatchBoxGroup));a=c;g.removeClass(l.unselectedHeading);g.addClass(l.selectedHeading);a.addClass(l.selectedBoxGroup)},updateDefaultOptionPriceSubtitle:function(a,
g){c.collapsedPriceSubtitle=a;c.expandedPriceSubtitle=g;b(e.priceSubtitleText).text(g);b(e.priceSubtitle).removeClass("a-color-success");b(e.priceSubtitle).addClass("a-color-tertiary");b(e.checkmark).addClass("a-hidden")},updateWarrantyOptionPriceSubtitle:function(a,g){c.collapsedPriceSubtitle=a;c.expandedPriceSubtitle=a;b(e.priceSubtitleText).text(a);b(e.priceSubtitle).removeClass("a-color-tertiary");b(e.priceSubtitle).addClass("a-color-success");b(e.checkmark).removeClass("a-hidden");b(e.cardImage).attr("src",
g)}}});"use strict";k.when("A","warranty-twister-swatch-actions","warranty-card-utils","warranty-options-constants").execute(function(d,h,a,b){function e(g){1>f(l.expanderContainer).length||1>f(l.monthlyCheckbox).length||(1<Number(f(g.target).val())?(f(l.monthlyCheckbox).addClass(c.disabledOption),f(l.monthlyWarning).removeClass(c.hidden),(g=a.getSelectedCardData())&&g.isMonthlySubscription&&d.trigger("a:declarative:warranty-twister-default-action:click")):(f(l.monthlyCheckbox).removeClass(c.disabledOption),
f(l.monthlyWarning).addClass(c.hidden)))}var l=b.selector,c=b.styles,f=d.$;d.declarative("warranty-twister-default-action","click",function(){d.trigger("a:declarative:select-default-option:click");var a=d.$("[data-warranty-twister-default-action]");if(a!==q&&null!==a){var b=a.data("warranty-twister-default-action");h.updateSwatchStyle(a);h.updateDefaultOptionPriceSubtitle(b.defaultPriceSubtitle,b.expandedPriceSubtitle)}});d.declarative("warranty-option-swatch-select","click",function(a){var b=f(a.$currentTarget);
if(b!==q&&null!==b){var e=b.children(l.warrantyOption)[0];e===q&&(e=b.parent(l.warrantyOption)[0]);f(e).hasClass(c.disabledOption)||(d.trigger("a:declarative:select-warranty-option:click",a),h.updateSwatchStyle(b),h.updateWarrantyOptionPriceSubtitle("+"+a.data.warrantyPrice+" "+a.data.warrantyOptionPriceSubtitle,a.data.cardImageUrl))}});f(document).delegate("#mobileQuantityDropDown","change",function(a){e(a)});f(document).delegate("#quantity","change",function(a){e(a)})});"use strict";k.when("A",
"wty:mbbModalHelper","wty:detailPage","a-checkbox","a-popover").register("wty:MbbItem",function(d,h,a,b,e){function l(a){a.stopPropagation();a.preventDefault()}function c(b,c,d){this._mbb=b;this._warrantyAsin=b._pageData.w[d].a;this._isSubscription=!!b._pageData.w[d].sub;this._index=d;this._row=c;this._quantity=a.findQuantityInput(c);this._offerListingIdSelection=a.findOfferListingIdInput(c);this._checkbox=c.find("input[type\x3dcheckbox]");this._shortTitle=this._row.find(".mbb__st");this._modal=b._mbbFeature.find(".mbb__m:eq("+
d+")");this._modalYes=this._modal.find(".mbb__yes");this._modalNo=this._modal.find(".mbb__no");this._modalName="MbbModal-"+this._mbb._type.cssClass+this._index;var e=this;this._onShortTitle=function(){e._logReftag("st")};this._setChecked(!1);this._logReftag("i");this._bind()}var f=d.$;c.prototype._bind=function(){this._bindQuantity();this._bindBuyBoxAccordion();this._bindModalYes();this._bindModalNo();this._bindShortTitle();this._bindCheckbox()};c.prototype._destroy=function(){this._unbindQuantity();
this._unbindBuyBoxAccordion();this._unbindModalYes();this._unbindModalNo();this._unbindShortTitle();this._unbindCheckbox()};c.prototype.getAsin=function(){return this._warrantyAsin};c.prototype.getFormIndex=function(){return this._index+this._mbb._baseFormIndex};c.prototype.getKvpIndex=function(){return this.getFormIndex()+1};c.prototype.getOfferListingId=function(){return this._offerListingIdSelection};c.prototype.isChecked=function(){return this._checkbox.prop("checked")};c.prototype.getQuantity=
function(){return this._quantity.val()};c.prototype._setChecked=function(a){this._checkbox.prop("checked",a)};c.prototype._setSubscriptionQuantityRestricted=function(a){e.remove(this._shortTitle);a?(this._bindShortTitle(),b(this._checkbox).enable(),this._row.removeClass("monthly-warranty-text-disabled"),f("#MonthlyWarrantyWarning").addClass("aok-hidden")):(b(this._checkbox).isChecked()&&f("#MonthlyWarrantyWarning").removeClass("aok-hidden"),this._unbindShortTitle(),b(this._checkbox).uncheck(),b(this._checkbox).disable(),
this._row.addClass("monthly-warranty-text-disabled"),a={inlineContent:d.$("#popover-message").data("message"),position:"triggerLeft",closeButton:"false"},e.create(this._shortTitle,a))};c.prototype._setQuantity=function(a){this._quantity.val(a)};c.prototype._logReftag=function(a){this._mbb._reftag.log(a+(this._index+1),this._mbb._baseItemAsin,this._warrantyAsin)};c.prototype._bindModalYes=function(){var b=this;this._onModalYes=function(){b._logReftag("my");b._mbb._setChecked(b._index,!0);h.hide(b._modalName,
b._isSubscription);a.handleBaselink(b);a.handleATC(b)};this._modalYes.bind("click",this._onModalYes)};c.prototype._unbindModalYes=function(){this._modalYes.unbind("click",this._onModalYes)};c.prototype._bindModalNo=function(){var b=this;this._onModalNo=function(){b._logReftag("mn");b._mbb._setChecked(b._index,!1);h.hide(b._modalName,b._isSubscription);a.handleBaselink(b);a.handleATC(b)};this._modalNo.bind("click",this._onModalNo)};c.prototype._unbindModalNo=function(){this._modalNo.unbind("click",
this._onModalNo)};c.prototype._bindShortTitle=function(){this._shortTitle.unbind("click",l);this._shortTitle.bind("click",this._onShortTitle);h.create(this._shortTitle,this._modalName,this._mbb._modalHeader,this._isSubscription)};c.prototype._unbindShortTitle=function(){this._shortTitle.unbind("click",this._onShortTitle);this._shortTitle.bind("click",l);h.remove(this._modalName,this._isSubscription)};c.prototype._bindQuantity=function(){this._onQuantityChange=null;if(this._mbb._type.hasQuantity){var b=
this;this._onQuantityChange=a.bindQuantityChange(function(a){b._setQuantity(a)})}};c.prototype._unbindQuantity=function(){a.unbindQuantityChange(this._onQuantityChange)};c.prototype._bindCheckbox=function(){var b=this;this._onCheckboxChange=function(){var c=b.isChecked();b._mbb._setChecked(b._index,c);b._logReftag(c?"cy":"cn");a.handleBaselink(b);a.handleATC(b)};this._checkbox.bind("change",this._onCheckboxChange)};c.prototype._unbindCheckbox=function(){this._checkbox.bind("change",this._onCheckboxChange)};
c.prototype._bindBuyBoxAccordion=function(){var b=this;this._onBuyBoxAccordion=a.bindBuyBoxAccordion(function(){b._setChecked(!1);a.handleBaselink(b);a.handleATC(b)})};c.prototype._unbindBuyBoxAccordion=function(){a.unbindBuyBoxAccordion(this._onBuyBoxAccordion)};return c});"use strict";k.when("A","wty:MbbTypes","wty:Mbb").register("mbb",function(d,h,a){function b(){this._mbbs={}}var e=new b;d.on("mbb:loaded",function(b,c,f){var g=h.getType(f);if(g){var k=e._mbbs[f];k&&k._destroy();k=new a(b,c,g);
e._mbbs[f]=k;d.trigger("mbb:ready",f)}});b.prototype.getMbb=function(a){return this._mbbs[a]};return e})});
/* ******** */
(function(l){var n=window.AmazonUIPageJS||window.P,r=n._namespace||n.attributeErrors,a=r?r("DetailPageAlohaAssets",""):n;a.guardFatal?a.guardFatal(l)(a,window):a.execute(function(){l(a,window)})})(function(l,n,r){l.when("A").register("aloha-cartapi",function(a){return{createAddToCartRequest:function(h,f,d,c,b,e){e=e||5E3;b=b||c;var k={items:[]};return{count:function(){return k.items.length},call:function(){0<k.items.length&&a.$.ajax({url:h,xhrFields:{withCredentials:!0},type:"POST",headers:{"Content-Type":'application/vnd.com.amazon.api+json; type\x3d"cart.add-items.request/v1"',
Accept:'application/vnd.com.amazon.api+json; type\x3d"cart.add-items/v1"',"Accept-Language":"en-US","x-api-csrf-token":f},data:JSON.stringify(k),timeout:e,success:d,error:c,abort:b})},addItem:function(a,b,d){k.items.push({asin:a,offerListingId:b,quantity:Number(d||1)})}}}}});"use strict";l.when("A","a-modal","a-checkbox","aloha-simplebundle-common","ready").execute(function(a,h,f,d){function c(){a.declarative("show-review-tab","click",function(d){a.$(d.$target).closest(b.AUI_PAGE_ROOT).find(".popoverReviewsTab").click()});
a.declarative("add-to-cart","click",function(d){a.$(b.SB_ROOT+" "+b.SB_BUYBOX_ITEM_CHECKBOX+" "+b.INPUT_TYPE_CHECKBOX).filter(function(){return a.$(this).data("asin")===d.data.asin}).prop("checked",!0).change();a.$("[id^\x3dpopover-simpleBundle-]").each(function(){var b=h.get(a.$(this));b.isActive()&&b.hide()})});a.declarative("focus-image","mouseenter",function(a){var d=a.$target,f=d.parents(b.AUI_PAGE_ROOT);a=a.data;f.find("#productImageMain-"+a.asin).attr("src",a.imageUrl);f.find(".thumbnail-group").removeClass("a-button-selected");
f.find("#"+d.prop("name")).addClass("a-button-selected")})}var b={BUYBOX_ACCORDION:"#buyBoxAccordion",ADD_TO_CART_FORM:"#addToCart, #buyBackBuyNow",ADD_TO_CART_ATTACH_BUTTON:"#add-to-cart-button.attach-dss-atc:button",SESSION_ID:"#session-id",OFFER_LISTING_ID:"#offerListingID, #oid",AUI_MODAL_SCROLLER:".a-modal-scroller",AUI_PAGE_ROOT:"#a-page",INPUT_TYPE_CHECKBOX:"input[type\x3d'checkbox']",BASE_PRODUCT_PRICE:"#base-product-price",BASE_PRODUCT_PRICE_DATA:"base-product-price",SB_ROOT:".showBundleAsins.simpleBundleFeatureContainer",
SB_EXPANDED_MODAL_EXPANDER_HEADER_PREFIX:".simple-bundle-item-expand-header-",SB_EXPANDED_MODAL_EXPANDER_CONTENT_PREFIX:".simple-bundle-item-expander-content-",SB_EXPANDED_MODAL_LINK:".simple-bundle-buybox-expanded-modal-link",SB_EXPANDED_MODAL_ITEM_LINK_PREFIX:".simple-bundle-item-link-",SB_ACCESSORY_ITEM_LINK_PREFIX:".popover-simpleBundle-link-",SB_BUYBOX_ITEM_CHECKBOX:".simple-bundle-buybox-item-checkbox",SB_BUYBOX_CHECKBOX_PREFIX:".simple-bundle-item-",SB_EXPANDED_CHECKBOX_PREFIX:".simple-bundle-modal-item-",
SB_EXPANDER_TITLE:".aloha-simple-bundle-expand-header-title"},e=!1;f=a.debounce(function(){var f=a.$(b.SB_ROOT);if(f.length){var g=a.$(b.ADD_TO_CART_FORM),h=g.find(":submit").length&&g.find(b.OFFER_LISTING_ID).val(),n=a.$(b.ADD_TO_CART_ATTACH_BUTTON),l=n.length;if(h||l){c();var m=d.getSimpleBundlePageState()||{},r=m.selectionMode||"SINGLE",q=m.items||[],t=m.csrfToken,A=m.cartEndpoint,x=[],y=f.find(b.SB_EXPANDED_MODAL_LINK),E={baseAsin:m.baseAsin,marketplaceId:m.marketPlaceId,baseItemPrice:a.$(b.BASE_PRODUCT_PRICE).data(b.BASE_PRODUCT_PRICE_DATA),
clientType:"aloha-simplebundle-desktop",currencyOfPreferenceSupported:m.currencyOfPreferenceSupported||!1},u=d.createMetricsLogger(E);e||(e=!0,a.defer(function(){u.logNexusImpression(q);u.logImpressionRefTag()}));y.click(function(a){a.originalEvent&&u.logExpandedLink()});q.forEach(function(a,c){f.find(b.SB_EXPANDED_MODAL_EXPANDER_HEADER_PREFIX+c);var p=f.find(b.SB_ACCESSORY_ITEM_LINK_PREFIX+c);p.unbind("click.MiniDpClickHandler");p.bind("click.MiniDpClickHandler",function(){u.logItemLink(c);u.logNexusOpenMiniDP(c,
a);u.logMiniDPRefTag(c)});d.setupCheckboxes(x,c,a,m.maxBuyboxItemsDesktop,b.SB_BUYBOX_CHECKBOX_PREFIX+c+" "+b.INPUT_TYPE_CHECKBOX,b.SB_EXPANDED_CHECKBOX_PREFIX+c+" "+b.INPUT_TYPE_CHECKBOX,b.SB_BUYBOX_CHECKBOX_PREFIX+c,b.SB_EXPANDED_CHECKBOX_PREFIX+c,r)});y=a.$(b.BUYBOX_ACCORDION);y.length?y.children().each(function(){g=a.$(this).find(b.ADD_TO_CART_FORM);var f=g.find(b.ADD_TO_CART_ATTACH_BUTTON),c=f.length,p=g.find(b.SB_ROOT).length,F=g.find(":submit").length&&g.find(b.OFFER_LISTING_ID).val();p&&F&&
d.setupAddToCart(g,x,q,u,A,t);c&&d.setupAddToCartForButton(f,x,q,u,g)}):(h&&d.setupAddToCart(g,x,q,u,A,t),l&&d.setupAddToCartForButton(n,x,q,u,g))}else f.hide()}},200);f();a.on("a:pageUpdate",f)});"use strict";l.when("A","a-checkbox","aloha-cartapi","aloha-buy-now-integration","aloha-buybox-form-util","aloha-buy-back-integration","abb-buynow-api").register("aloha-simplebundle-common",function(a,h,f,d,c,b,e){function k(b,f){var d=a.$(b);d.change(function(){d.prop("checked",this.checked);var a={asin:d.data("asin"),
offeringID:d.data("offeringID"),quantity:d.data("quantity")};this.checked?(e.addFormParams("#buyNow",a),e.addFormParams("#buyBackBuyNow",a),e.addFormParams("#buyNowCheckout",a)):(e.removeFormParams("#buyNow",a),e.removeFormParams("#buyBackBuyNow",a),e.removeFormParams("#buyNowCheckout",a))});var c=a.$(f);c.length||(c=d);return{$element:d,$container:c,api:h(b),show:function(){c.hasClass(q.AUI_HIDDEN)&&c.removeClass(q.AUI_HIDDEN);c.show()},hide:function(){c.hasClass(q.AUI_HIDDEN)||c.addClass(q.AUI_HIDDEN)},
isVisible:function(){return!c.hasClass(q.AUI_HIDDEN)}}}function g(a,b,d){b.forEach(function(b){a.addItem(b.asin,b.offerListingId,b.quantity);d.logCheckboxSelected(b.index,b.quantity);d.logAddToCartRefTag(b.index)})}function w(a,b,d){var c=[],f=[];b.forEach(function(b,e){var g=a[e];b.api.isChecked()?c.push({asin:g.asin,offerListingId:g.offerListingId,ourPrice:g.ourPrice,ourPriceAmount:g.ourPriceAmount,ourPriceSymbol:g.ourPriceSymbol,ourPriceCode:g.ourPriceCode,index:e,quantity:d}):f.push({asin:g.asin,
ourPrice:g.ourPrice,ourPriceAmount:g.ourPriceAmount,ourPriceSymbol:g.ourPriceSymbol,ourPriceCode:g.ourPriceCode,index:e,isVisible:b.isVisible()})});return{selectedLineItems:c,unselectedItems:f}}var r=/[^\d,\.]/g,z=/,/g,m=/\./g,D=/(^\D+|\D+$)/,q={AUI_HIDDEN:"aok-hidden"};return{createMetricsLogger:function(b){function d(b,a){n.ue&&n.ue.count&&n.ue.count("aloha-simplebundle-"+b,a)}function c(){var a;a=b.currencyOfPreferenceSupported?{priceFormatted:b.baseItemPrice,priceDecimal:null,currencySymbol:null}:
k(b.baseItemPrice);return{baseAsin:b.baseAsin,baseItemPrice:a.priceFormatted,baseItemCurrencySymbol:a.currencySymbol,baseItemPriceDecimal:a.priceDecimal,clientType:b.clientType,feature:"abb"}}function f(a,d){n.ue&&n.ue.event&&(a.requestId=h,a.producerId="atch",a.obfuscatedMarketplaceId=b.marketplaceId,n.ue.event(a,"atch",d,{ssd:!0}))}function e(b){a.ajax("/gp/product/ajax-handlers/reftag.html?ref_\x3d"+b,{method:"get"})}function g(a){return b.currencyOfPreferenceSupported?{priceFormatted:a.ourPrice,
priceDecimal:parseFloat(a.ourPriceAmount)||null,currencySymbol:a.ourPriceSymbol}:k(a.ourPrice)}function k(a){a=a||"";var b=a.lastIndexOf(","),d=a.lastIndexOf("."),c;b>d?(d=m,c=z):(d=z,c=m);(b=a.match(D))&&(b=b[0].trim());d=a.replace(r,"").replace(d,"").replace(c,".");d=parseFloat(d);return{priceFormatted:a,currencySymbol:b,priceDecimal:d}}var h=Date.now().toString(10)+Math.random().toString(16).substring(2,13);a.defer(function(){d("view",1)});return{logAddToCart:function(a){d("addtocart",a)},logExpandedLink:function(){d("buybox-expanded-link",
1)},logCheckboxSelected:function(a,b){d("checkbox-"+(a+1),b)},logItemLink:function(a){d("link-"+(a+1),1)},logImpressionRefTag:function(){e("dp_atch_abb_i")},logAddToCartRefTag:function(a){e("dp_atch_abb_atc_"+(a+1))},logMiniDPRefTag:function(a){e("dp_atch_abb_smdp_"+(a+1))},logNexusImpression:function(a){var b=c();b.accessories=a.map(function(a,b){var d=g(a);return{asin:a.asin,displayPosition:b+1,price:d.priceFormatted,currencySymbol:d.currencySymbol,priceDecimal:d.priceDecimal}});f(b,"attach.ABBImpression.5")},
logNexusAddBaseToCart:function(a,b,d){var e=c();e.baseQuantity=Number(d);e.accessoriesAdded=a.map(function(a){var b=g(a);return{asin:a.asin,displayPosition:a.index+1,quantity:Number(a.quantity),price:b.priceFormatted,currencySymbol:b.currencySymbol,priceDecimal:b.priceDecimal}});e.accessoriesNotAdded=b.map(function(a){var b=g(a);return{asin:a.asin,displayPosition:a.index+1,price:b.priceFormatted,currencySymbol:b.currencySymbol,priceDecimal:b.priceDecimal}});f(e,"attach.ABBAddBaseToCart.9")},logNexusOpenMiniDP:function(a,
b){var d=g(b),e=c();e.accessoryAsin=b.asin;e.accessoryDisplayPosition=Number(a)+1;e.accessoryPrice=d.priceFormatted;e.accessoryItemCurrencySymbol=d.currencySymbol;e.accessoryItemPriceDecimal=d.priceDecimal;f(e,"attach.ABBShowMiniDP.4")}}},getSimpleBundlePageState:function(){var b=a.$(".simpleBundleJavascriptParameters").find("script").html();return a.parseJSON(b)},getCheckboxCollectionObject:k,setupAddToCart:function(c,e,k,h,l,u){function q(c,C){if(B){var v=a.$(c.currentTarget);if(d.isBuyNow(v)){var m=
p.find("*[name\x3d'quantity']").val()||1,t=w(k,e,m);d.checkoutWith(t.selectedLineItems,v)}else if(b.isBuyBack(v))m=p.find("*[name\x3d'quantity']").val()||1,t=w(k,e,m),b.checkoutWith(t.selectedLineItems,v);else return}var r=f.createAddToCartRequest(l,u,function(){C()},function(){n.ueLogError&&n.ueLogError({message:"[There was an error while adding items to the cart using the universal add to cart api.]"},{logLevel:"ERROR",attribution:"SimpleBundle"});C()}),m=p.find("*[name\x3d'quantity']").val()||
1,t=w(k,e,m);g(r,t.selectedLineItems,h);v=t.unselectedItems.filter(function(a){return a.isVisible});h.logNexusAddBaseToCart(t.selectedLineItems,v,m);m=r.count();0!==m&&(v=a.$(c.currentTarget),d.isBuyNow(v)?d.checkoutWith(t.selectedLineItems,v):b.isBuyBack(v)?b.checkoutWith(t.selectedLineItems,v):(B=!0,c.preventDefault(),h.logAddToCart(m),r.call()))}var B=!1,p=c;c.unbind("submit.SimpleBundleSubmitHandler");c.bind("submit.SimpleBundleSubmitHandler",function(b){var d=a.$(this);q(b,function(){d.submit()})});
c.find(":submit").unbind("click.SBB");c.find(":submit").bind("click.SBB",function(b){var d=a.$(this),f=d.closest(".a-accordion-row-container");f.length&&(p=f,"addToCart"!==c.attr("id")&&"buyNow"!==c.attr("id")||c.unbind("submit.SimpleBundleSubmitHandler"),q(b,function(){d.click()}))})},setupAddToCartForDeclarative:function(a,b,d,c,e,k,h){a.unbind("click.SimpleBundleClickHandler");a.bind("click.SimpleBundleClickHandler",function(a){a=f.createAddToCartRequest(e,k,function(){l.now("attach-external-atc-interceptor").execute(function(a){a&&
m.selectedLineItems.forEach(function(b){a.updateAttachModule(b.asin)})})},function(){n.ueLogError&&n.ueLogError({message:"[There was an error while adding items to the cart using the universal add to cart api.]"},{logLevel:"ERROR",attribution:"SimpleBundle"})});var p=h.find("*[name\x3d'quantity']").val()||1,m=w(d,b,p);g(a,m.selectedLineItems,c);var t=m.unselectedItems.filter(function(a){return a.isVisible});c.logNexusAddBaseToCart(m.selectedLineItems,t,p);if(p=a.count())c.logAddToCart(p),a.call()})},
setupCheckboxes:function(b,d,c,f,e,g,h,m,p){var l=k(e,h);b.push(l);l.api.enable();l.$element.data("asin",c.asin);l.$element.data("offeringID",c.offerListingId);l.$element.data("quantity",1);a.on("a:dropdown:mobileQuantityDropDown:select",function(a){l.$element.data("quantity",a.value)});a.on("a2idpx:buyback:discount-price",function(a){l.$element.change()});"SINGLE"===p&&l.$element.change(function(){l.api.isChecked()&&b.forEach(function(a,b){d!==b&&a.api.uncheck()})})},setupAddToCartForButton:function(b,
d,f,e,g){function k(){var a=h.find("*[name\x3d'quantity']").val()||1,b=w(f,d,a);c.addItems(g,b.selectedLineItems,e);var m=b.unselectedItems.filter(function(a){return a.isVisible});l.now("attach-external-atc-interceptor").execute(function(a){a&&b.selectedLineItems.forEach(function(b){a.updateAttachModule(b.asin)})});e.logNexusAddBaseToCart(b.selectedLineItems,m,a);e.logAddToCart(b.selectedLineItems.length)}var h=g;b.unbind("click.button.SBB");b.bind("click.button.SBB",function(){var b=a.$(this).closest(".a-accordion-row-container");
b.length&&(h=b);k()})}}});l.when("A","ready").register("abb-buynow-api",function(a){var h=function(f){return a.$(f+" \x3e input[name\x3dofferingID]")};return{addFormParams:function(f,d){var c=a.$(f+" \x3e input[name\x3dasin]"),b=h(f);f=a.$(f+" \x3e input[name\x3dquantity]");if((c=a.$(c))&&0!==c.length&&c.val()&&-1===c.val().indexOf(d.asin)&&a.$(f)&&0!==a.$(f).length&&a.$(f).val()&&a.$(b)&&0!==a.$(b).length&&a.$(b).val()){var e=c.val()+"|"+d.asin,k=a.$(b).val()+"|"+d.offeringID;d=a.$(f).val()+"|"+
d.quantity;c.val(e);a.$(b).val(k);a.$(f).val(d)}},removeFormParams:function(f,d){var c=a.$(f+" \x3e input[name\x3dasin]"),b=h(f);f=a.$(f+" \x3e input[name\x3dquantity]");if((c=a.$(c))&&0!==c.length&&c.val()&&-1!==c.val().indexOf(d.asin)&&a.$(f)&&0!==a.$(f).length&&a.$(f).val()&&a.$(b)&&0!==a.$(b).length&&a.$(b).val()){var e=c.val().split("|");d=e.indexOf(d.asin);e.splice(d,1);c.val(e.join("|"));c=a.$(b).val().split("|");c.splice(d,1);a.$(b).val(c.join("|"));b=a.$(f).val().split("|");b.splice(d,1);
a.$(f).val(b.join("|"))}}}});"use strict";l.when("A").register("aloha-buy-now-integration",function(a){var h=a.$,f={};l.when("turbo-checkout-buy-now-integration").execute(function(a){f=a});return{isBuyNow:function(a){return 0===Object.entries(f).length&&f.constructor===Object?"buy-now-button"===a.attr("id")||"addToCart"===a.attr("id"):"function"===typeof f.isBuyNow&&f.isBuyNow(a)||"buy-now-button"===a.attr("id")},checkoutWith:function(a,c){if(0===Object.entries(f).length&&f.constructor===Object){var b;
for(b=1;0<c.find('input[name\x3d"asin.'+b+'"]').length||0<c.find('input[name\x3d"offeringID.'+b+'"]').length;)b++;for(var e=[],k=0;k<a.length;k++){var g=a[k];if(g!==r&&g.asin&&g.offerListingId){var l=b,g=[h("\x3cinput /\x3e",{type:"hidden",name:"asin."+l,value:g.asin}),h("\x3cinput /\x3e",{type:"hidden",name:"offeringID."+l,value:g.offerListingId}),h("\x3cinput /\x3e",{type:"hidden",name:"quantity."+l,value:g.quantity||1})];Array.prototype.push.apply(e,g);b++}else logError('Line item inputs are invalid. Expected "asin" and "offerListingId" keys in object. Customer purchase inputs ignored!',
g)}a=c.find('input[name\x3d"itemCount"]');1===a.length?a.val(b):c.append(h("\x3cinput /\x3e",{type:"hidden",name:"itemCount",value:b}));c.append.apply(c,e)}else return f.checkoutWith(a,c)}}});"use strict";l.when("A").register("aloha-buy-back-integration",function(a){var h=a.$;return{isBuyBack:function(a){return"buyBackBuyNow"===a.attr("id")},checkoutWith:function(a,d){var c;for(c=1;0<d.find('input[name\x3d"asin.'+c+'"]').length||0<d.find('input[name\x3d"offeringID.'+c+'"]').length;)c++;for(var b=
[],e=0;e<a.length;e++){var k=a[e];if(k!==r&&k.asin&&k.offerListingId){var g=c,k=[h("\x3cinput /\x3e",{type:"hidden",name:"asin."+g,value:k.asin}),h("\x3cinput /\x3e",{type:"hidden",name:"offeringID."+g,value:k.offerListingId}),h("\x3cinput /\x3e",{type:"hidden",name:"quantity."+g,value:k.quantity||1})];Array.prototype.push.apply(b,k);c++}else logError('Line item inputs are invalid. Expected "asin" and "offerListingId" keys in object. Customer purchase inputs ignored!',k)}a=d.find('input[name\x3d"itemCount"]');
1===a.length?a.val(c):d.append(h("\x3cinput /\x3e",{type:"hidden",name:"itemCount",value:c}));d.append.apply(d,b)}}});"use strict";l.when("A").register("aloha-buybox-form-util",function(a){function h(a){for(var c=2;0<a.find('input[name\x3d"asin.'+c+'"]').length||0<a.find('input[name\x3d"offeringID.'+c+'"]').length;)c++;return c}function f(a,c){for(;0<a.find('input[name\x3d"asin.'+c+'"]').length||0<a.find('input[name\x3d"offeringID.'+c+'"]').length;)c++;return c}function d(b,c){return[a.$("\x3cinput /\x3e",
{type:"hidden",name:"asin."+c,value:b.asin,class:"aloha-accessory-form-input"}),a.$("\x3cinput /\x3e",{type:"hidden",name:"offeringID."+c,value:b.offerListingId,class:"aloha-accessory-form-input"}),a.$("\x3cinput /\x3e",{type:"hidden",name:"quantity."+c,value:b.quantity||1,class:"aloha-accessory-form-input"})]}var c=[];a.on("aloha:detailPage:reappear",function(){c=[];a.$(".aloha-accessory-form-input").remove()});return{addItems:function(a,e,k){var g=h(a);e.forEach(function(e){if(e!==r&&e.asin&&e.offerListingId){g=
f(a,g);var h=d(e,g);h.forEach(function(c){a.append(c)});c.push(h);g++;k&&(k.logCheckboxSelected(e.index,e.quantity),k.logAddToCartRefTag(e.index))}});e=a.find('input[name\x3d"itemCount"]');0===e.length?a.append('\x3cinput type\x3d"hidden" name\x3d"itemCount" value\x3d"'+g+'"\x3e'):e[0].value=g}}})});
/* ******** */
(function(q){var n=window.AmazonUIPageJS||window.P,y=n._namespace||n.attributeErrors,a=y?y("DetailPageAttachAssets",""):n;a.guardFatal?a.guardFatal(q)(a,window):a.execute(function(){q(a,window)})})(function(q,n,y){"use strict";q.when("A").register("attach-variant-registration",function(a){var b={};return{registerVariantFlag:function(a){if(b.hasOwnProperty(a))throw"Variant flag already registered";b[a]=!0},getVariantFlag:function(a){return b.hasOwnProperty(a)}}});"use strict";q.when("A").register("attach-baselink",
function(a){var b=null;q.when("BaseLinkFormHelper").execute(function(a){b=a});var f=function(a){n.ueLogError&&n.ueLogError({message:"msi - "+a},{logLevel:"ERROR",attribution:"Mobile_App_SI_Base_Link"})};return{createBaseLinkFormFields:function(a,g){return b?b.addBaseLinkFields(a,g):null},addLinkedWarranty:function(b,g,m){a.ajax("/gp/product/amazon-protect/base-link/services/warranty-service.html",{method:"post",params:b,timeout:1E3,success:function(a){a&&a.status&&"OK"===a.status&&g()},error:function(){m()}})},
obtainBaseItemCartId:function(b){a.ajax("/gp/product/amazon-protect/base-link/services/last-added-cart-item-id.html",{method:"post",timeout:1E3,success:function(a){a&&a.status&&a.lastAddedItemCartId?b(a.lastAddedItemCartId):f("Error while doing a call to last-added-cart-item-id.html. Status: "+a.status)},error:function(a,b,d){f("Error while doing a call to last-added-cart-item-id.html. Status: "+b+" . Error: "+d)}})},mSilogError:f}});"use strict";q.when("A").register("attach-external-atc-interceptor",
function(a){var b=a.$,f=[],e=[],g=!1,m=!1,d=function(){m=!0},c=function(a){var d=e.indexOf(a);-1<d&&(a=b("#attach_add_accessory_alert_"+d),d=b("#attach_add_accessory_button_"+d),a&&d&&(a.removeClass("aok-hidden"),d.addClass("aok-hidden")))};return{updateAttachModule:function(a){d&&(g?c(a):f.push(a))},loadAttachModule:function(a){if(m)for(g=!0,e=a;0<f.length;)a=f.shift(),c(a)},unloadAttachModule:function(){g=!1;e=[]},enableModule:d}});"use strict";q.when("A").register("attach-preinitiate-checkout",
function(a){return{getCartInitiateId:function(){return(new Date).getTime()},preinitiateCheckout:function(b){var f;f=a.$("#attach-desktop-sideSheet");var e=a.$("#attach_accessory_sheet");f=f.length?f:e;f.find("iframe#checkoutPrefetch").remove();b="/gp/cart/checkout-prefetch.html?\x26cartInitiateId\x3d"+b;e=document.createElement("iframe");e.setAttribute("src",b);e.setAttribute("style","width:0px;height:0px;display:none;position:absolute;");e.setAttribute("name","checkoutPrefetch");e.setAttribute("id",
"checkoutPrefetch");f.append(e)}}});"use strict";q.when("A","attach-common","attach-variant-registration").register("attach-weblabs",function(a,b,f){function e(b){var d=a.$(b).val();b=[];if(d&&0<d.length)for(var d=d.slice(1,-1).split(","),m=0;m<d.length;m++){var g=d[m].trim();0<g.length&&b.push(g)}return b}var g={},m=g.Selectors={CORE_FREE_SHIPPING_MESSAGE:"#attach-core-free-shipping-message",WEBLABS_TO_TRIGGER_ON_ADD_TO_CART:"#attach-weblabsToTriggerOnAddToCart",SHOW_ACCESSORY_COUPONS_DSS:"#attach-accessory-coupons-dss",
SHOW_ACCESSORY_COUPONS_MBS:"#attach-accessory-coupons-mbs",DEBUG_IS_DEBUG:"#attach-debug-isDebug",DEBUG_QUERY_STRING:"#attach-debug-queryString",ATTACH_MARKETPLACE_ID:"#attach-marketplaceId",WTY_TWISTER_CONTAINER:"#warranty-twister-container",ATTACH_LD_SUPPORT:"#attach-ld-container",WTY_LD_SUPPORT:"#warranty-ld-launch"},d=g.Marketplaces={IN:"A21TJRUUN4KGV"};g.isWarrantyPaneSuppressed=function(){return a.$(m.ATTACH_MARKETPLACE_ID).val()===d.IN&&(!g.servicesInterstitialDeprecated()||b.hasAccessories())};
g.isShowAccessoryCouponsDssEnabled=function(){return b.elementExists(m.SHOW_ACCESSORY_COUPONS_DSS)};g.isShowAccessoryCouponsMbsEnabled=function(){return b.elementExists(m.SHOW_ACCESSORY_COUPONS_MBS)};g.isCoreFreeShippingMessageEnabled=function(){return b.elementExists(m.CORE_FREE_SHIPPING_MESSAGE)};g.isInstallmentsDssIntegrationEnabled=function(){return f.getVariantFlag("DP_INSTALLMENTS_DSS_231673:T1")};g.isAttachDebugParametersEnabled=function(){return 0<a.$(m.DEBUG_IS_DEBUG).length||0<a.$(m.DEBUG_QUERY_STRING).length};
g.isWarrantyTwisterPlusDesktopEnabled=function(){return 0<a.$(m.WTY_TWISTER_CONTAINER).length};g.isAttachLDSupportEnabled=function(){return b.elementExists(m.ATTACH_LD_SUPPORT)};g.isWarrantyLDSupportEnabled=function(){return b.elementExists(m.WTY_LD_SUPPORT)};g.servicesInterstitialDeprecated=function(){return b.elementExists("#attachSIDeprecated")};g.getAllWeblabsToTriggerClientSide=function(){return e(m.WEBLABS_TO_TRIGGER_ON_ADD_TO_CART).map(function(a){return a.split(":")})};g.triggerClientSideWeblabs=
function(){var a=g.getAllWeblabsToTriggerClientSide();if(0<a.length)for(var b=0;b<a.length;b++){var d=a[b];n.ue&&ue.count&&ue.count("Attach.ClientSideWeblab."+d[0]+":"+d[1],1);n.ue&&ue.trigger&&ue.trigger(d[0],d[1])}};return g});"use strict";q.when("A").register("attach-logging",function(a){var b={},f,e,g;b.NEXUS={PRODUCER_ID:"atch",ACCESSORY_IMPRESSIONS_PREFIX:"attach.AccessoryImpressions.",ACCESSORY_IMPRESSIONS_SCHEMA_VERSION:"10",ADD_ACCESSORY_PREFIX:"attach.AddAccessoryToCart.",ADD_ACCESSORY_SCHEMA_VERSION:"14",
ADD_WARRANTY_PREFIX:"attach.AddWarrantyToCart.",ADD_WARRANTY_SCHEMA_VERSION:"5",ADD_WARRANTY_FAILURE_PREFIX:"attach.AddWarrantyToCartFailure.",ADD_WARRANTY_FAILURE_SCHEMA_VERSION:"3",WARRANTY_IMPRESSION_PREFIX:"attach.WarrantyImpression.",WARRANTY_IMPRESSION_SCHEMA_VERSION:"6",DSS_WARNING_MESSAGE_PREFIX:"attach.DssWarningMessages.",DSS_WARNING_MESSAGE_VERSION:"2",PROMOTION_CLAIMED_PREFIX:"attach.ClaimPromotion.",PROMOTION_CLAIMED_SCHEMA_VERSION:"2",ACCESSORY_TYPE:{ACCESSORY:"accessory",WARRANTY:"warranty"}};
b.FEATURES={DSS:"dss",MBS:"mbs"};b.CSM_METRICS={ATTACH_BASE_ATC_CLICK:"attachDesktopBaseATCClick",ATTACH_BASE_ATC_FAILURE:"ATTACH_DSS_ADD_BASE_FAILURE",ATTACH_BASE_ATC_SUCCESS:"ATTACH_DSS_ADD_BASE_SUCCESS",ATTACH_CART_CLICK:"ATTACH_DSS_CART_BUTTON_CLICK",ATTACH_CHECKOUT_CLICK:"ATTACH_DSS_CHECKOUT_CLICK",ATTACH_GET_CART_DESCRIPTION_FAILURE:"ATTACH_DSS_GET_CART_DESCRIPTION_AJAX_FAILURE",ATTACH_GET_CART_DESCRIPTION_SUCCESS:"ATTACH_DSS_GET_CART_DESCRIPTION_AJAX_SUCCESS",ATTACH_SHOW_LESS:"attachDesktopShowLess",
ATTACH_SHOW_MORE:"attachDesktopShowMore",ATTACH_SIDE_SHEET_CLOSE:"attachDesktopSideSheetClose",ATTACH_UPSELL_ATC_CLICK:"attachDesktopUpsellATCClick",ATTACH_UPSELL_ATC_FAILURE:"ATTACH_DSS_ADD_ACCESSORY_FAILURE",ATTACH_UPSELL_ATC_LATENCY:"attach_desktop_upsell_atc_latency",ATTACH_UPSELL_ATC_SUCCESS:"ATTACH_DSS_ADD_ACCESSORY_SUCCESS",MINI_DP_ATC:"attachDesktopMiniDPATC",MINI_DP_BACK:"attachDesktopMiniDPBack",MINI_DP_CANCEL:"attachDesktopMiniDPCancel",MINI_DP_CAROUSEL_THUMBNAIL_CHANGE:"attachDesktopMiniDPCarouselThumbnailChange",
MINI_DP_DWELL_TIME:"attach_desktop_mini_dp_dwell_time",MINI_DP_OPEN:"attachDesktopMiniDPOpen",ATTACH_MBS_BASE_ATC_CLICK:"AttachMbsBaseItemAtcClick",DSS_BASE_LD_ATC_CLICK:"attachDesktopBaseLightningDealAtcClick",MBS_BASE_LD_ATC_CLICK:"attachMobileBaseLightningDealAtcClick",ATTACH_BASE_LD_MISSING_TIMER:"attachBaseLightningDealMissingTimer",ATTACH_BASE_LD_PRESENT:"attachBaseLightningDeal",ATTACH_BASE_LD_WARRANTY_SUCCESS:"attachBaseLightningDealAddWarrantySuccess",ATTACH_BASE_LD_WARRANTY_FAILURE:"attachBaseLightningDealAddWarrantyFailure",
ATTACH_BASE_LD_DEAL_STATUS_ERROR:"attachBaseLightningDealStatusError"};b.ENDPOINTS={REF_TAG:"/gp/product/ajax-handlers/reftag.html?ref_\x3d"};b.initialize=function(a,d){f=a;e=d;b.REF_TAGS={WARRANTY_IMPRESSION:"dp_atc_"+a+"_w_i_",WARRANTY_ADD_TO_CART:"dp_atc_"+a+"_w_y_"}};b.setPayloadBuilder=function(a){g=function(){var d=a();d.feature=f;d.obfuscatedMarketplaceId=e||n.ue_mid;d.producerId=b.NEXUS.PRODUCER_ID;d.requestId=b.getRandomHexString();return d}};b.getRandomHexString=function(){return Date.now().toString(10)+
Math.random().toString(16).substring(2,13)};b.log=function(a,d){n.ue&&n.ue.event&&n.ue.event(a,b.NEXUS.PRODUCER_ID,d,{ssd:!0})};b.getAccessoryLoggingData=function(b){return{asin:a.$("#attach-accessory-asin-"+(parseInt(b)+1)).val(),index:b,priceFormatted:a.$("#attach-accessory-price-"+b+" \x3e .a-offscreen").text(),priceDecimal:parseFloat(a.$("#attach-accessory-base-price-"+b).val())||null,currencySymbol:a.$("#attach-accessory-base-currency-symbol-"+b).val()||null,couponDecimal:parseFloat(a.$("#attach-accessory-coupon-benefit-amount-"+
b).val())||null,couponType:a.$("#attach-accessory-coupon-benefit-type-"+b).val()||null,dealType:a.$("#attach-accessory-deal-type-"+b).val()||null,dealPercentSavings:parseInt(a.$("#attach-accessory-deal-percent-savings-"+b).val())||null,dealDollarAmount:a.$("#attach-accessory-deal-dollar-savings-"+b).val()||null,categoryIndex:a.$("#attach-accessory-category-index-"+b).val()||null,categoryTitle:a.$("#attach-accessory-category-title-"+b).val()||null,asinIndexWithinCategory:a.$("#attach-accessory-asin-category-index-"+
b).val()||null}};b.logAccessoryAddToCart=function(a){var d=b.NEXUS.ADD_ACCESSORY_PREFIX+b.NEXUS.ADD_ACCESSORY_SCHEMA_VERSION,c=g();c.type=b.NEXUS.ACCESSORY_TYPE.ACCESSORY;c.displayPosition=parseInt(a.index)+1;c.accessoryAsin=a.asin;c.accessoryAsinPrice=a.priceFormatted;c.accessoryItemCurrencySymbol=a.currencySymbol;c.accessoryItemPriceDecimal=a.priceDecimal;c.couponType=a.couponType;c.couponDecimal=a.couponDecimal;c.dealType=a.dealType;c.dealPercentSavings=a.dealPercentSavings;c.dealDollarAmount=
a.dealDollarAmount;c.categoryDisplayPosition=parseInt(a.categoryIndex)+1;c.categoryTitle=a.categoryTitle;c.displayPositionWithinCategory=parseInt(a.asinIndexWithinCategory)+1;b.log(c,d)};b.logAccessoryImpressions=function(a){var d=b.NEXUS.ACCESSORY_IMPRESSIONS_PREFIX+b.NEXUS.ACCESSORY_IMPRESSIONS_SCHEMA_VERSION,c=g();c.accessories=[];for(var e=0;e<a.length;e++){var k=a[e];c.accessories.push({displayPosition:parseInt(k.index)+1,asin:k.asin,price:k.priceFormatted,currencySymbol:k.currencySymbol,priceDecimal:k.priceDecimal,
couponType:k.couponType,couponDecimal:k.couponDecimal,dealType:k.dealType,dealPercentSavings:k.dealPercentSavings,dealDollarAmount:k.dealDollarAmount,categoryDisplayPosition:parseInt(k.categoryIndex)+1,categoryTitle:k.categoryTitle,displayPositionWithinCategory:parseInt(k.asinIndexWithinCategory)+1})}b.log(c,d)};b.logWarrantyAddToCart=function(a,d){var c=b.NEXUS.ADD_WARRANTY_PREFIX+b.NEXUS.ADD_WARRANTY_SCHEMA_VERSION;d&&(c=b.NEXUS.ADD_WARRANTY_FAILURE_PREFIX+b.NEXUS.ADD_WARRANTY_FAILURE_SCHEMA_VERSION);
var e=g();e.asin=a.asin;e.price=a.priceFormatted;e.warrantyCurrencySymbol=a.currencySymbol;e.warrantyPriceDecimal=a.priceDecimal;b.log(e,c);d||b.logWarrantyRefTag(b.REF_TAGS.WARRANTY_ADD_TO_CART,a.asin)};b.logWarrantyImpression=function(a){var d=b.NEXUS.WARRANTY_IMPRESSION_PREFIX+b.NEXUS.WARRANTY_IMPRESSION_SCHEMA_VERSION,c=g();c.asin=a.asin;c.price=a.priceFormatted;c.warrantyCurrencySymbol=a.currencySymbol;c.warrantyPriceDecimal=a.priceDecimal;b.log(c,d);b.logWarrantyRefTag(b.REF_TAGS.WARRANTY_IMPRESSION,
a.asin)};b.logWarrantyRefTag=function(a,d){var c=g().baseAsin;b.logRefTag(a+c+"_"+d)};b.logSecondarySheetRefTag=function(a){var d=g().baseAsin;b.logRefTag(a+"_"+d)};b.logRefTag=function(g){a.get(b.ENDPOINTS.REF_TAG+g)};b.logMobileBaseAtc=function(a){b.logCount(b.CSM_METRICS.ATTACH_MBS_BASE_ATC_CLICK);a&&a.data&&"add-to-cart"===a.data.buttonID&&b.logCount("DetailPage_MobileApp_AddToCart")};b.logMapleError=function(){n.ue&&n.ue.count&&n.ue.count("MAPLE::DSS::Error",(n.ue.count("MAPLE::DSS::Error")||
0)+1)};b.logCount=function(a,b){n.ue&&n.ue.count&&(b=b||1,n.ue.count(a,(n.ue.count(a)||0)+b))};b.logError=function(a,b,c){n.ueLogError&&n.ueLogError(a,{logLevel:b||"ERROR",attribution:c||"DetailPageAttachAssets"})};b.logDSSWarningMessage=function(a){var d=b.NEXUS.DSS_WARNING_MESSAGE_PREFIX+b.NEXUS.DSS_WARNING_MESSAGE_VERSION,c=g();b.log({quantity:c.quantity.toString(),baseAsin:c.baseAsin,warningMessage:a},d)};b.logPromotionClaimed=function(a){var d=b.NEXUS.PROMOTION_CLAIMED_PREFIX+b.NEXUS.PROMOTION_CLAIMED_SCHEMA_VERSION,
c=g();c.asin=a.asin;c.accessoryCurrencySymbol=a.currencySymbol;c.accessoryPriceDecimal=a.priceDecimal;c.displayPosition=a.index+1;null!==a.couponType&&(c.promoDecimal=a.couponDecimal,c.promoDecimalType=a.couponType,c.promoType="coupon");b.log(c,d)};b.isFunction=function(a){return"function"===typeof a};b.beginLatencyCapture=function(a){b.isFunction(n.uet)&&n.uet("bb",a,{wb:1})};b.endLatencyCapture=function(a){b.isFunction(n.uex)&&n.uex("ld",a,{wb:1})};return b});"use strict";q.when("A","attach-logging").register("attach-maple",
function(a,b){var f={},e;f.initialize=function(){e=!1};f.loadBannerHTML=function(){var g=a.$.Deferred(),f={};e&&(f.cart=null);a.post("/gp/cobrandcard/dss-maple-banner.html",{params:f,success:function(a){g.resolve(a)},error:function(){b.logMapleError();g.resolve(null)}});return g.promise()};f.suppressMathBox=function(){e=!0};f.updateMathBox=function(a){"undefined"!==typeof mapleMathBox&&null!==mapleMathBox&&mapleMathBox.updateMapleMath({totalCost:a})};return f});"use strict";q.when("A","attach-variant-registration",
"attach-logging").register("attach-common",function(a,b,f){function e(b){var k=g(b,r.UNIQ_ITEM_ASSOC_NAME),l=g(b,r.ITEM_ASSOC_TYPE_NAME),h=1,e=!1;null!==l&&(c.itemAssocTypeValue=b.find(r.INPUT_NAME+l+r.CLOSED_BRACKET).val(),c.itemAssocTypeValue===r.ATTACH_ITEM_ASSOC_TYPE_VALUE&&(e=!0));null!==k?e?(l=g(b,r.ITEM_ASSOC_NAME),e=a.$("#attach-sessionId").val()+"-"+(new Date).getTime(),b.find(r.INPUT_NAME+k+r.CLOSED_BRACKET).val(e),b.find(r.INPUT_NAME+l+r.CLOSED_BRACKET).val(e),c.uniqueId=e):c.uniqueId=
b.find(r.INPUT_NAME+k+r.CLOSED_BRACKET).val():(c.uniqueId=a.$("#attach-sessionId").val()+"-"+(new Date).getTime(),h=d(b,h),m(b,r.ITEM_ASSOC_NAME,c.uniqueId,h),h++,h=d(b,h),m(b,r.UNIQ_ITEM_ASSOC_NAME,c.uniqueId,h),h++,h=d(b,h),m(b,r.ITEM_ASSOC_TYPE_NAME,c.itemAssocTypeValue,h),h++);h=d(b,h);m(b,r.ITEM_ASSOC_PROPERTIES_NAME,r.ITEM_ASSOC_PROPERTIES_VALUE,h)}function g(a,b){a=a.find(r.INPUT_VALUE+b+r.CLOSED_BRACKET);if(!a.length)return null;a=a[0].name.split(".");return 2<a.length?r.CUSTOM_VALUE_KEY+
a[1]+"."+a[2]:null}function m(a,b,d,c){a.append('\x3cinput type\x3d"hidden" name\x3d"custom-name.1.'+c+'" value\x3d"'+b+'"/\x3e');a.append('\x3cinput type\x3d"hidden" name\x3d"custom-value.1.'+c+'" value\x3d"'+d+'"/\x3e')}function d(a,b){for(;0<a.find('input[name\x3d"custom-name.1.'+b+'"]').length||0<a.find('input[name\x3d"custom-value.1.'+b+'"]').length;)b++;return b}var c={},r=c.ItemAssociationConstants={ITEM_ASSOC_NAME:"itemAssoc",UNIQ_ITEM_ASSOC_NAME:"UNIQ-itemAssoc",ITEM_ASSOC_TYPE_NAME:"itemAssocType",
ATTACH_ITEM_ASSOC_TYPE_VALUE:"Attach",ITEM_ASSOC_RENDER_TYPE_NAME:"itemAssocRenderType",ITEM_ASSOC_RENDER_TYPE_VALUE:"renderAll",ITEM_ASSOC_PROPERTIES_NAME:"itemAssocProperties",ITEM_ASSOC_PROPERTIES_VALUE:"{\x26#34;QuantityEditable\x26#34;:\x26#34;1\x26#34;,\x26#34;QuantityInvarianceFactor\x26#34;:\x26#34;1\x26#34;}",CUSTOM_VALUE_KEY:"custom-value.",INPUT_VALUE:"input[value\x3d'",INPUT_NAME:"input[name\x3d'",CLOSED_BRACKET:"']"},k=c.Marketplaces={IN:"A21TJRUUN4KGV"};c.uniqueId=null;c.itemAssocTypeValue=
"Attach";c.selectedBaseLightningDeal=!1;c.FailureModes={ERROR_500:1,RESUBMIT_BUY_BOX:2,TRANSITION_TO_HUC:3,UNBIND_ATC:4,REBIND_ATC:5};var w=c.Selectors={ADD_TO_CART_BUTTON:"#add-to-cart-button",ATTACH_MARKETPLACE_ID:"#attach-marketplaceId",DISCRIMINATED_OFFERS_ENABLED:"#attach-discriminated-offers-enabled"};c.buyButton=a.$(w.ADD_TO_CART_BUTTON);c.reject=function(b,d){return c.rejectPromise(a.$.Deferred(),b,d)};c.rejectPromise=function(b,d,c){if(c&&c.count&&n.ue&&n.ue.count)if("string"===typeof c.count)n.ue.count(c.count,
1);else if(a.$.isArray(c.count))for(var h=0;h<c.count.length;h++)n.ue.count(c.count[h],1);c&&c.information&&f.logError("string"===typeof c.information?{message:c.information}:c.information,c.level,c.attribution);return b.reject(d,c)};c.pipeJSON=function(a){try{return JSON.parse(a)}catch(b){return c.reject(null,{count:"ATTACH_DSS_JSON_PARSE_FAILURE"})}};c.unescapeJson=function(a){if(!a)return null;a=a.replace(/\|\|/g,'"');return a=a.replace(/&pipe;/g,"||")};c.elementExists=function(b){return b?b instanceof
a.$?0!==b.length:0!==a.$(b).length:!1};c.moduleExists=function(b){return(b=a.$("#"+b+"_feature_div").html())?0<b.trim().length:!1};c.isCurrencyOfPreferenceApplied=function(){return"true"===a.$("#attach-used-currency-of-preference").val()};c.hasWarranty=function(){return c.elementExists("#attachSIDeprecated")&&c.elementExists("#attach-warranty-pane")||0<a.$("#warrantyEscapedJson").length};c.hasMonthlyWarranty=function(){return c.elementExists("#attach-monthly-warranty")};c.isMultiQuantityDeal=function(){return 0<
a.$("#dealOrderQuantityDropdown").length};c.hasAccessories=function(){return c.elementExists("#attach-asin-list")};c.isDiscriminatedOffersEnabled=function(){return c.elementExists(w.DISCRIMINATED_OFFERS_ENABLED)?"true"===a.$(w.DISCRIMINATED_OFFERS_ENABLED).val():a.$(w.ATTACH_MARKETPLACE_ID).val()===k.IN};c.submitATCForm=function(){var b=c.getAtcForm();c.isDiscriminatedOffersEnabled()&&e(b);f.logCount(f.CSM_METRICS.ATTACH_BASE_ATC_CLICK);b=b.serializeArray();b.push({name:"isDSSAjax",value:"1"});b=
a.$.param(b);b=a.$.post("/gp/product/handle-buy-box/ref\x3ddp_start-bbf_1_glance",b);b.fail(function(a){f.logCount(f.CSM_METRICS.ATTACH_BASE_ATC_FAILURE);f.logError({message:"Base product ATC call failed: "+a.status})});a.trigger("attach:add-base-to-cart",b)};c.getAtcForm=function(){return c.buyButton.closest("form")};c.isAttachMTAWeblabOn=function(){return!1};return c});"use strict";q.when("A","attach-common","attach-logging","attach-baselink","attach-weblabs","attach-variant-registration").register("attach-desktop-warranty-pane",
function(a,b,f,e,g,m){var d={name:"warranty"},c=d.Selectors={ASIN:"#attach-warranty-asin",PRICE_FORMATTED:"#attach-accessory-price-warranty",PRICE_AMOUNT:"#attach-accessory-price-warranty-amount",BASE_ASIN:"#ASIN",MARKETPLACE_ID:"#attach-marketplaceId",BASE_CURRENCY_SYMBOL:"#attach-base-product-currency-symbol",ATC_QUANTITY:"#quantity",ATC_WARRANTY:".attach-warranty-input",JSON_DATA:"#warrantyEscapedJson",PANE:"#attach-warranty-pane",PANE_IMAGE:"#attach-sheet-warranty-image",PANE_UPSELL_IMAGE:"#attach-sheet-warranty-upsell-image",
PANE_ADD_BUTTON:"#attachSiAddCoverage",PANE_NO_BUTTON:"#attachSiNoCoverage",PANE_WARRANTY_TITLE:"#attach-warranty-displayTitle",PANE_EXPERIMENT_DISPLAY:"#attach-warranty-experiment-display",PANE_REGULAR_DISPLAY:"#attach-warranty-display",PANE_LD:"#attach-warranty-pane-ld",PANE_ADD_BUTTON_LD:"#attachSiAddCoverage-ld",PANE_NO_BUTTON_LD:"#attachSiNoCoverage-ld",WTY_TWISTER_WTY_OPTION:".warranty-twister-box-group-warranty-option"},n;d.getWarrantyLoggingPayload=function(){var d=a.$(c.ASIN).val(),e=a.$(c.PRICE_FORMATTED),
f=a.$(c.PRICE_AMOUNT);return!g.servicesInterstitialDeprecated()&&b.elementExists(f)?{asin:d,priceFormatted:e.text().trim(),priceDecimal:parseFloat(f.val())||null,currencySymbol:a.$(c.BASE_CURRENCY_SYMBOL).val()||null}:{asin:d,priceFormatted:e.text().trim(),priceDecimal:null,currencySymbol:null}};d.appendWarrantyToATCForm=function(d,f){if(a.$(c.BASE_ASIN).val()&&d&&f){var m=b.getAtcForm();m.append('\x3cinput type\x3d"hidden" id\x3d"useABBHandler" class\x3d"attach-warranty-input" name\x3d"useABBHandler" value\x3d"1" /\x3e');
var t=1;g.isWarrantyTwisterPlusDesktopEnabled()&&(t=a.$(c.WTY_TWISTER_WTY_OPTION).length+1);var t=m.find("input[name^\x3d'offeringID']").length+t,l=a.$(c.ATC_QUANTITY).val()||1,h="quantity."+t,p="asin."+t;m.find('input[name\x3d"'+h+'"]').remove();m.find('input[name\x3d"'+p+'"]').remove();m.append('\x3cinput type\x3d"hidden" id\x3d"'+h+'" name\x3d"'+h+'" value\x3d"'+l+'" class\x3d"attach-warranty-input" /\x3e');m.append('\x3cinput type\x3d"hidden" id\x3d"'+p+'" name\x3d"'+p+'" value\x3d"'+d+'" class\x3d"attach-warranty-input" /\x3e');
m.append('\x3cinput type\x3d"hidden" id\x3d"offeringID.'+t+'" name\x3d"offeringID.'+t+'" value\x3d"'+f+'" class\x3d"attach-warranty-input"/\x3e');d=m.find('input[name\x3d"itemCount"]');0===d.length?m.append('\x3cinput type\x3d"hidden" name\x3d"itemCount" value\x3d"'+t+'"\x3e'):d[0].value=t;a.$("#atch__bl").length&&e.createBaseLinkFormFields(t+1,m)}};d.clearWarrantyFromATCForm=function(){b.getAtcForm().find(c.ATC_WARRANTY).remove()};d.load=function(e){var f;if(g.servicesInterstitialDeprecated()){if(b.elementExists(c.PANE))a.$(c.PANE).removeClass("aok-hidden");
else return b.reject(b.FailureModes.RESUBMIT_BUY_BOX,{count:"ATTACH_DSS_WARRANTY_LOAD_FAILURE"});if(g.isAttachLDSupportEnabled()&&g.isWarrantyLDSupportEnabled()&&b.selectedBaseLightningDeal)if(b.elementExists(c.PANE_LD))a.$(c.PANE+", "+c.PANE_LD).toggleClass("aok-hidden");else return b.reject(b.FailureModes.UNBIND_ATC);b.elementExists(c.PANE_EXPERIMENT_DISPLAY)&&a.$(c.PANE_EXPERIMENT_DISPLAY).remove()}else return b.elementExists(c.JSON_DATA)&&(f=b.unescapeJson(a.$(c.JSON_DATA).val()),f=JSON.parse(f)),
f?d.renderClientSide(e,f):b.reject(b.FailureModes.RESUBMIT_BUY_BOX,{count:"ATTACH_DSS_WARRANTY_LOAD_FAILURE"})};d.renderClientSide=function(b,d){var c="",g=d.baseASIN,e="dp_atch_dss_w_lm_"+g+"_"+d.asin,h="dp_atch_dss_w_r_"+g+"_"+d.asin,g="dp_atch_dss_w_lm_"+g+"_"+d.asin,f=a.$("#stringTranslation-si-warranty-title").val(),x=a.$("#stringTranslation-si-accident-protection").val(),A=a.$("#stringTranslation-si-from").val(),v=a.$("#stringTranslation-si-rating-out-of-5-stars").val(),m=a.$("#stringTranslation-item-added-to-cart").val(),
n=a.$("#stringTranslation-desktop-attach-accessory-failed-add-to-cart").val(),D=a.$("#stringTranslation-desktop-attach-accessory-retry").val(),r=a.$("#stringTranslation-si-add-coverage").val(),q=a.$("#stringTranslation-si-no-thanks").val(),E=a.$("#stringTranslation-services-bundle-detail-link").val(),c=c+('   \x3cdiv id\x3d"attach-warranty-pane" class\x3d"a-section"\x3e\n       \x3cdiv id\x3d"attach-warranty" class\x3d"a-section attach-sidesheet-card"\x3e\n           \x3cinput type\x3d"hidden" name\x3d"" value\x3d"'+
d.asin+'" id\x3d"attach-warranty-asin"\x3e\n           \x3ch1 class\x3d"a-size-medium a-spacing-none a-color-base a-text-center"\x3e'+f+'\x3c/h1\x3e\n           \x3chr class\x3d"a-spacing-base a-spacing-top-small a-divider-normal attach-warranty-divider"\x3e\n           \x3cdiv class\x3d"a-row a-spacing-micro"\x3e\n');null!==d.thumbImage&&(c+='                \x3cdiv class\x3d"a-column a-span2"\x3e\n                    \x3cimg id\x3d"attach-sheet-warranty-image" src\x3d"" data-image-url\x3d"'+d.thumbImage+
'" class\x3d"attach-accessory-image"\x3e\n                \x3c/div\x3e\n');c+='                \x3cdiv class\x3d"a-column a-span10 a-span-last"\x3e\n                    \x3ca class\x3d"a-size-large a-spacing-micro a-link-normal a-color-base" id\x3d"attach-warranty-displayTitle" target\x3d"_blank" rel\x3d"noopener" href\x3d"/dp/'+d.asin+"/ref\x3d"+e+'"\x3e\n                        \x3cstrong\x3e'+(null!==d.displayTitle?d.displayTitle:x.replace("${brandName}",d.brandName))+'\x3c/strong\x3e\n                    \x3c/a\x3e\n                    \x3cbr\x3e\n                    \x3cspan class\x3d"a-size-base a-color-secondary"\x3e'+
A+" "+d.merchantName+"\x3c/span\x3e\n";Number(d.averageRating)&&Number(d.numReviews)&&Number(d.numFullStars)&&"boolean"===typeof d.hasHalfStar&&(e=v.replace("${averageRating}",d.averageRating),c+='                    \x3cdiv class\x3d"a-icon-row a-spacing-micro"\x3e\n                        \x3ca class\x3d"a-link-normal" href\x3d"/product-reviews/'+d.asin+"/ref\x3d"+h+'?ie\x3dUTF8\x26amp;showViewpoints\x3d1"\x3e\n                            \x3ci class\x3d"a-icon a-icon-star a-star-'+d.numFullStars+
(d.hasHalfStar?"-5":"")+'"\x3e\x3cspan class\x3d"a-icon-alt"\x3e'+e+'\x3c/span\x3e\x3c/i\x3e\n                        \x3c/a\x3e\n                        \x3ca class\x3d"a-link-normal" href\x3d"/product-reviews/'+d.asin+"/ref\x3d"+h+'?ie\x3dUTF8\x26amp;showViewpoints\x3d1"\x3e\n                            '+d.numReviews+"\n                        \x3c/a\x3e\n                    \x3c/div\x3e\n");null!==d.buyingPriceAmount&&(c+='                    \x3cinput id\x3d"attach-accessory-price-warranty-amount" type\x3d"hidden" value\x3d"'+
d.buyingPriceAmount+'"\x3e\n');c+='                    \x3cspan id\x3d"attach-accessory-price-warranty" class\x3d"a-size-large a-color-base attach-warranty-price"\x3e'+d.formattedBuyingPrice+'\x3c/span\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"a-row"\x3e\n                \x3cdiv class\x3d"a-column a-span12"\x3e\n                    \x3cdiv id\x3d"warrantyBulletRowWrapper" class\x3d"a-section"\x3e\n                        \x3cdiv class\x3d"a-row a-spacing-micro"\x3e\n                            \x3cul class\x3d"a-unordered-list a-vertical a-spacing-none"\x3e\n';
for(h=0;h<d.bulletPoints.length;h++)c+='                                \x3cli\x3e\x3cspan class\x3d"a-list-item"\x3e'+d.bulletPoints[h].text+"\x3c/span\x3e\x3c/li\x3e\n";c+='                            \x3c/ul\x3e\n                        \x3c/div\x3e\n                        \x3cdiv id\x3d"attachWarrantyButtonWrapper" class\x3d"a-section a-box-inner a-color-alternate-background"\x3e\n                            \x3cdiv id\x3d"attachWarrantyButtonInnerWrapper" class\x3d"a-section a-box-inner"\x3e\n                                \x3cdiv id\x3d"attach_add_accessory_alert_warranty" class\x3d"a-box a-alert-inline a-alert-inline-success aok-hidden attach_add_accessory_alert"\x3e\n                                    \x3cdiv class\x3d"a-box-inner a-alert-container"\x3e\n                                        \x3ci class\x3d"a-icon a-icon-alert"\x3e\x3c/i\x3e\n                                        \x3cdiv class\x3d"a-alert-content"\x3e\n                                            \x3cspan class\x3d"a-size-base a-color-success"\x3e'+
m+'\x3c/span\x3e\n                                        \x3c/div\x3e\n                                    \x3c/div\x3e\n                                \x3c/div\x3e\n                                \x3cdiv id\x3d"attach_add_accessory_error_warranty" class\x3d"a-box a-alert-inline a-alert-inline-error aok-hidden attach_add_accessory_alert" aria-live\x3d"assertive" role\x3d"alert"\x3e\n                                    \x3cdiv class\x3d"a-box-inner a-alert-container"\x3e\n                                        \x3ci class\x3d"a-icon a-icon-alert"\x3e\x3c/i\x3e\n                                        \x3cdiv class\x3d"a-alert-content"\x3e\n                                            \x3cspan class\x3d"a-size-base"\x3e\n                                                '+
n+'\x3cbr\x3e\n                                            \x3c/span\x3e\n                                            \x3ca class\x3d"a-link-normal attach-add-to-cart-retry" href\x3d"#"\x3e\n                                                '+D+'\n                                            \x3c/a\x3e\n                                        \x3c/div\x3e\n                                    \x3c/div\x3e\n                                \x3c/div\x3e\n                                \x3cspan class\x3d"attach_add_accessory_spinner_warranty a-spinner a-spinner-small attach-spinner aok-hidden"\x3e\x3c/span\x3e\n                                \x3cdiv class\x3d"a-section attach-warranty-button-row"\x3e\n                                    \x3cdiv class\x3d"a-button-stack"\x3e\n                                        \x3cspan id\x3d"attachSiAddCoverage" class\x3d"a-button a-button-primary attach-si-add-client"\x3e\n                                            \x3cspan class\x3d"a-button-inner"\x3e\n                                                \x3cbutton id\x3d"attachSiAddCoverage-announce" data-asin\x3d"'+
d.asin+'" data-offering-id\x3d"'+d.oid+'" class\x3d"a-button-text" type\x3d"button"\x3e\n                                                    '+r+'\n                                                \x3c/button\x3e\n                                            \x3c/span\x3e\n                                        \x3c/span\x3e\n                                        \x3cspan id\x3d"attachSiNoCoverage" class\x3d"a-button"\x3e\n                                            \x3cspan class\x3d"a-button-inner"\x3e\n                                                \x3cbutton id\x3d"attachSiNoCoverage-announce" class\x3d"a-button-text" type\x3d"button"\x3e\n                                                    '+
q+'\n                                                \x3c/button\x3e\n                                            \x3c/span\x3e\n                                        \x3c/span\x3e\n                                    \x3c/div\x3e\n                                \x3c/div\x3e\n                            \x3c/div\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n            \x3ca class\x3d"a-link-normal" target\x3d"_blank" rel\x3d"noopener" href\x3d"/dp/'+
d.asin+"/ref\x3d"+g+'"\x3e\n                '+E+"\n            \x3c/a\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n";b.$container.append(c)};d.onAttachAddBaseToCart=function(a){a.always(d.clearWarrantyFromATCForm)};d.setup=function(k){a.$(c.PANE).hide();var m=a.$(c.PANE_IMAGE).attr("data-image-url");a.$(c.PANE_IMAGE).attr("src",m);a.$(c.PANE_ADD_BUTTON).click(function(){var c=a.$(this).find("button");g.servicesInterstitialDeprecated()&&(c=a.$(this).find("[data-asin]"));var e=c.attr("data-asin"),c=
c.attr("data-offering-id");d.appendWarrantyToATCForm(e,c);f.logWarrantyAddToCart(d.getWarrantyLoggingPayload());g.servicesInterstitialDeprecated()&&!b.hasAccessories()||b.submitATCForm();k.next()});a.$(c.PANE_NO_BUTTON).click(function(){g.servicesInterstitialDeprecated()&&!b.hasAccessories()||b.submitATCForm();k.next()});g.isAttachLDSupportEnabled()&&g.isWarrantyLDSupportEnabled()&&(a.$(c.PANE_ADD_BUTTON_LD).click(function(){e.obtainBaseItemCartId(function(b){var g=a.$(c.PANE_ADD_BUTTON_LD).find("input");
b={warrantyAsin:g.attr("data-asin"),offeringId:g.attr("data-offering-id"),addWarranty:1,quantity:1,baseItemCartId:b};e.addLinkedWarranty(b,function(){f.logCount(f.CSM_METRICS.ATTACH_BASE_LD_WARRANTY_SUCCESS);new Promise(d.updateCart);k.next()},function(){f.logCount(f.CSM_METRICS.ATTACH_BASE_LD_WARRANTY_FAILURE);k.next()})})}),a.$(c.PANE_NO_BUTTON_LD).click(function(){k.next()}));a.off("attach:add-base-to-cart",d.onAttachAddBaseToCart);a.on("attach:add-base-to-cart",d.onAttachAddBaseToCart)};d.show=
function(){b.selectedBaseLightningDeal?g.isAttachLDSupportEnabled()&&g.isWarrantyLDSupportEnabled()&&b.selectedBaseLightningDeal&&a.$(c.PANE_LD).show():a.$(c.PANE).removeClass("aok-hidden");a.$(c.PANE).fadeIn(400,d.setFocus);f.logWarrantyImpression(d.getWarrantyLoggingPayload());n=Date.now()};d.hide=function(){a.$(c.PANE+", "+c.PANE_LD).fadeOut();f.logCount(f.CSM_METRICS.WARRANTIES_DWELL_TIME,Math.floor((Date.now()-n)/1E3))};d.setFocus=function(){a.$(c.PANE_WARRANTY_TITLE).get(0).focus()};d.updateCart=
function(){a.$.get("/gp/navigation/ajax/dynamic-menu.html?cartItems\x3dcart").done(function(a){a&&a.cartItems&&a.cartItems.count&&q.when("nav.setCartCount").execute(function(b){b(a.cartItems.count)})})};return d});"use strict";q.when("A","attach-common","attach-weblabs","attach-maple","attach-logging","attach-variant-registration").register("attach-desktop-accessories-pane",function(a,b,f,e,g,m){var d={name:"accessories"},c=!0,r=!1,k,w=!1,u=!1,t,l=d.Endpoints={RENDER:"/gp/product/features/aloha-ppd/udp-ajax-handler/attach-render-desktop.html",
GET_CART_DESCRIPTION:"/gp/product/features/aloha-ppd/udp-ajax-handler/attach-get-cart-description.html",ADD_ACCESSORY_TO_CART:"/gp/product/features/aloha-ppd/udp-ajax-handler/attach-add-to-cart.html",PROCEED_TO_CHECKOUT:"/gp/cart/desktop/go-to-checkout.html?proceedToCheckout\x3dProceed"},h=d.Selectors={BASE_ASIN:"#attach-baseAsin",QUANTITY:"#quantity",ACCESSORY_ASIN_LIST:"#attach-asin-list",MARKETPLACE_ID:"#attach-marketplaceId",LANGUAGE_OF_PREFRENCE:"#attach-languageOfPreference",PANE:"#attach-accessory-pane",
PANE_CLOSE_BUTTON:"#attach-close_sideSheet-link",PANE_CART_BASE_ALERT_IMAGE_AREA:"#attach-added-to-cart-alert-and-image-area",PANE_CART_BASE_ALERT:"#attachDisplayAddBaseAlert",PANE_CART_BASE_SUCCESS_ALERT:"#attachAddBaseItemSuccessAlert",PANE_CART_BASE_ERROR_ALERT:"#attachAddBaseItemErrorAlert",PANE_CART_BASE_INITIAL_IMAGE:"#attach-sheet-view-base-product-image",PANE_CART_BASE_HUC_IMAGE:".huc-image-wrapper",PANE_CART_BLOCK:".attach-primary-atc-confirm-box",PANE_CART_BLOCK_INNER:"#attach-added-to-cart-message",
PANE_CART_BLOCK_SUBTOTAL_LABEL:"#attach-accessory-cart-total-string",PANE_CART_BLOCK_SUBTOTAL_PRICE:"#attach-accessory-cart-subtotal",PANE_CART_BLOCK_CORE_FREE_SHIPPING_MESSAGE:"#attach-core-free-shipping-message",PANE_CART_BLOCK_PROCEED_TO_CHECKOUT:"#attach-accessory-proceed-to-checkout-text",PANE_CART_SPINNER:"#attach-add-to-cart-message-spinner",PANE_VIEW_CART_BUTTON:"#attach-sidesheet-view-cart-button",PANE_CHECKOUT_BUTTON:"#attach-sidesheet-checkout-button",PANE_HUC_MESSAGE:".attach-add-to-cart-message-card",
PANE_ACCESORIES_CARD:"#attach-accessories",PANE_CATEGORIZED_ACCESSORIES_TILES_CARD:"#attach-categorized-accessories-tiles",PANE_ACCESSORY_RETRY_BUTTON:".attach-add-to-cart-retry",PANE_ACCESSORY_ADD_DECLARATIVES:'.a-declarative[data-action\x3d"attach-accessory-add"]',PANE_ACCESSORY_IMAGE:".attach-accessory-image",PANE_ACCESSORY_ASIN:".attach-accessory-asin",PANE_ACCESSORY_ADD_BUTTON_PREFIX:"#attach_add_accessory_button_",PANE_ACCESSORY_ADD_SPINNER_PREFIX:"#attach_add_accessory_spinner_",PANE_ACCESSORY_ADD_SUCCESS_PREFIX:"#attach_add_accessory_alert_",
PANE_ACCESSORY_ADD_ERROR_PREFIX:"#attach_add_accessory_error_",PANE_ACCESSORY_FIRST_ASIN:"#attach_accessory_dp_1",PANE_CATEGORIZED_ACCESSORIES_CARD:"#attach-categorized-accessories",PANE_ACCESSORY_TITLE:".attach-accessory-title",PANE_ACCESSORY_TILE_ITEM:".attach-accessory-tile",PANE_ACCESSORY_TILE_ITEM_PREFIX:"#attach-accessory-tile-",PANE_ACCESSORY_CAROUSEL:"#attach-accessories .a-carousel-container",PANE_ACCESSORY_CARD:"#attach-accessories.card-expandable",PANE_ACCESSORY_CARD_SEE_MORE:".card-toggle-see-more",
PANE_ACCESSORY_CARD_SEE_LESS:".card-toggle-see-less",PANE_ACCESSORY_CARD_PEEK_CONTENT:".card-peek-content",PANE_ACCESSORY_CARD_EXPAND_CONTENT:".card-expand-content",PANE_MAPLE_SLOT:"#maple-dss-slot",PANE__DATA_CATEGORY_VIEW:"categoryView",PANE__DATA_ASIN_INDEX:"asinindex",PANE_ACCESSORY_COUPON:".attach-accessory-coupon",PANE_ACCESSORY_COUPON_PREFIX:"#attach-accessory-coupon-",PANE_ACCESSORY_COUPON_UNCLIPPED_CLASS:".attach-coupon-unclipped",PANE_ACCESSORY_COUPON_CLIPPED_CLASS:".attach-coupon-clipped",
PANE_ACCESSORY_COUPON_ERROR_CLASS:".attach-coupon-error",PANE_ACCESSORY_COUPON_BADGE_CLASS:".attach-coupon-short-badge",PANE_ACCESSORY_COUPON_BADGE_UNCLIPPED_CLASS:".attach-coupon-badge-unclipped",PANE_ACCESSORY_COUPON_BADGE_CLIPPED_CLASS:".attach-coupon-badge-clipped",PANE_ACCESSORY_LIGHTNING_DEAL:".attach-accessory-lightning-deal",PANE_ACCESSORY_LIGHTNING_DEAL_PREFIX:"#attach-accessory-lightning-deal-",PANE_ACCESSORY_LIGHTNING_DEAL_JOIN_WAITLIST_PREFIX:"#attach-accessory-deal-on-waitlist-",PANE_ACCESSORY_CSRF_TOKEN:"#attach-accessory-deal-csrf-token",
DEBUG_IS_DEBUG:"#attach-debug-isDebug",DEBUG_QUERY_STRING:"#attach-debug-queryString"},p=d.AccessoryAddStatus={INITIAL:0,ADDING:1,SUCCESS:2,ERROR:3};d.setShouldIncludeMaple=function(a){r=a};d.load=function(d){q.now("attach-external-atc-interceptor").execute(function(a){k=a});a.trigger("LOADED_ACCESSORIES_PANE_SUCCESSFULLY");var c=a.$.Deferred(),v,m;q.now("dp-util-cookie").execute(function(d){d&&d("session-id")!==a.$("#attach-sessionId").val()&&b.rejectPromise(c,b.FailureModes.TRANSITION_TO_HUC,{count:"ATTACH_DSS_INVALID_SESSION_ID",
information:"Unexpected session ID received; expected "+a.$("#attach-sessionId").val()+" but cookie value was "+d("session-id")})});v={attachAccessoryAsinList:a.$(h.ACCESSORY_ASIN_LIST).val(),marketplaceId:a.$(h.MARKETPLACE_ID).val(),asin:a.$(h.BASE_ASIN).val(),deviceType:"desktop",attachWeblabsToTrigger:[]};f.isAttachDebugParametersEnabled()&&(v.isDebug=a.$(h.DEBUG_IS_DEBUG).val(),v.queryString=a.$(h.DEBUG_QUERY_STRING).val());v=a.$.param(v,!0);v=a.$.post(l.RENDER,v);r&&(b.isCurrencyOfPreferenceApplied()&&
e.suppressMathBox(),m=e.loadBannerHTML());a.$.when(v,m).done(function(e,f){var k=a.$(e[0].trim()),l=!k.is(h.PANE),k=0===k.find(h.PANE_ACCESSORY_ASIN).length;l||k?b.rejectPromise(c,b.FailureModes.TRANSITION_TO_HUC,{count:["ATTACH_DSS_RENDER_FAILURE","ATTACH_DSS_RENDER_FAILURE_INVALID_HTML"],information:"Failed to render DSS: isPaneMissing\x3d"+l+" isEmptyAccessoryList\x3d"+k}):(d.$container.append(a.$(e[0]).get(0)),f&&0<f.trim().length&&(f=a.$(f),e=f.not("script"),f=f.filter("script"),b.elementExists(h.PANE_CATEGORIZED_ACCESSORIES_TILES_CARD)?
e.insertAfter(h.PANE_CATEGORIZED_ACCESSORIES_TILES_CARD):e.insertAfter(h.PANE_ACCESORIES_CARD),e.wrap('\x3cdiv id\x3d"maple-dss-slot"\x3e\x3cdiv id\x3d"maple-dss-card" class\x3d"a-section attach-sidesheet-card"\x3e\x3c/div\x3e\x3c/div\x3e'),f.each(function(){a.$.globalEval(this.innerHTML)}),g.logCount("ATTACH_DSS_MAPLE_RENDERED")),c.resolve())}).fail(function(){b.rejectPromise(c,b.FailureModes.TRANSITION_TO_HUC,{count:"ATTACH_DSS_RENDER_FAILURE",information:"Failed to render DSS: network request failed"})});
return c.promise()};d.onAttachAddBaseToCart=function(a){c=!1;a.pipe(d.handleAddBaseAndGetCartDescription).pipe(b.pipeJSON).pipe(d.handleCartDescription).fail(function(a,x){d.sheet.fail(a||b.FailureModes.ERROR_500,x)})};d.runOnceSetup=function(){w||(w=!0,a.declarative("attach-accessory-add","click",function(b){var c=b.$currentTarget,e=b.data,f=e.a,k=e.oid,e=e.isLightningDeal;g.logCount(g.CSM_METRICS.ATTACH_UPSELL_ATC_CLICK);g.beginLatencyCapture(g.CSM_METRICS.ATTACH_UPSELL_ATC_LATENCY);b=!0===a.$(h.PANE_CATEGORIZED_ACCESSORIES_CARD).data(h.PANE__DATA_CATEGORY_VIEW)?
a.$(b.$target).data(h.PANE__DATA_ASIN_INDEX):a.$(h.PANE_ACCESSORY_ADD_DECLARATIVES).index(c);e?d.addAccessoryToCartWithLightningDeal(b):d.addAccessoryToCart(f,k,b)}))};d.setup=function(b){d.runOnceSetup();a.$(h.PANE).hide();d.sheet=b;a.off("attach:add-base-to-cart",d.onAttachAddBaseToCart);a.on("attach:add-base-to-cart",d.onAttachAddBaseToCart);a.$(h.PANE_VIEW_CART_BUTTON).click(d.viewCart);a.$(h.PANE_CHECKOUT_BUTTON).click(d.proceedToCheckout);a.$(h.PANE_ACCESSORY_RETRY_BUTTON).click(function(){var b=
a.$(this).attr("data-asin"),c=a.$(this).attr("data-oid"),x=a.$(this).attr("data-idx");d.addAccessoryToCart(b,c,x)});a.$(h.PANE).find(h.PANE_CLOSE_BUTTON).appendTo(h.PANE_CART_BLOCK);a.$(h.PANE_CLOSE_BUTTON).click(b.next);a.$(h.PANE_ACCESSORY_IMAGE).each(function(){a.$(this).attr("src",a.$(this).attr("data-image-url"))});f.isShowAccessoryCouponsDssEnabled()&&d.initializeCoupons();a.$(h.PANE_ACCESSORY_LIGHTNING_DEAL).each(function(){var b=a.$(this).data().idx;d.updateLightningDealTimer(b);d.initializeLightningDealStatusRefresher(b)})};
d.show=function(){f.isAttachLDSupportEnabled()&&b.selectedBaseLightningDeal||!c||b.submitATCForm();t=Date.now();a.$(h.PANE).css({opacity:0}).show().animate({opacity:1},500,"linear",d.setFocus);if(f.isAttachLDSupportEnabled()&&b.selectedBaseLightningDeal)a.$(h.PANE_CART_BLOCK).addClass("aok-hidden"),a.$("#attach-accessory-pane").css("height",a.$(n).height()-161);else{var x=a.$(h.PANE_CART_BLOCK_INNER);x.find("div").addClass("aok-hidden");x.append(a.$(h.PANE_CART_SPINNER).removeClass("aok-hidden"))}d.initializeAccessoriesDisplay();
q.now("attach-categorized-cards").execute(function(a){a!==y&&a.initializeCategorizedCards()})};d.hide=function(){a.$(h.PANE).hide();a.$(h.PANE_CART_SPINNER).addClass("aok-hidden");a.$(h.PANE_HUC_MESSAGE).remove();a.$(h.PANE_ACCESSORY_ASIN).each(function(b,c){(c=a.$(c).data(h.PANE__DATA_ASIN_INDEX))&&(b=c);d.updateAccessoryStatus(b,p.INITIAL)});a.trigger("RESET_SECONDARY_SIDE_SHEET_MODULE");k&&k.unloadAttachModule();g.logCount(g.CSM_METRICS.ACCESSORIES_DWELL_TIME,Math.floor((Date.now()-t)/1E3));a.trigger("aloha:detailPage:reappear");
c=!0};d.setFocus=function(){a.$(h.PANE_ACCESSORY_FIRST_ASIN).length&&a.$(h.PANE_ACCESSORY_FIRST_ASIN).get(0).focus()};d.viewCart=function(){g.logCount(g.CSM_METRICS.ATTACH_CART_CLICK);document.location=""};d.proceedToCheckout=function(){g.logCount(g.CSM_METRICS.ATTACH_CHECKOUT_CLICK);document.location=u?l.PROCEED_TO_CHECKOUT+"\x26cartInitiateId\x3d"+u+"\x26ref_\x3ddp_atch_dss_proceed":l.PROCEED_TO_CHECKOUT+"\x26ref_\x3ddp_atch_dss_proceed"};d.updateNavCartDisplayQuantity=function(b){var d=Number(b);
b=isNaN(d)?"":100>d?b:"99+";a.$("#nav-cart-count").toggleClass("nav-cart-0",0===d).toggleClass("nav-cart-1",1<=d&&10>d).toggleClass("nav-cart-10",10<=d&&20>d).toggleClass("nav-cart-20",20<=d&&100>d).toggleClass("nav-cart-100",100<=d).text(b)};d.handleAddBaseAndGetCartDescription=function(c){g.logCount(g.CSM_METRICS.ATTACH_BASE_ATC_SUCCESS);c=a.$(c);d.renderHUCFeedback(c);d.renderBaseAddStatusIcon(c);if(k)try{var e=a.$(h.PANE_ACCESSORY_ASIN).map(function(){return this.value}).get();k.loadAttachModule(e)}catch(f){q.logError(f,
"Could not update ABB/DSS external interceptor: ","ERROR","attach-desktop-accessories-pane")}e={marketplaceId:a.$(h.MARKETPLACE_ID).val(),asin:a.$(h.BASE_ASIN).val(),languageOfPreference:a.$(h.LANGUAGE_OF_PREFRENCE).val(),customerId:a.$("#attach-customerId").val(),sessionId:a.$("#attach-sessionId").val()};return a.$.post(l.GET_CART_DESCRIPTION,e).pipe(null,function(a,d,c){q.logError(Error(d),"AJAX cart description call failed: ","ERROR","attach-desktop-accessories-pane");return b.reject(null,{count:g.CSM_METRICS.ATTACH_GET_CART_DESCRIPTION_FAILURE})})};
d.handleCartDescription=function(c){try{var k=isNaN(parseInt(c.totalPrice)),l=isNaN(parseInt(c.itemQuantity)),m=!a.$.isArray(c.includedAsins),p=0===c.formattedTotalPrice.trim().length,t=0===c.cartSubtotalString.trim().length,n=0===c.itemQuantityString.trim().length,w=k||l||m;p||t||n;if(w)throw Error("Received invalid cart description: hasInvalidCartTotalPrice\x3d"+k+" hasInvalidCartItemQuantity\x3d"+l+" hasInvalidCartIncludedAsins\x3d"+m+" hasInvalidCartFormattedTotalPrice\x3d"+p+" hasInvalidCartSubtotal\x3d"+
t+" hasInvalidCartQuantity\x3d"+n);d.updateNavCartDisplayQuantity(c.itemQuantity);a.$(h.PANE_CART_BLOCK_SUBTOTAL_LABEL).html(c.cartSubtotalString);a.$(h.PANE_CART_BLOCK_SUBTOTAL_PRICE).html(c.formattedTotalPrice);a.$(h.PANE_CART_BLOCK_PROCEED_TO_CHECKOUT).html(c.itemQuantityString);a.$("#attach-customerId").val()&&q.when("attach-preinitiate-checkout").execute(function(a){u=a.getCartInitiateId();a.preinitiateCheckout(u)});c.coreFreeShippingMessage&&a.$(h.PANE_CART_BLOCK_CORE_FREE_SHIPPING_MESSAGE).html(c.coreFreeShippingMessage);
r&&e.updateMathBox(Number(c.totalPrice));f.isAttachLDSupportEnabled()&&b.selectedBaseLightningDeal||(a.$(h.PANE_CART_BLOCK_INNER).find("div").removeClass("aok-hidden"),a.$(h.PANE_CART_SPINNER).addClass("aok-hidden"));setTimeout(d.revealHUCFeedback,200);q.when("EWC").execute(function(a){a.refresh()});g.logCount(g.CSM_METRICS.ATTACH_GET_CART_DESCRIPTION_SUCCESS);return c}catch(E){return q.logError(E,"Could not process the cart description: ","ERROR","attach-desktop-accessories-pane"),b.reject(null,
{count:"ATTACH_DSS_HANDLE_CART_DESCRIPTION_FAILURE"})}};d.updateAccessoryStatus=function(b,d){a.$(h.PANE_ACCESSORY_ADD_BUTTON_PREFIX+b).toggleClass("aok-hidden",d!==p.INITIAL);a.$(h.PANE_ACCESSORY_ADD_SPINNER_PREFIX+b).toggleClass("aok-hidden",d!==p.ADDING);a.$(h.PANE_ACCESSORY_ADD_SUCCESS_PREFIX+b).toggleClass("aok-hidden",d!==p.SUCCESS);a.$(h.PANE_ACCESSORY_ADD_ERROR_PREFIX+b).toggleClass("aok-hidden",d!==p.ERROR);a.$("#tile-add-accessory-badge-"+b).toggleClass("aok-hidden",d!==p.SUCCESS);a.$("#attach-accessory-tile-"+
b).toggleClass("in-cart",d===p.SUCCESS)};d.addAccessoryToCart=function(c,e,f){e={marketplaceId:a.$(h.MARKETPLACE_ID).val(),asin:a.$(h.BASE_ASIN).val(),customerId:a.$("#attach-customerId").val(),sessionId:a.$("#attach-sessionId").val(),accessoryItemAsin:c,accessoryItemOfferingId:e,languageOfPreference:a.$(h.LANGUAGE_OF_PREFRENCE).val(),accessoryItemQuantity:a.$(h.QUANTITY).val(),accessoryItemPrice:a.$("#attach-accessory-base-price-"+f).val(),accessoryMerchantId:a.$("#attach-accessory-merchantId-"+
f).val(),accessoryProductGroupId:a.$("#attach-accessory-product-category-code-"+f).val()};if(b.isDiscriminatedOffersEnabled()){var k={},k=b.isAttachMTAWeblabOn()?{itemAssociationGroup:'{"parentAsin":"'+e.asin+'","type":"Attach","renderType":"renderAll","constraintList":[{"mutuallyInclusive":false,"type":"DELETE"}]}'}:{itemAssoc:b.uniqueId,itemAssocType:b.itemAssocTypeValue,itemAssocRenderType:"renderAll"};e.keyValuePairs=JSON.stringify(k)}d.updateAccessoryStatus(f,p.ADDING);a.$.post(l.ADD_ACCESSORY_TO_CART,
e).pipe(b.pipeJSON).pipe(d.handleCartDescription).pipe(function(e){if(-1===a.$.inArray(c,e.includedAsins))return b.reject(null,{count:"ATTACH_DSS_ADD_ACCESSORY_NOT_IN_CART"});d.updateAccessoryStatus(f,p.SUCCESS);g.logAccessoryAddToCart(d.getAccessoryLoggingData(f));g.logCount(g.CSM_METRICS.ATTACH_UPSELL_ATC_SUCCESS);a.trigger("UPSELL_ASIN_ADDED_TO_CART",f);q.when("EWC").execute(function(a){a.refresh()})}).fail(function(){g.logCount(g.CSM_METRICS.ATTACH_UPSELL_ATC_FAILURE);d.updateAccessoryStatus(f,
p.ERROR);a.trigger("UPSELL_ASIN_NOT_ADDED_TO_CART",f)})};d.addAccessoryToCartWithLightningDeal=function(c){d.updateAccessoryStatus(c,p.ADDING);var e=a.$("#attach-accessory-claim-deal-url-"+c).val(),f=a.$("#attach-accessory-claim-deal-params-"+c).val();if(e&&f){f=JSON.parse(b.unescapeJson(f));f.clientId="attach";var k=a.$(h.PANE_ACCESSORY_CSRF_TOKEN).val();a.$.ajax({type:"POST",url:e,data:f,headers:{"X-CSRFToken":k}}).pipe(function(e){var f=e.dealItemStatus&&e.dealItemStatus.customerState;if("1"!==
e.isClaimed&&"INWAITLIST"!==f)return b.reject(null,{count:"ATTACH_DSS_ADD_ACCESSORY_NOT_IN_CART"});"INWAITLIST"===f?a.$(h.PANE_ACCESSORY_ADD_SPINNER_PREFIX+c).addClass("aok-hidden"):d.updateAccessoryStatus(c,p.SUCCESS);g.logAccessoryAddToCart(d.getAccessoryLoggingData(c));g.logCount(g.CSM_METRICS.ATTACH_UPSELL_ATC_SUCCESS);e=e.dealItemStatus&&e.dealItemStatus.msToCustomerStateExpiry;d.handleLightningDealAddToCart(c,e?e:900,f);a.trigger("UPSELL_ASIN_ADDED_TO_CART",c);q.when("EWC").execute(function(a){a.refresh()});
f={marketplaceId:a.$(h.MARKETPLACE_ID).val(),asin:a.$(h.BASE_ASIN).val(),customerId:a.$("#attach-customerId").val(),sessionId:a.$("#attach-sessionId").val(),languageOfPreference:a.$(h.LANGUAGE_OF_PREFRENCE).val(),isLightningDeal:!0};a.$.post(l.GET_CART_DESCRIPTION,f).pipe(b.pipeJSON).pipe(d.handleCartDescription)}).fail(function(){g.logCount(g.CSM_METRICS.ATTACH_UPSELL_ATC_FAILURE);d.updateAccessoryStatus(c,p.ERROR);a.trigger("UPSELL_ASIN_NOT_ADDED_TO_CART",c)})}};d.revealHUCFeedback=function(){var b=
a.$(h.PANE_HUC_MESSAGE);if(b.hasClass("aok-hidden")){b.css({position:"absolute",top:0}).removeClass("aok-hidden");var d=b.children().height();0<d&&b.css({marginTop:-1*(d+4)+"px",position:"initial"}).animate({marginTop:"14px"},800)}};d.renderHUCFeedback=function(d){var c=d.find("#hlb-ship-message");d=a.$().add(d.find("#huc-v2-message-group")).add(d.find("#hlb-imb"));f.isCoreFreeShippingMessageEnabled()&&b.elementExists(c)&&a.$(h.PANE_CART_BLOCK_CORE_FREE_SHIPPING_MESSAGE).html(c.html());0<d.length&&
(c=a.$("\x3cdiv class\x3d'attach-sidesheet-card attach-add-to-cart-message-card aok-hidden'\x3e\x3c/div\x3e"),c.append(d),c.insertAfter(h.PANE_CART_BLOCK),c.find(".a-declarative a").unwrap(),c.find(".a-declarative span").removeClass("a-color-link huc-cursor-pointer").unwrap(),c.find(".sc-action-quantity").hide(),(c=d.find(".a-alert-heading").text())&&g.logDSSWarningMessage(c))};d.renderBaseAddStatusIcon=function(d){var c;b.elementExists(d.find("#huc-v2-order-row-confirm-text"))?c=d.find("#huc-v2-order-row-confirm-text").hasClass("a-color-error"):
b.elementExists(d.find("#hl-confirm-text"))&&(c=d.find("#hl-confirm-text").hasClass("a-alert-warning"));c=(c?a.$(h.PANE_CART_BASE_ERROR_ALERT):a.$(h.PANE_CART_BASE_SUCCESS_ALERT)).clone().prop("id","attachDisplayAddBaseAlert");a.$(h.PANE_CART_BASE_ALERT).remove();a.$(h.PANE_CART_BASE_ALERT_IMAGE_AREA).prepend(c);c=d.find(".huc-v2-order-row-image").clone();b.elementExists(c)||(c=d.find(".hlb-product-image").clone());if(1<c.length){c=c.first();var e=a.$('input[name^\x3d"asin"].attach-warranty-input');
0===e.length&&(e=a.$('.abbListItem.mbb__r input[name^\x3d"asin"]'));if(b.elementExists(e))for(var f=0;f<e.length;f++){var g=e[f].value,k=d.find("#huc-v2-order-row-item-"+g);if(k.length){d=b.elementExists(k)?k.find(".huc-v2-order-row-image"):d.find(".hlb-item-link.hlb-asin-"+g+" \x3e img");c=c.add(d.clone());break}}}a.$(h.PANE_CART_BASE_HUC_IMAGE).remove();a.$(h.PANE_CART_BASE_INITIAL_IMAGE).hide().parent().append(c);c.wrap('\x3cdiv class\x3d"huc-image-wrapper"\x3e\x3c/div\x3e')};d.getAccessoryLoggingData=
function(b){return{asin:a.$("#attach-accessory-asin-"+(parseInt(b)+1)).val(),index:b,priceFormatted:a.$("#attach-accessory-price-"+b+" \x3e .a-offscreen").text(),priceDecimal:parseFloat(a.$("#attach-accessory-base-price-"+b).val())||null,currencySymbol:a.$("#attach-accessory-base-currency-symbol-"+b).val()||null,couponDecimal:parseFloat(a.$("#attach-accessory-coupon-benefit-amount-"+b).val())||null,couponType:a.$("#attach-accessory-coupon-benefit-type-"+b).val()||null,dealType:a.$("#attach-accessory-deal-type-"+
b).val()||null,dealPercentSavings:parseInt(a.$("#attach-accessory-deal-percent-savings-"+b).val())||null,dealDollarAmount:a.$("#attach-accessory-deal-dollar-savings-"+b).val()||null,categoryIndex:a.$("#attach-accessory-category-index-"+b).val()||null,categoryTitle:a.$("#attach-accessory-category-title-"+b).val()||null,asinIndexWithinCategory:a.$("#attach-accessory-asin-category-index-"+b).val()||null}};d.createAccessoryImpressions=function(){var b=[];a.$(h.PANE_ACCESSORY_ASIN).parent().each(function(c,
e){e=a.$(e);if(e.is(":hidden")||"hidden"===e.css("visibility")||e.prop("data-accessory-seen"))return null;e.prop("data-accessory-seen",!0);b.push(d.getAccessoryLoggingData(c))});return b};d.resetAccessoryImpressions=function(){a.$(h.PANE_ACCESSORY_ASIN).parent().removeProp("data-accessory-seen")};d.initializeAccessoriesDisplay=function(){d.initializeAccessoriesCards();d.initializeAccessoriesTiles();d.initializeCategorizedAccessoriesCards();a.animationFrameDelay(function(){d.resetAccessoryImpressions();
g.logAccessoryImpressions(d.createAccessoryImpressions())})};d.initializeAccessoriesCards=function(){a.$(h.PANE_ACCESSORY_CARD).each(function(){var b=a.$(this),c=b.find(h.PANE_ACCESSORY_CARD_SEE_MORE),e=b.find(h.PANE_ACCESSORY_CARD_SEE_LESS),f=b.find(h.PANE_ACCESSORY_CARD_EXPAND_CONTENT);c.show();e.hide();f.hide();b.removeProp("data-card-expanded");b.removeProp("data-card-previously-expanded");c.click(function(){c.hide();e.show();f.slideDown(400);b.prop("data-card-expanded",!0);b.parent().animate({scrollTop:b.get(0).offsetTop-
30},400);b.prop("data-card-previously-expanded")||(b.prop("data-card-previously-expanded",!0),g.logAccessoryImpressions(d.createAccessoryImpressions()));g.logCount(g.CSM_METRICS.ATTACH_SHOW_MORE)});e.click(function(){e.hide();c.show();f.slideUp(400);b.prop("data-card-expanded",!1);g.logCount(g.CSM_METRICS.ATTACH_SHOW_LESS)})})};d.initializeAccessoriesTiles=function(){q.when("a-truncate").execute(function(b){a.$(h.PANE_ACCESSORY_TITLE).each(function(){b.get(this).update()});a.$(h.PANE_ACCESSORY_TILE_ITEM).hover(function(){var d=
a.$(this).find(h.PANE_ACCESSORY_TITLE);d.length&&b.get(d.get()).update()})})};d.initializeCategorizedAccessoriesCards=function(){b.elementExists(h.PANE_CATEGORIZED_ACCESSORIES_TILES_CARD)&&(a.on("a:expander:attach_see_more_expander:toggle:expand",function(){g.logAccessoryImpressions(d.createAccessoryImpressions())}),a.on("a:expander:attach_category_expander:toggle:expand",function(){g.logAccessoryImpressions(d.createAccessoryImpressions())}))};d.initializeAccessoriesCarousel=function(){q.when("a-truncate",
"a-carousel-framework").execute(function(b,c){if(a.$(h.PANE_ACCESSORY_CAROUSEL).length){a.$(h.PANE_ACCESSORY_TITLE).each(function(){b.get(this).update()});c.createAll();var e=c.getCarousel(a.$(h.PANE_ACCESSORY_CAROUSEL));e&&(e.attachViewedPages=[1],e.gotoPage(1,{animationDuration:1}),a.on("a:carousel:attach-carousel:change:animating",function(a){a.newValue||(a=e.getAttr("pageNumber"),-1===e.attachViewedPages.indexOf(a)&&(e.attachViewedPages.push(a),g.logAccessoryImpressions(d.createAccessoryImpressions())))}))}})};
d.initializeCoupons=function(){var b;a.$(h.PANE_ACCESSORY_COUPON_BADGE_CLASS).each(function(){var b=a.$(this).text().replace(/\s+/g," ");a.$(this).attr("title",b)});a.on("a:popover:positionUpdated:attach-coupon-popover",d.handleCouponPopoverPositionUpdated);a.on("a:popover:beforeShow:attach-coupon-popover",function(c){c.popover.$trigger.parents(h.PANE_ACCESSORY_TILE_ITEM).addClass("hover");b=d.createCouponPopoverPositionHandler(c);a.$(n).bind("scroll",b);a.$(h.PANE+" \x3e .a-scroller").bind("scroll",
b)});a.on("a:popover:afterHide:attach-coupon-popover",function(d){d.popover.$trigger.parents(h.PANE_ACCESSORY_TILE_ITEM).removeClass("hover");a.$(n).unbind("scroll",b);a.$(h.PANE+" \x3e .a-scroller").unbind("scroll",b)});a.declarative("attach-coupon-checkbox","change",function(b){var c=b.data,e=b.$currentTarget.parents(h.PANE_ACCESSORY_COUPON);c&&c.ajaxClaimUrl?a.$.get(c.ajaxClaimUrl).done(function(){d.handleCouponClaimSuccess(e,c.accessoryItemIndex)}).fail(function(a,b,c){q.logError(Error(c),"Could not clip coupon: ",
"ERROR","attach-desktop-accessories-pane");d.handleCouponClaimError(e)}):(q.logError(Error("Coupon claim URL not available"),"Could not clip coupon: ","ERROR","attach-desktop-accessories-pane"),d.handleCouponClaimError(e))})};d.handleCouponPopoverPositionUpdated=function(a){a.popover.$container.css("z-index",6E3)};d.createCouponPopoverPositionHandler=function(a){return function(){a.popover.updatePosition()}};d.handleCouponClaimSuccess=function(a,b){g.logPromotionClaimed(d.getAccessoryLoggingData(b-
1));a.find(h.PANE_ACCESSORY_COUPON_UNCLIPPED_CLASS).addClass("aok-hidden");a.find(h.PANE_ACCESSORY_COUPON_CLIPPED_CLASS).removeClass("aok-hidden");a=a.parents(h.PANE_ACCESSORY_TILE_ITEM);a.length&&(a.find(h.PANE_ACCESSORY_COUPON_BADGE_UNCLIPPED_CLASS).addClass("aok-hidden"),a.find(h.PANE_ACCESSORY_COUPON_BADGE_CLIPPED_CLASS).removeClass("aok-hidden"))};d.handleCouponClaimError=function(a){a.find(h.PANE_ACCESSORY_COUPON_UNCLIPPED_CLASS).addClass("aok-hidden");a.find(h.PANE_ACCESSORY_COUPON_CLIPPED_CLASS).addClass("aok-hidden");
a.find(h.PANE_ACCESSORY_COUPON_ERROR_CLASS).removeClass("aok-hidden")};d.updateLightningDealTimer=function(b){var c=a.$("#attach-accessory-deal-timer-"+b).val()-1;a.$("#attach-accessory-deal-timer-"+b).val(c);var e=d.convertTimeLeftToString(c);a.$("#attach-accessory-deal-timer-string-"+b).text(e);0===c?d.handleDealHasEnded(b):setTimeout(d.updateLightningDealTimer,1E3,b)};d.convertTimeLeftToString=function(a){var b=Math.floor(a/3600),c=Math.floor(a/60)%60;a%=60;return 0>=b?d.appendZeroIfSingleDigit(c)+
":"+d.appendZeroIfSingleDigit(a):b+":"+d.appendZeroIfSingleDigit(c)+":"+d.appendZeroIfSingleDigit(a)};d.appendZeroIfSingleDigit=function(a){return(10>a?"0":"")+a};d.handleDealHasEnded=function(b){a.$(h.PANE_ACCESSORY_ADD_SUCCESS_PREFIX+b).hasClass("aok-hidden")&&(a.$("#attach-accessory-asin-"+(b+1)).parent().addClass("lightning-deal-ended"),a.$("#attach-accessory-deal-on-waitlist-"+b).addClass("aok-hidden"),a.$("#attach-accessory-deal-has-ended-"+b).removeClass("aok-hidden"))};d.updateLightningDealTimeToCheckoutTimer=
function(b){var c=a.$("#attach-accessory-time-to-checkout-"+b).val()-1;a.$("#attach-accessory-time-to-checkout-"+b).val(c);var e=d.convertTimeLeftToString(c);a.$("#attach-accessory-time-to-checkout-string-"+b).text(e);0===c?(a.$("#attach-accessory-ld-in-cart-details-"+b).addClass("aok-hidden"),a.$(h.PANE_ACCESSORY_ADD_SUCCESS_PREFIX+b).addClass("aok-hidden"),a.$("#tile-add-accessory-badge-"+b).addClass("aok-hidden"),a.$(h.PANE_ACCESSORY_ADD_BUTTON_PREFIX+b).removeClass("aok-hidden"),a.$("#attach-accessory-deal-availability-details-"+
b).removeClass("aok-hidden")):setTimeout(d.updateLightningDealTimeToCheckoutTimer,1E3,b)};d.handleLightningDealAddToCart=function(b,c,e){a.$("#attach_add_accessory-button-row-"+b).addClass("aok-hidden");"INWAITLIST"===e?a.$("#attach-accessory-deal-on-waitlist-"+b).removeClass("aok-hidden"):(a.$("#attach-accessory-deal-availability-details-"+b).addClass("aok-hidden"),a.$("#attach-accessory-time-to-checkout-"+b).val(c/1E3),d.updateLightningDealTimeToCheckoutTimer(b),a.$("#attach-accessory-ld-in-cart-details-"+
b).removeClass("aok-hidden"))};d.initializeLightningDealStatusRefresher=function(c){var e=a.$("#attach-accessory-claim-deal-params-"+c).val(),f=JSON.parse(b.unescapeJson(e));a.$("#attach-accessory-deal-has-ended-"+c).hasClass("aok-hidden")&&(e=[{dealID:f.dealId}],e=JSON.stringify({requestMetadata:{marketplaceID:a.$(h.MARKETPLACE_ID).val(),clientID:"goldbox_udp",sessionID:a.$("#attach-sessionId").val(),customerID:a.$("#attach-customerId").val()},dealTargets:e,responseSize:"STATUS_ONLY",itemResponseSize:"NONE"}),
a.$.ajax({type:"POST",url:"/xa/dealcontent/v2/GetDealStatus",dataType:"json",headers:{"cache-control":"no-cache"},data:e,success:function(a){a=a.dealStatus[f.dealId];var b=Number.MAX_VALUE;a&&d.updateLightningDealInfo(c,a.dealState,a.percentClaimed)&&setTimeout(d.initializeLightningDealStatusRefresher,b<a.msCacheTtl?b:3E4,c)}}))};d.updateLightningDealInfo=function(b,c,e){if("AVAILABLE"!==c&&"WAITLIST"!==c)return d.handleDealHasEnded(b),!1;var f=a.$("#attach_add_accessory_button_"+b+"-announce");"WAITLIST"===
c?f.html(a.$("#attach-accessory-join-waitlist-string").html()):"AVAILABLE"===c&&f.html(a.$("#attach-accessory-add-to-cart-string").html());a.$("#attach-accessory-percent-claimed-"+b).text(e);a.$("#attach-accessory-deal-progress-bar-width-"+b).width(e+"%");return!0};return d});"use strict";q.when("A","attach-common","attach-weblabs").register("attach-desktop-side-sheet",function(a,b,f){var e={},g=[],m=-1,d,c,r,k,q,u=e.Selectors={PLACEHOLDER:"#attach-dss-placeholder",SHEET:"#attach-desktop-sideSheet",
LIGHTBOX:"#attach-popover-lgtbox.attach-popover"};e.transitionDuration=500;e.onKeyDown=function(a){27===a.which&&e.next()};e.initialize=function(){g=[];b.elementExists(u.SHEET)?e.$container=a.$(u.SHEET):(e.$container=a.$('\x3cdiv id\x3d"attach-desktop-sideSheet" class\x3d"a-section attach-desktop-sideSheet"\x3e\x3c/div\x3e'),e.$container.addClass("aok-hidden"),e.$container.appendTo(u.PLACEHOLDER));b.elementExists(u.LIGHTBOX)||(k=a.$("\x3cdiv id\x3d'attach-popover-lgtbox' class\x3d'a-declarative attach-popover a-modal' data-action\x3d'a-popover-floating-close' style\x3d'z-index: 1008; opacity: 0.4; cursor: pointer'\x3e\x3c/div\x3e"),
k.hide(),k.appendTo(u.PLACEHOLDER),k.click(e.next));a.$(document).unbind("keydown",e.onKeyDown);a.$(document).keydown(e.onKeyDown);d=function(){};c=function(){};r=!0};e.setFailureHandler=function(a){d=a};e.setCloseHandler=function(a){c=a};e.fail=function(a,b){d(a,b)};e.addPane=function(a){g.push(a)};e.removePane=function(a){a=g.indexOf(a);-1<a&&g.splice(a,1)};e.getPaneIndex=function(a){return g.indexOf(a)};e.insertPane=function(a,b){b===y&&(b=g.length);g.splice(b,0,a);r=!0};e.hasPane=function(a){return-1<
e.getPaneIndex(a)};e.next=function(){m+1===g.length?(k.hide(),e.$container.animate({right:q},{duration:e.transitionDuration,complete:function(){g[m].hide();m=-1;c()}}),n.ue&&n.ue.count&&n.ue.count("ATTACH_DSS_CLOSE_ACCESSORY_PANE",(n.ue.count("ATTACH_DSS_CLOSE_ACCESSORY_PANE")||0)+1),a.trigger("HIDE_SIDE_SHEET")):-1!==m&&(g[m].hide(),g[m+1].show(),m+=1)};e.show=function(){if(r){r=!1;var b=a.$.map(g,function(a){return a.load(e)});a.$.when.apply(a.$,b).fail(e.fail).done(function(){a.$.each(g,function(a,
b){b.setup(e)});e.show()})}else m=0,g[m].show(),q=e.$container.css("right"),e.$container.removeClass("aok-hidden"),e.$container.animate({right:"0"},e.transitionDuration,"linear"),k.show(),n.ue&&n.ue.count&&(b=a.$("#attach-customerId").val()?"ATTACH_DSS_SHOW_HAS_CUSTOMER_ID":"ATTACH_DSS_SHOW_NO_CUSTOMER_ID",n.ue.count(b,(n.ue.count(b)||0)+1),b="true"===a.$("#attach-is-prime-member").val()?"ATTACH_DSS_IS_PRIME_MEMBER":"ATTACH_DSS_IS_NOT_PRIME_MEMBER",n.ue.count(b,(n.ue.count(b)||0)+1))};e.isEmpty=function(){return 0===
g.length};return e});"use strict";q.when("A","attach-common","attach-weblabs","attach-logging","attach-maple","attach-desktop-warranty-pane","attach-desktop-accessories-pane","attach-desktop-side-sheet","attach-variant-registration").register("attach-desktop",function(a,b,f,e,g,m,d,c,r){var k={},w,u=n.ue,t=!0,l=k.Events={CLICK:"click",ATTACH_ATC_CLICK_NAMESPACE:"click.attachDSS",WARRANTY_SI_CLICK_NAMESPACE:"click.siatc",VAS_SI_CLICK_NAMESPACE:"click.lsatc",LD_CLAIM_SUCCESS:"deals_claimDealSuccess",
LD_CLAIM_ERROR:"deals_claimDealError"},h=k.Endpoints={ERROR_500_URL:"/gp/errors/500.html",WARRANTY_SI_CHECK:"/gp/si/util/is-si-with-triggers.html"},p=k.Selectors={ADD_TO_CART_BUTTON:"#add-to-cart-button",INSTALLMENTS_BUTTON:"#installments-button",ASIN:"#ASIN",QUANTITY:"#quantity",BASE_ITEM_PRICE_DECIMAL:"#attach-base-product-price",BASE_ITEM_CURRENCY_SYMBOL:"#attach-base-product-currency-symbol",ATTACH_ASIN_LIST:"#attach-asin-list",ATTACH_MARKETPLACE_ID:"#attach-marketplaceId",ATTACH_BASE_ASIN:"#attach-baseAsin",
MBB_WARRANTY_ITEM:"#abbWrapper .abbListItem input[type\x3dcheckbox]",WTY_TWISTER_SELECTED_GROUP:".warranty-twister-selected-box-group",WTY_TWISTER_WTY_OPTION:".warranty-twister-box-group-warranty-option",LD_BUY_BOX:"#dealsAccordionRow",LD_ATC_BUTTON:".gb-btn-atc"},x=k.Classes={ATTACH_DSS_ATC:"attach-dss-atc"},A=-1,v=function(){a.off(l.LD_CLAIM_SUCCESS,v);a.off(l.LD_CLAIM_ERROR,y);b.selectedBaseLightningDeal=!0;c.setCloseHandler(k.setupAddToCartButton);k.handleLdAddToCartClick();q.when("attach-lightning-deals-desktop").execute(function(a){a.handleDealClaim()})},
y=function(){a.off(l.LD_CLAIM_ERROR,y);a.off(l.LD_CLAIM_SUCCESS,v);a.$(p.LD_ATC_BUTTON).bind(l.CLICK,B)},B=function(){a.$(p.LD_ATC_BUTTON).unbind(l.CLICK,B);a.on(l.LD_CLAIM_SUCCESS,v);a.on(l.LD_CLAIM_ERROR,y)};k.initialize=function(){if(!b.elementExists(c.Selectors.PLACEHOLDER)){if(0===f.getAllWeblabsToTriggerClientSide().length)return!1;t=!1}k.setupDependencies();k.setupSideSheet();k.setupAddToCartButton()};k.setupDependencies=function(){var b=a.$(p.ATTACH_MARKETPLACE_ID).val();e.initialize(e.FEATURES.DSS,
b);e.setPayloadBuilder(function(){return{baseAsin:a.$(p.ASIN).val(),baseItemPriceDecimal:parseFloat(a.$(p.BASE_ITEM_PRICE_DECIMAL).val())||null,baseItemCurrencySymbol:a.$(p.BASE_ITEM_CURRENCY_SYMBOL).val()||null,quantity:Number(a.$(p.QUANTITY).val())||1}});g.initialize();q.when("attach-external-atc-interceptor").execute(function(a){w=a;w.enableModule()})};k.setupSideSheet=function(){c.initialize();c.setFailureHandler(k.failure);!f.isWarrantyPaneSuppressed()&&b.hasWarranty()?c.addPane(m):d.setShouldIncludeMaple(!0);
!f.servicesInterstitialDeprecated()||b.hasAccessories()?(c.addPane(d),c.setCloseHandler(k.setupAddToCartButton)):c.setCloseHandler(k.failureTransitionToHUC)};k.setupAddToCartButton=function(){a.$(document.body).delegate(p.ADD_TO_CART_BUTTON,l.ATTACH_ATC_CLICK_NAMESPACE,k.handleAddToCartClick);a.$(p.ADD_TO_CART_BUTTON).prop("type","button").addClass(x.ATTACH_DSS_ATC);f.isInstallmentsDssIntegrationEnabled()?(a.$(document.body).delegate(p.INSTALLMENTS_BUTTON,l.ATTACH_ATC_CLICK_NAMESPACE,k.handleAddToCartClick),
a.$(p.INSTALLMENTS_BUTTON).prop("type","button").addClass(x.ATTACH_DSS_ATC),a.$(p.INSTALLMENTS_BUTTON).click(function(){u&&u.trigger&&u.trigger("DP_INSTALLMENTS_DSS_231673","T1")})):a.$(p.INSTALLMENTS_BUTTON).click(function(){u&&u.trigger&&u.trigger("DP_INSTALLMENTS_DSS_231673","C")});f.isAttachLDSupportEnabled()&&b.elementExists(p.LD_BUY_BOX)&&(a.$(p.LD_ATC_BUTTON).bind(l.CLICK,B).addClass(x.ATTACH_DSS_ATC),!f.isWarrantyPaneSuppressed()&&b.hasWarranty()&&!c.hasPane(m)&&-1<A&&c.insertPane(m,A),e.logCount(e.CSM_METRICS.ATTACH_BASE_LD_PRESENT));
e.logCount(e.CSM_METRICS.ATTACH_SIDE_SHEET_CLOSE)};k.failure=function(a,c){switch(a){case b.FailureModes.ERROR_500:k.failureError500();break;case b.FailureModes.RESUBMIT_BUY_BOX:k.failureResubmitBuyBox();break;case b.FailureModes.UNBIND_ATC:k.failureUnbindATC();break;case b.FailureModes.REBIND_ATC:k.failureRebindATC();break;default:case b.FailureModes.TRANSITION_TO_HUC:k.failureTransitionToHUC()}};k.failureError500=function(){n.location=h.ERROR_500_URL};k.failureResubmitBuyBox=function(){f.isAttachLDSupportEnabled()&&
b.selectedBaseLightningDeal?k.failureRebindATC():(k.failureUnbindATC(),b.buyButton.click())};k.failureUnbindATC=function(){a.$(document.body).undelegate(p.ADD_TO_CART_BUTTON,l.ATTACH_ATC_CLICK_NAMESPACE);a.$(p.ADD_TO_CART_BUTTON).prop("type","submit");f.isInstallmentsDssIntegrationEnabled()&&(a.$(document.body).undelegate(p.INSTALLMENTS_BUTTON,l.ATTACH_ATC_CLICK_NAMESPACE),a.$(p.INSTALLMENTS_BUTTON).prop("type","submit"))};k.failureTransitionToHUC=function(){if(f.isAttachLDSupportEnabled()&&b.selectedBaseLightningDeal)return k.failureUnbindATC();
f.servicesInterstitialDeprecated()?a.$(document.body).undelegate(p.ADD_TO_CART_BUTTON,l.VAS_SI_CLICK_NAMESPACE):a.$(document.body).undelegate(p.ADD_TO_CART_BUTTON,l.WARRANTY_SI_CLICK_NAMESPACE);f.isInstallmentsDssIntegrationEnabled()&&(f.servicesInterstitialDeprecated()?a.$(document.body).undelegate(p.INSTALLMENTS_BUTTON,l.VAS_SI_CLICK_NAMESPACE):a.$(document.body).undelegate(p.INSTALLMENTS_BUTTON,l.WARRANTY_SI_CLICK_NAMESPACE));k.failureResubmitBuyBox()};k.failureRebindATC=function(){k.setupAddToCartButton()};
k.handleAddToCartClick=function(d){b.buyButton=a.$(d.target);a.$(document.body).undelegate(p.ADD_TO_CART_BUTTON,l.ATTACH_ATC_CLICK_NAMESPACE);f.isInstallmentsDssIntegrationEnabled()&&(a.$(document.body).undelegate(p.INSTALLMENTS_BUTTON,l.ATTACH_ATC_CLICK_NAMESPACE),b.getAtcForm().append(b.buyButton.filter("input").clone().attr("type","hidden")));f.isAttachLDSupportEnabled()&&b.elementExists(p.LD_BUY_BOX)&&a.$(p.LD_ATC_BUTTON).unbind(l.CLICK,B);f.isAttachLDSupportEnabled()&&!b.selectedBaseLightningDeal&&
f.servicesInterstitialDeprecated()&&!b.hasAccessories()&&c.setCloseHandler(k.failureTransitionToHUC);a.$.when().pipe(k.checkWarranty).pipe(k.checkClientSideWeblabTriggering).pipe(k.checkFeatureExists).pipe(k.show).fail(k.failure);if(t)return d.preventDefault(),d.stopImmediatePropagation(),!1};k.handleLdAddToCartClick=function(){a.$(document.body).undelegate(p.ADD_TO_CART_BUTTON,l.ATTACH_ATC_CLICK_NAMESPACE);a.$(p.LD_ATC_BUTTON).unbind(l.CLICK,B);a.$.when().pipe(k.checkWarranty).pipe(k.checkClientSideWeblabTriggering).pipe(k.checkFeatureExists).pipe(k.show).fail(k.failure)};
k.checkFeatureExists=function(){if(k.shouldSuppressForFeatureNotPresent())return f.isAttachLDSupportEnabled()&&b.selectedBaseLightningDeal?(a.trigger("HIDE_SIDE_SHEET"),b.selectedBaseLightningDeal=!1,b.reject(b.FailureModes.REBIND_ATC)):b.reject(b.FailureModes.RESUBMIT_BUY_BOX,{count:"ATTACH_DSS_SUPPRESSED_FEATURE_DOES_NOT_EXIST"})};k.checkWarranty=function(){if(!f.isWarrantyPaneSuppressed())if(f.isAttachLDSupportEnabled()&&b.selectedBaseLightningDeal&&(!f.isWarrantyLDSupportEnabled()||b.isMultiQuantityDeal()||
!a.$("#attach-warranty-ld #attach-warranty-asin").val()))A=c.getPaneIndex(m),c.removePane(m);else if(k.shouldSuppressForWarrantyInMbb())c.removePane(m),d.setShouldIncludeMaple(!0),e.logCount("ATTACH_DSS_SUPPRESSED_MBB_WARRANTY_CHECKED",1);else if(f.servicesInterstitialDeprecated()&&k.shouldSuppressforMultiQuantityMonthlyWarranty())c.removePane(m),d.setShouldIncludeMaple(!0),e.logCount("ATTACH_DSS_SUPPRESSED_MULTI_QUANTITY_MONTHLY_WARRANTY",1);else if(b.hasWarranty())return a.$.get(h.WARRANTY_SI_CHECK).pipe(k.handleSICheck,
k.handleSIFailure)};k.checkClientSideWeblabTriggering=function(){f.triggerClientSideWeblabs();if(!f.servicesInterstitialDeprecated()&&!b.elementExists(p.ATTACH_ASIN_LIST))return b.reject(b.FailureModes.UNBIND_ATC,{count:"ATTACH_DSS_SUPPRESSED_EMPTY_ASIN_LIST"})};k.handleSICheck=function(a){if(!a)return b.reject(b.FailureModes.RESUBMIT_BUY_BOX,{count:"ATTACH_DSS_SUPPRESSED_SI_CHECK_FAILURE"});a.suppressSi&&(c.removePane(m),d.setShouldIncludeMaple(!0),e.logCount("ATTACH_DSS_SUPPRESSED_SI",1))};k.handleSIFailure=
function(){return b.reject(b.FailureModes.RESUBMIT_BUY_BOX,{count:"ATTACH_DSS_SUPPRESSED_SI_CHECK_FAILURE"})};k.shouldSuppressForFeatureNotPresent=function(){return f.servicesInterstitialDeprecated()?!b.elementExists(c.Selectors.PLACEHOLDER)||c.isEmpty():!b.elementExists(c.Selectors.PLACEHOLDER)||!b.elementExists(p.ATTACH_ASIN_LIST)||!b.elementExists(p.ATTACH_MARKETPLACE_ID)||!b.elementExists(p.ATTACH_BASE_ASIN)};k.shouldSuppressForWarrantyInMbb=function(){return f.isWarrantyTwisterPlusDesktopEnabled()?
0<a.$(p.MBB_WARRANTY_ITEM).filter(":checked").length||0<a.$(p.WTY_TWISTER_SELECTED_GROUP).filter(p.WTY_TWISTER_WTY_OPTION).length:0<a.$(p.MBB_WARRANTY_ITEM).filter(":checked").length};k.shouldSuppressforMultiQuantityMonthlyWarranty=function(){var c=Number(a.$(p.QUANTITY).val())||1;return b.hasMonthlyWarranty()&&1<c};k.show=function(){c.show()};return k});q.when("A","attach-desktop","attach-weblabs","ready").execute("attach-desktop-main",function(a,b,f){b.initialize();a.on("a:pageUpdate",a.debounce(function(){b.initialize();
a.trigger("attach:dss:initialized")},300))});"use strict";q.when("A","attach-desktop","dp-util-cookie","cf").execute(function(a,b,f){"000-0000000-8675309"===a.$("#attach-sessionId").val()&&a.$("#attach-sessionId").val(f("session-id"))});"use strict";q.when("A","attach-logging","ready").register("attach-categorized-cards",function(a,b){var f=self.Selectors={CATEGORIZED_ACCESSORIES_PANE:"#attach-categorized-accessories",CATEGORIZED_ACCESSORIES_SEE_MORE:".category-see-more",CATEGORIZED_ACCESSORIES_SEE_LESS:".category-see-less",
CATEGORIZED_CARD_EXPAND_CONTENT:".card-expand-content",CATEGORIZED_CARD_EXPANDABLE:".card-expandable",CATEGORIZED_CARD_CATEGORY:".card-category"},e=self.Constants={CATEGORY_CARD_EXPANDED:"category-card-expanded",CATEGORY_CARD_PREVIOUSLY_EXPANDED:"category-card-previously-expanded"};self.initializeCategorizedCards=function(){a.$(f.CATEGORIZED_ACCESSORIES_PANE+f.CATEGORIZED_CARD_EXPANDABLE+" "+f.CATEGORIZED_CARD_CATEGORY).each(function(){var g=a.$(this),m=g.find(f.CATEGORIZED_ACCESSORIES_SEE_MORE),
d=g.find(f.CATEGORIZED_ACCESSORIES_SEE_LESS),c=g.find(f.CATEGORIZED_CARD_EXPAND_CONTENT);m.show();d.hide();c.hide();g.removeProp(e.CATEGORY_CARD_EXPANDED);g.removeProp(e.CATEGORY_CARD_PREVIOUSLY_EXPANDED);m.click(function(){m.hide();d.show();c.slideDown(400);g.prop(e.CATEGORY_CARD_EXPANDED,!0);g.parent().animate({scrollTop:g.get(0).offsetTop-30},400);b.logCount(b.CSM_METRICS.ATTACH_SHOW_MORE)});d.click(function(){d.hide();m.show();c.slideUp(400);g.prop(e.CATEGORY_CARD_EXPANDED,!1);b.logCount(b.CSM_METRICS.ATTACH_SHOW_LESS)})})};
return self});"use strict";q.when("A","attach-logging").register("attach-secondary-side-sheet",function(a,b,f){var e=a.$;f={name:"secondary-side-sheet"};var g={},m=f.Utilities={},d,c,n=f.AuiConstants={AUI_SPINNER:".a-spinner-wrapper",AOK_HIDDEN:"aok-hidden"},k=f.Htmltags={LI:"li",IMG:"img",IMG_SRC:"src",IMG_ALT:"alt",INPUT:"input",DATA_ASININDEX:"asinindex"},q=f.CssProsVal={CSS_DISPLAY:"display",CSS_DISPLAY_INLINE_BLOCK:"inline-block",CSS_WIDTH:"width",CSS_HEIGHT:"height"},u=f.Declarative={ATTACH_ACCESSORY_MINI_DP:"attach_accessory_mini_dp",
MINI_DP_ATC:"mini_dp_add_to_cart",MINI_DP_BACK_BUTTON:"mini_dp_back_button",MINI_DP_NO_THANKS:"mini_dp_no_thanks"},t=f.Events={UPSELL_ASIN_ADDED_TO_CART:"UPSELL_ASIN_ADDED_TO_CART",UPSELL_ASIN_NOT_ADDED_TO_CART:"UPSELL_ASIN_NOT_ADDED_TO_CART",HIDE_SIDE_SHEET:"HIDE_SIDE_SHEET",CLICK:"click",ATTACH_LOADED_ACCESSORIES_PANE_SUCCESSFULLY:"LOADED_ACCESSORIES_PANE_SUCCESSFULLY",RESET_SECONDARY_SIDE_SHEET_MODULE:"RESET_SECONDARY_SIDE_SHEET_MODULE"},l=f.Selectors={PANE_ACCESORIES_CARD:"#attach-accessories",
PANE_ACCESSORY_ADD_BUTTON_PREFIX:"#attach_add_accessory_button_",PANE_ACCESSORY_ADD_SUCCESS_PREFIX:"#attach_add_accessory_alert_",PANE_ACCESSORY_ADD_ERROR_PREFIX:"#attach_add_accessory_error_",PANE_ACCESSORY_DISPLAY:".attach-accessory-display-row, .attach-accessory-tile",PANE_CATEGORIZED_ACCESSORIES_CARD:"#attach-categorized-accessories",BASE_ASIN:"#ASIN",SECONDARY_SIDE_SHEET:".secondary-side-sheet",BACK_BUTTON:".back-button",MINI_DP_VIEW:".miniDp-view",MINI_DP_RESPONSE:".miniDpResponse",ASIN_TITLE:".asin-title",
ASIN_REVIEW:".asin-review",ASIN_REVIEW_ROW:".asin-review-row",PRICE_OFFER_ROW:".price-offer-row",ASIN_OFFER_PRICE:".asinOfferPrice",PRODUCT_IMAGE_MAIN:".productImageMain",PRODUCT_IMAGES_LIST:".productImagesList",FEATURE_BULLET_POINTS:".featureBulletPoints",MINI_DP_PRODUCT_FEATURES:".mini_dp_product_features",MINI_DP_IMG_THUMBNAIL_LIST:".imgThumbnailList",MINI_DP_ACTION_BUTTONS:".miniDp_action_buttons",MINI_DP_ACTION_BUTTONS_STATES:".miniDp-action-buttons-states",MINI_DP_ADD_ACCESSORY_ALERT:"#miniDp_attach_add_accessory_alert",
MINI_DP_ADD_ACCESSORY_ERROR:"#miniDp_attach_add_accessory_error",MINI_DP_ADD_TO_CART_RETRY:".attach-add-to-cart-retry",MINI_DP_ADD_ACCESSORY_ASIN:"#attach-minidp-accessory-asin"},h=f.RefTags={MINI_DP_SUCCESSFUL_LOAD:"dp_atch_dss_ss_ce_",MINI_DP_ADD_ACCESSORY_CLICK:"dp_atch_dss_atc_ce_",MINI_DP_BACK_BUTTON_CLICK:"dp_atch_dss_ss_back_ce_",MINI_DP_NO_THANKS_CLICK:"dp_atch_dss_ss_nt_ce_",MINI_DP_ADD_TO_CART_SUCCESS:"dp_atch_dss_atc_success_ce_",MINI_DP_ADD_TO_CART_FAILURE:"dp_atch_dss_atc_fail_ce_"},
p=f.MiniDpAjax={MINI_DP_AJAX_ENDPOINT:"/gp/product/features/aloha-ppd/udp-ajax-handler/minidp.html?",MINI_DP_AJAX_TAB:"\x26activeTab\x3d0",TEXT_STATUS_SUCCESS:200};m.showHideSpinner=function(b){b?a.$(n.AUI_SPINNER).show():a.$(n.AUI_SPINNER).hide()};m.isCategoryView=function(){return a.$(l.PANE_CATEGORIZED_ACCESSORIES_CARD).length?!0:!1};m.showSecondarySideSheet=function(b){b?(m.isCategoryView()?a.$(l.PANE_CATEGORIZED_ACCESSORIES_CARD).hide():a.$(l.PANE_ACCESORIES_CARD).hide(),a.$(l.SECONDARY_SIDE_SHEET).slideDown(1E3),
m.showHideSpinner(!0),a.$(l.BACK_BUTTON).show(),a.$(l.SECONDARY_SIDE_SHEET+" "+l.MINI_DP_VIEW).hide()):(m.isCategoryView()?a.$(l.PANE_CATEGORIZED_ACCESSORIES_CARD).slideDown(2E3):a.$(l.PANE_ACCESORIES_CARD).slideDown(2E3),a.$(l.BACK_BUTTON).hide(),a.$(l.SECONDARY_SIDE_SHEET).hide())};f.init=function(){a.declarative(u.ATTACH_ACCESSORY_MINI_DP,t.CLICK,function(f){function A(){e(l.MINI_DP_VIEW+" "+l.MINI_DP_IMG_THUMBNAIL_LIST+" "+k.LI).hover(function(a){a=e(this).find(k.IMG).attr(k.IMG_SRC);e(l.MINI_DP_VIEW+
" "+l.PRODUCT_IMAGE_MAIN+" "+k.IMG).attr(k.IMG_SRC,a);b.logCount(b.CSM_METRICS.MINI_DP_CAROUSEL_THUMBNAIL_CHANGE)})}function v(){m.showSecondarySideSheet(!1);var c=e(l.SECONDARY_SIDE_SHEET).data(k.DATA_ASININDEX);c in g||(a.$(l.PANE_ACCESSORY_ADD_BUTTON_PREFIX+c).find(k.INPUT).click(),g[c]=!0,b.logSecondarySheetRefTag(h.MINI_DP_ADD_ACCESSORY_CLICK+C+"_"+z.upsellasin),b.logCount(b.CSM_METRICS.MINI_DP_ATC),b.endLatencyCapture(b.CSM_METRICS.MINI_DP_DWELL_TIME))}function F(){var a=e(l.PANE_ACCESSORY_ADD_SUCCESS_PREFIX+
C).css(q.CSS_DISPLAY),b=e(l.PANE_ACCESSORY_ADD_ERROR_PREFIX+C).css(q.CSS_DISPLAY);a===q.CSS_DISPLAY_INLINE_BLOCK?(e(l.MINI_DP_ACTION_BUTTONS_STATES+" "+l.MINI_DP_ADD_ACCESSORY_ALERT).removeClass(n.AOK_HIDDEN),e(l.MINI_DP_ACTION_BUTTONS_STATES+" "+l.MINI_DP_ADD_ACCESSORY_ERROR).addClass(n.AOK_HIDDEN),e(l.MINI_DP_ACTION_BUTTONS).addClass(n.AOK_HIDDEN)):b===q.CSS_DISPLAY_INLINE_BLOCK?(e(l.MINI_DP_ACTION_BUTTONS_STATES+" "+l.MINI_DP_ADD_ACCESSORY_ERROR).removeClass(n.AOK_HIDDEN),e(l.MINI_DP_ACTION_BUTTONS_STATES+
" "+l.MINI_DP_ADD_ACCESSORY_ALERT).addClass(n.AOK_HIDDEN),e(l.MINI_DP_ACTION_BUTTONS).addClass(n.AOK_HIDDEN)):(e(l.MINI_DP_ACTION_BUTTONS_STATES+" "+l.MINI_DP_ADD_ACCESSORY_ALERT).addClass(n.AOK_HIDDEN),e(l.MINI_DP_ACTION_BUTTONS_STATES+" "+l.MINI_DP_ADD_ACCESSORY_ERROR).addClass(n.AOK_HIDDEN),e(l.MINI_DP_ACTION_BUTTONS).removeClass(n.AOK_HIDDEN))}function B(){a.$(l.MINI_DP_VIEW+" "+l.ASIN_TITLE).html(G);a.$(l.MINI_DP_VIEW+" "+l.ASIN_REVIEW).html(E);a.$(l.MINI_DP_VIEW+" "+l.PRICE_OFFER_ROW).html(H);
a.$(l.MINI_DP_VIEW+" "+l.ASIN_OFFER_PRICE).html(I);var b=a.$(l.MINI_DP_RESPONSE+" "+l.PRODUCT_IMAGES_LIST+" "+k.LI+" "+k.IMG),b=a.$(b).map(function(){return a.$(this).attr(k.IMG_SRC)});e(l.MINI_DP_VIEW+" "+l.PRODUCT_IMAGE_MAIN+" "+k.IMG).attr(k.IMG_SRC,b[0]);e(l.MINI_DP_VIEW+" "+l.PRODUCT_IMAGE_MAIN+" "+k.IMG).attr(k.IMG_ALT,b[0]);b=e(l.MINI_DP_RESPONSE+" "+l.PRODUCT_IMAGES_LIST).clone();e(l.MINI_DP_VIEW+" "+l.MINI_DP_IMG_THUMBNAIL_LIST).html(b[0]);A();e(l.MINI_DP_VIEW+" "+l.MINI_DP_IMG_THUMBNAIL_LIST+
" "+k.IMG).each(function(){e(this).removeAttr(q.CSS_WIDTH).removeAttr(q.CSS_HEIGHT)});b=e(l.MINI_DP_RESPONSE+" "+l.FEATURE_BULLET_POINTS).clone();e(l.MINI_DP_VIEW+" "+l.MINI_DP_PRODUCT_FEATURES).html(b);F()}a.$(f.$target).attr("id");var D=a.$(f.$declarativeParent);f=a.$(f.$target).closest(l.PANE_ACCESSORY_DISPLAY);var z=a.$(D).data(u.ATTACH_ACCESSORY_MINI_DP),G=z.title,E=a.$(f).find(l.ASIN_REVIEW_ROW).html(),H=a.$(f).find(l.PRICE_OFFER_ROW).html(),I=z.offerprice,C=z.asinIndex,D=z.marketplaceid;c=
C;d=z.upsellasin;e(l.MINI_DP_ADD_ACCESSORY_ASIN).val(d);e(l.SECONDARY_SIDE_SHEET).data(k.DATA_ASININDEX,C);m.showSecondarySideSheet(!0);b.logCount(b.CSM_METRICS.MINI_DP_OPEN);b.beginLatencyCapture(b.CSM_METRICS.MINI_DP_DWELL_TIME);a.ajax(p.MINI_DP_AJAX_ENDPOINT+"asin\x3d"+z.upsellasin+"\x26marketplaceId\x3d"+D+"\x26offerId\x3d"+z.offerlistingid+p.MINI_DP_AJAX_TAB,{method:"get",success:function(c,d,f){f.http.status===p.TEXT_STATUS_SUCCESS&&c!==y&&(a.$(l.SECONDARY_SIDE_SHEET+" "+l.MINI_DP_RESPONSE).html(c),
B(),m.showHideSpinner(!1),a.$(l.SECONDARY_SIDE_SHEET+" "+l.MINI_DP_VIEW).show());a.declarative(u.MINI_DP_ATC,t.CLICK,v);e(l.MINI_DP_VIEW+" "+l.MINI_DP_ADD_TO_CART_RETRY).unbind(t.CLICK).bind(t.CLICK,v);b.logSecondarySheetRefTag(h.MINI_DP_SUCCESSFUL_LOAD+C+"_"+z.upsellasin)},error:function(a,b,c){m.showSecondarySideSheet(!1)}})});a.declarative(u.MINI_DP_BACK_BUTTON,t.CLICK,function(a){m.showSecondarySideSheet(!1);b.logSecondarySheetRefTag(h.MINI_DP_BACK_BUTTON_CLICK+c+"_"+d);b.logCount(b.CSM_METRICS.MINI_DP_BACK);
b.endLatencyCapture(b.CSM_METRICS.MINI_DP_DWELL_TIME)});a.declarative(u.MINI_DP_NO_THANKS,t.CLICK,function(a){m.showSecondarySideSheet(!1);b.logSecondarySheetRefTag(h.MINI_DP_NO_THANKS_CLICK+c+"_"+d);b.logCount(b.CSM_METRICS.MINI_DP_CANCEL);b.endLatencyCapture(b.CSM_METRICS.MINI_DP_DWELL_TIME)});a.on(t.UPSELL_ASIN_ADDED_TO_CART,function(a){a in g||(g[a]=!0);b.logSecondarySheetRefTag(h.MINI_DP_ADD_TO_CART_SUCCESS+c+"_"+d);b.endLatencyCapture(b.CSM_METRICS.ATTACH_UPSELL_ATC_LATENCY)});a.on(t.UPSELL_ASIN_NOT_ADDED_TO_CART,
function(a){a in g&&delete g[a];b.logSecondarySheetRefTag(h.MINI_DP_ADD_TO_CART_FAILURE+c+"_"+d)});a.on(t.HIDE_SIDE_SHEET,function(){m.showSecondarySideSheet(!1)})};f.resetSecondarySideSheet=function(){g={}};a.on(t.ATTACH_LOADED_ACCESSORIES_PANE_SUCCESSFULLY,f.init);a.on(t.RESET_SECONDARY_SIDE_SHEET_MODULE,f.resetSecondarySideSheet);return f})});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("DetailPageComparisonChartAssets",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(f){var g=window.AmazonUIPageJS||window.P,h=g._namespace||g.attributeErrors,b=h?h("DetailPageFluxComponents",""):g;b.guardFatal?b.guardFatal(f)(b,window):b.execute(function(){f(b,window)})})(function(f,g,h){f.when("dp-flux-utils").register("dp-flux-action",function(b){function e(d,a,c){if(b.isNonEmptyString(d)&&b.isNonEmptyString(a))this._name=d,this._source=a,this._metadata=c;else throw Error("Action(...): Action must be created with valid name and source");}e.prototype={getName:function(){return this._name},
getSource:function(){return this._source},getMetaData:function(){return this._metadata}};return e.prototype.constructor=e});f.when("dp-flux-utils").register("dp-flux-attribution",function(b){function e(d,a,c,k){if(b.isNonEmptyString(d)&&b.isNonEmptyString(a)&&b.isNonEmptyString(c)&&b.isNonEmptyString(k))this._name=d,this._category=a,this._type=c,this._item=k;else throw Error("All parameters (name, categoty, type, item) must be a non-empty string");}e.prototype={getName:function(){return this._name},
getAttribution:function(){return"name: "+this._name+"; CTI\x3d "+this._category+"/"+this._type+"/"+this._item}};return e.prototype.constructor=e});f.when("A","dp-flux-action","dp-flux-attribution").register("dp-flux-dispatcher",function(b,e,d){function a(){this._callbacks={};this._isDispatching=!1;this._pendingAction=null;this._lastID=1}var c=b.$;a.prototype={register:function(a,b){if(!(a instanceof d))throw Error("Dispatch.register(...): attribution must be instance of Attribution");if(!c.isFunction(b))throw Error("Dispatch.register(...): callback must be a function");
var e="ID_"+this._lastID++;this._callbacks[e]={attribution:a,callback:b,_isCallbackExecutionStarted:!1,_isCallbackExecutionCompleted:!1};return e},unregister:function(a){if(this._callbacks[a])delete this._callbacks[a];else throw Error("Dispatcher.unregister(...): "+a+" does not map to a registered callback");},dispatch:function(a){if(this._isDispatching)throw Error("Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch");if(!(a instanceof e))throw Error("Dispatch.dispatch(...): action param must be of type Action");
this._startDispatching(a);for(var c in this._callbacks)this._callbacks[c]._isCallbackExecutionStarted||this._invokeCallback(c);this._stopDispatching()},waitFor:function(a){if(!this._isDispatching)throw Error("Dispatcher.waitFor(...): Must be invoked while dispatching");if(!c.isArray(a))throw Error("Dispatcher.waitFor(...): dispatchTokenList must be an array");for(var b=0;b<a.length;b++){var d=a[b];if(!this._callbacks[d])throw Error("Dispatcher.waitFor(...): "+d+" does not map to a registered callback. ");
if(this._callbacks[d]._isCallbackExecutionStarted)if(this._callbacks[d]._isCallbackExecutionCompleted)continue;else throw Error("Dispatcher.waitFor(...): Circular dependency detected while waiting for "+d);this._invokeCallback(d)}},_invokeCallback:function(a){this._callbacks[a]._isCallbackExecutionStarted=!0;try{this._callbacks[a].callback(this._pendingAction)}catch(c){f.log("Dispatcher._invokeCallback(...): Error while calling dispatcher callback: error message \x3d "+c.message,"FATAL",this._callbacks[a].attribution.getAttribution())}this._callbacks[a]._isCallbackExecutionCompleted=
!0},_startDispatching:function(a){for(var c in this._callbacks)this._callbacks[c]._isCallbackExecutionStarted=!1,this._callbacks[c]._isCallbackExecutionCompleted=!1;this._pendingAction=a;this._isDispatching=!0},_stopDispatching:function(){this._pendingAction=null;this._isDispatching=!1}};return a.prototype.constructor=a});f.when("A","dp-flux-utils").register("dp-flux-emitter",function(b,e){function d(){this._subscriptions={}}var a=b.$;d.prototype={emit:function(a){if(e.isNonEmptyString(a))b.each(this._subscriptions[a]||
[],function(a){a()});else throw Error("Emitter.emit()...: eventType must be a non empty string");},addListener:function(c,b){if(e.isNonEmptyString(c)&&a.isFunction(b))this._subscriptions[c]=this._subscriptions[c]||[],this._subscriptions[c].push(b);else throw Error("Emitter.addListener()...: Invalid arguments - eventType must be a non empty string \x26 callback must be a function ");},removeListener:function(c,b){if(e.isNonEmptyString(c)&&a.isFunction(b)){if(c=this._subscriptions[c])b=a.inArray(b,
c),-1!==b&&c.splice(b,1)}else throw Error("Emitter.removeListener()...: Invalid arguments - eventType must be a non empty string \x26 callback must be a function");}};return d});f.when("A","dp-flux-emitter","dp-flux-attribution","dp-flux-dispatcher","dp-flux-utils").register("dp-flux-store",function(b,e,d,a,c){function f(b,k,g,h){if(!(b instanceof d))throw Error("storeAttribution should be instance of Attribution");if(!(g instanceof a))throw Error("dispatcher must be an instance of Dispatcher");if(!l.isFunction(k))throw Error("Store must provide a reduce callback method");
this.reduce=k;this.dispatcher=g;this._storeAttribution=b;this._state=h||{};c.deepFreeze(this._state);this._dispatchToken=this.dispatcher.register(this._storeAttribution,this._invokeOnDispatch.bind(this));this._changed=!1;this._changeEvent=this._storeAttribution.getName()+":change";this._emitter=new e}var l=b.$;f.prototype={addListener:function(a){return this._emitter.addListener(this._changeEvent,a)},removeListener:function(a){this._emitter.removeListener(this._changeEvent,a)},getDispatcher:function(){return this.dispatcher},
getDispatchToken:function(){return this._dispatchToken},getState:function(){return this._state},getStoreAttribution:function(){return this._storeAttribution},_invokeOnDispatch:function(a){this._changed=!1;var b=this._state;(a=this.reduce(this._state,a)||b)&&a!==b&&(this._state=a,c.deepFreeze(this._state),this._changed=!0,this._emitter.emit(this._changeEvent))}};return f.prototype.constructor=f});f.when("A","dp-flux-attribution").register("dp-flux-store-group",function(b){function e(b,a,c){this._stores=
a;this._callBack=c;this._attribution=b;this._registerStoreGroup()}e.prototype={_registerStoreGroup:function(){var b=this._getUniformDispatcher();this._dispatchToken=b.register(this._attribution,function(){b.waitFor(this._getStoreTokens());this._callBack()}.bind(this))},unregisterStoreGroup:function(){this._getUniformDispatcher().unregister(this._dispatchToken)},_getUniformDispatcher:function(){var d=this._stores[0].getDispatcher();b.each(this._stores,function(a){if(d!==a.getDispatcher())throw Error("All stores must have common dispatcher");
});return d},_getStoreTokens:function(){return b.map(this._stores,function(b){return b.getDispatchToken()})}};return e.prototype.constructor=e});f.when("A","dp-flux-store-group").register("dp-flux-store-subscription",function(b,e){function d(a,b,d){this._stores=b;this._changed=!1;this._updatedStores=[];this._viewUpdateCallBack=d;this._viewAttribution=a;this._allListeners=[];this._addListenerToAllStores();this._storeGroup=new e(a,b,this._viewCallBack.bind(this))}d.prototype={_storeListener:function(a){this._changed=
!0;this._updatedStores.push(a)},_addListenerToAllStores:function(){var a;b.each(this._stores,function(b){a=this._storeListener.bind(this,b);this._allListeners.push({listener:a,store:b});b.addListener(a)},this)},_removeListenerFromAllStores:function(){b.each(this._allListeners,function(a){a.store.removeListener(a.listener)})},_viewCallBack:function(){if(this._changed){try{this._viewUpdateCallBack(this._updatedStores)}catch(a){f.log("StoreSubscription._viewCallBack(...): view callback failed "+a,"WARN",
this._viewAttribution.getAttribution())}this._changed=!1;this._updatedStores=[]}},reset:function(){this._removeListenerFromAllStores();this._storeGroup.unregisterStoreGroup()}};return d.prototype.constructor=d});f.when("A").register("dp-flux-utils",function(b){function e(a){return"string"===typeof a||"[object String]"===Object.prototype.toString.call(a)}function d(a){if(!Object.isFrozen(a)){var c=Object.getOwnPropertyNames(a);b.each(c,function(b){var c=a[b];a[b]=c&&"object"===typeof c?d(c):c});Object.freeze(a)}return a}
return{isString:e,isNonEmptyString:function(a){return!(!e(a)||!b.trim(a).length)},deepFreeze:function(a){return Object.freeze&&Object.getOwnPropertyNames&&Object.isFrozen?(d(a),!0):!1}}});f.when("A","dp-flux-attribution","dp-flux-store","dp-flux-store-subscription").register("dp-flux-view",function(b,e,d,a){function c(c,g,h){if(!(c instanceof e))throw Error("View(...): viewAttribution should be an instance of Attribution");if(f.isArray(g)&&1<=g.length)b.each(g,function(a){if(!(a instanceof d))throw Error("View(...): storeList contains an object which is not of type Store");
});else throw Error("View(...): View must listen on at least one store");if(!f.isFunction(h))throw Error("View(...): View must provide update callback method");this._viewAttribution=c;this._storeSubscription=new a(c,g,h)}var f=b.$;c.prototype.getViewAttribution=function(){return this._viewAttribution};c.prototype.unregisterStores=function(){this._storeSubscription.reset()};return c})});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("DetailPageCCXUSSProductInfoAssets",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(e){var w=window.AmazonUIPageJS||window.P,v=w._namespace||w.attributeErrors,t=v?v("DetailPageUSSAssets",""):w;t.guardFatal?t.guardFatal(e)(t,window):t.execute(function(){e(t,window)})})(function(e,w,v){e.when("A").register("uss-constants-common",function(t){return{classList:{SHOW_ELEMENT:"aok-block",HIDE_ELEMENT:"aok-hidden",STOP_SCROLLING:"uss-u-no-scroll",LIGHT_BOX_JS_HOOK:"js-light-box",LIGHT_BOX_IDENTIFIER:"uss-o-light-box",RIGHT_SIDE_SHEET:"uss-o-right-side-sheet",RIGHT_SIDE_SHEET_LAYOUT:"uss-l-right-side-sheet",
SHEET_OPEN:"is-open",SHEET_CLOSE:"is-close",USS_SHEET_VIEW_IDENTIFIER:"uss-sheet-view",CLOSE_ICON:"uss-o-close-icon",CLOSE_ICON_MEDIUM:"uss-o-close-icon-medium",USS_SHEET_VIEW_CLOSE_ICON:"uss-sheet-view-close-icon",PROMISING_UI_ELEMENT:"uss-o-promising-ui-element",PROMISING_UI_ELEMENT_ANIMATION:"uss-o-promising-ui-element-animation",IS_LOADING:"is-loading",IS_RESOLVED:"is-resolved",UI_PROMISE:"ui-promise",UI_VALUE:"ui-value",TEMPLATE_STORE:"uss-template-store",TEMPLATE:"uss-template",TEMPLATE_NAME:"template-name",
ATC_ACKNOWLEDGEMENT_MESSAGE:"atc-acknowledgement-message",ATC_GENERIC_ERROR:"atc-generic-error",ATC_STATUS_MESSAGE_COMPONENT:"uss-c-atc-status-msg",ATC_SUCCESS:"atc-success",ATC_ERROR:"atc-error",ITEM_IN_CART:"item-in-cart",CART_STATUS_MESSAGE_COMPONENT:"uss-c-cart-status-msg",CART_SUB_TOTAL:"cart-sub-total",CART_COUNT:"cart-count",SHIPPING_DETAILS:"uss-c-shipping-details",SHIPPING_MESSAGE_PLACEHOLDER:"shipping-message-placeholder",MAIN_IMAGE:"main-image",SUB_NAV:"uss-c-sub-nav",CHECKOUT_BUTTON:"checkout-btn",
CART_BUTTON:"cart-btn",CHECKOUT_FORM:"checkout-form",FACEOUT_IMAGE:"p13n-sc-dynamic-image",FACEOUT_TITLE:"uss-asin-title",FACEOUT_REVIEW_STARS:"uss-review-stars",FACEOUT_BEST_SELLER:"p13n-best-seller",FACEOUT_PRICE:"uss-price",CONTINUE_SHOPPING_LINK:"continue-shopping",SUCCESS_ELEMENT:".p13n-sc-atc-success",ERROR_ELEMENT:".p13n-sc-atc-error",BUTTON_ELEMENT:".a-button-primary",DISABLE_BUTTON:"a-button-disabled"},fatalMessagesList:{INVALID_SHEET_ID:"sheetID must be valid string",INVALID_CONSTRUCTOR_USAGE:"Constructor needs to be called with 'new' keyword",
INCORRECT_PARAMETER_PASSED:"Incorrect parameter passed."},widgetType:{WIDGET:"uss-widget",RECOMMENDATION_WIDGET:"uss-recommendation-widget",NO_RECOMMENDATION_WIDGET:"uss-no-recommendation-widget",LIST_RECOMMENDATION:"uss-list-recommendation-widget",CAROUSEL_RECOMMENDATION:"uss-carousel-recommendation-widget",PRIMARY_ACTION_STATUS_WIDGET:"uss-primary-action-status-widget",ATCStatusWidget:"uss-c-atc-status-widget",ATC_STATUS_IMB_WIDGET:"atc-status-imb-widget",MAPLE_WIDGET:"maple-recommendation-widget"},
layout:{defaultLayout:{DEFAULT_LAYOUT:"uss-l-default-layout",HEAD:"uss-c-head",BODY:"uss-c-body",HEAD_DIVIDER:"uss-c-head-divider",BOTTOM_MARGIN_BETWEEN_WIDGETS:"a-spacing-medium",TOP_MARGIN_BETWEEN_WIDGETS:"a-spacing-top-medium",SKELETON_LOADER:"uss-loading-skeleton",RECOMMENDATION_LOADING_MESSAGE:"loading-message",RECOMMENDATION_LOADED_MESSAGE:"uss-recommendations-loaded-message"}},actionSources:{DP_ATC_CLICK:"dp-atc-click",USS_INGRESS_CLICK:"uss-ingress-click",USS_INLINE_ATC_CLICK:"uss-inline-atc-click",
SHEET_CLOSE_BUTTON_CLICK:"sheet-close",CONTINUE_SHOPPING_CLICK:"continue-shopping-click"},stores:{ATC_STATUS_STORE:"uss-atc-status-store",RECOMMENDATION_DATA_STORE:"uss-recommendation-data-store",USS_SHEET_STORE:"uss-sheet-store"},actions:{USS_OPEN:"uss-open",USS_CLOSE:"uss-close",RECOMMENDATION_DATA_RECEIVE:"recommendation-data-receive",ATC_RECEIVE:"atc-receive"},metrics:{ATC_PROMISE_RESOLVED_TIMER:"atcPromiseResolve",PERCOLATE_DATA_PROMISE_RESOLVED_TIMER:"percolateDataPromiseResolve",ATC_PROMISE_REJECTED_COUNTER:"atcPromiseRejected",
PERCOLATE_DATA_PROMISE_REJECTED_COUNTER:"percolateDataPromiseRejected",SECONDARY_ADD_TO_CART_CLICK_COUNTER:"secondaryAtcClick",COMPATIBLE_BROWSER_COUNTER:"compatibleBrowser",NON_COMPATIBLE_BROWSER_COUNTER:"nonCompatibleBrowser",FACEOUT_IMAGE_CLICK_COUNTER:"faceout:imageClick",FACEOUT_REVIEW_STARS_CLICK_COUNTER:"faceout:reviewStarClick",FACEOUT_TITLE_CLICK_COUNTER:"faceout:titleClick",FACEOUT_PRICE_CLICK_COUNTER:"faceout:priceClick",FACEOUT_BEST_SELLER_CLICK_COUNTER:"faceout:bestSellerClick",SEE_MORE_EXISTENCE_COUNTER:"ussListWidget:seeMore",
SEE_MORE_CLICK_COUNTER:"ussListWidget:seeMoreClick",SEE_LESS_CLICK_COUNTER:"ussListWidget:seeLessClick",CHECKOUT_FORM_CLICK_COUNTER:"checkoutFormClick",CART_BUTTON_CLICK_COUNTER:"cartButtonClick",CONTINUE_SHOPPING_CLICK:"continueShoppingClick",PAGE_LANDING_PRECONDITIONS_PASSED:"pageLandingPreconditionsPassed",POST_ATC_PRECONDITIONS_FAILED:"postATCPreconditionsFailed",PROGRAM_ELIGIBILITY_REGISTRY_OVERWRITTEN:"programEligibilityRegistryOverwritten"},transitionTimingFunction:{EVEN_EASE:"cubic-bezier(0.4, 0, 0.6, 1)",
ENTER_EASE:"cubic-bezier(0, 0, 0.2, 1)",EXIT_EASE:"cubic-bezier(0.4, 0, 1, 1)",EASE_IN:"ease-in",EASE_OUT:"ease-out"},animationType:{FADE_IN:"fadeIn",NO_ANIMATION:"noAnimation"}}});e.when("dp-flux-attribution","uss-constants-common").register("uss-constants",function(t,e){e.ussCTI={CATEGORY:"Website",TYPE:"Detail Page",ITEM:"USS"};e.metrics.PREFIX="uss:";e.ajaxParams={BASE_URL:"/gp/product/handle-buy-box",REFTAG:"dp_start-bbf_1_glance",ASIN:"ASIN",OFFER_LISTING_ID:"offerListingID",AJAX_TIMEOUT:1E4};
e.actionSources.SHEET_CLOSE_BUTTON_CLICK="sheet-close-button-click";e.ussCommonAttribution=new t("uss-common",e.ussCTI.CATEGORY,e.ussCTI.TYPE,e.ussCTI.ITEM);e.defaultAtcAnimationType=e.animationType.FADE_IN;e.atcAnimationStatusEvent="uss:atc:animation:status:resolved";return e});e.when("dp-flux-utils","uss-constants").register("uss-logger-service",function(e,p){function m(a,b){if(e.isNonEmptyString(a))a=p.metrics.PREFIX+a,ue&&ue.count&&(b===v&&(b=(ue.count(a)||0)+1),ue.count(a,b));else throw Error("counterKey must be non empty string");
}function q(a){if(e.isNonEmptyString(a))this._timerName=a,this._startTime=0;else throw Error("timerName must be non empty string");}q.prototype={start:function(){this._startTime=Date.now()},stop:function(){this._startTime&&m(this._timerName,Date.now()-this._startTime)}};return{logCounter:m,Timer:q}});e.when("A","uss-utils","uss-logger-service","uss-constants").register("uss-preconditions",function(e,p,m,q){function a(a){a=e.$("#"+a+"_feature_div").html();null!==a&&(a=a.trim());return null!==a&&0<
a.length}function b(){return e.capabilities.transform&&e.capabilities.transition&&p.isFlexBoxSupported()}function c(){return e.$("#uss-weblabTreatment").val()}var d=/^T[0-9]+$/;b()?m.logCounter(q.metrics.COMPATIBLE_BROWSER_COUNTER):m.logCounter(q.metrics.NON_COMPATIBLE_BROWSER_COUNTER);return{isUssConditionsPassed:function(){return"true"===e.$("#uss-serverPreconditionsPassed").val()&&b()&&!a("scheduledDelivery")&&!a("simpleBundle")&&!a("partialStateBuyBox")},isUssWeblabInTreatment:function(){return d.test(c())},
triggerUSSWeblabValue:function(){return d.test(e.$("#uss-miniFrameworkWeblabTreatment").val())?e.$("#uss-weblabValue").val():1},ussWeblabTreatmentValue:c,isBrowserUssCompatible:b}});e.when("A","3p-promise","uss-constants","uss-logger-service").register("uss-utils",function(e,p,m,q){var a=e.$,b=m.classList,c=a("body"),d={},n=["isPreview","forceWidgets","previewCampaigns","auditEnabled"];(function(){var a=w.location.search,a=a.substr(1);a.split("\x26").forEach(function(a){a=a.split("\x3d");2===a.length&&
(d[a[0]]=a[1])})})();return{loadImage:function(b,c){return new p(function(k,f){c=c||"";var r=a("\x3cimg src\x3d'"+b+"' alt\x3d'"+c+"'\x3e");r.load(function(){k(r)});r.error(function(a){f(a)});r[0].complete&&k(r)})},isFlexBoxSupported:function(){var a=e.$("\x3cdiv\x3e\x3c/div\x3e")[0];return""===a.style.flex||""===a.style.webkitFlex||""===a.style.msFlex||""===a.style.MozBoxFlex||""===a.style.webkitBoxFlex?!0:!1},disablePageScroll:function(){c.addClass(b.STOP_SCROLLING)},enablePageScroll:function(){c.removeClass(b.STOP_SCROLLING)},
isMobileApp:function(){return"true"===e.$("#uss-mobileApp").val()},getDebugParams:function(){var a={};n.forEach(function(b){var c;c=null;d.hasOwnProperty(b)&&(c=d[b]);c&&(a[b]=c)});return a},shouldFireAndForgetWeblabTrigger:function(){var b=!1;0!=a("#uss-shouldFireAndForgetWeblabTrigger").length&&(b="true"===a("#uss-shouldFireAndForgetWeblabTrigger").val());return b},fireAndForgetWeblabTrigger:function(a,b){var c="/gp/uss/weblab-trigger.html?",c=/^T[0-9]+$/.test(e.$("#uss-miniFrameworkWeblabTreatment").val())?
c+("weblabValue\x3d"+a+"\x26treatment\x3d"+b):c+("triggerWeblab\x3d"+a+"\x26treatment\x3d"+b);w.navigator&&navigator.sendBeacon?navigator.sendBeacon(c)||e.$.ajax({url:c}):e.$.ajax({url:c})},showATCSuccess:function(){e.$("#atc-toast").length&&e.$("#atc-success").length&&(e.$("#atc-toast").css("display","block"),e.$("#atc-toast").addClass("atc-toast-success-styles"),e.$("#atc-success").css("display","block"),setTimeout(function(){e.$("#atc-success").css("display","none");e.$("#atc-toast").css("display",
"none");e.$("#atc-toast").removeClass("atc-toast-success-styles")},1500))},showATCFailure:function(){e.$("#atc-toast").length&&e.$("#atc-failed").length&&(e.$("#atc-toast").css("display","block"),e.$("#atc-toast").addClass("atc-toast-failure-styles"),e.$("#atc-failed").css("display","block"),setTimeout(function(){e.$("#atc-failed").css("display","none");e.$("#atc-toast").css("display","none");e.$("#atc-toast").removeClass("atc-toast-failure-styles")},1500))}}});e.when("A","atf","uss-utils").register("uss-init-helper",
function(t,p,m,q){return{loadUssCommonAssetsAfterPreload:function(){e.when("uss-constants","dp-flux-action","uss-dispatcher","uss-utils").register("uss-action-creator-helper",function(a,b,c,d){function n(){t.$("#add-to-cart-button").removeAttr("disabled")}return{primaryATCClick:function(h,g){var k=new b(a.actions.USS_OPEN,a.actionSources.DP_ATC_CLICK,{recommendationBaseIdentifier:h});g.percolateData.then(function(f){var r={isContainsRecommendation:!1,widgets:[]};f.recommendationData&&(r.widgets=f.recommendationData.widgets||
[]);n();r.widgets.length||(r.widgets.push({widgetType:a.widgetType.NO_RECOMMENDATION_WIDGET}),r.recommendationBaseIdentifier=h);c.dispatch(k);g.atcData.then(function(f){var r={};1===f.isOk?r=f.atcStatusData:r.isAtcGenericError=!0;f=new b(a.actions.ATC_RECEIVE,a.actionSources.DP_ATC_CLICK,r);c.dispatch(f)},function(){var f=new b(a.actions.ATC_RECEIVE,a.actionSources.DP_ATC_CLICK,{isAtcGenericError:!0});c.dispatch(f)});r.recommendationBaseIdentifier=h;f=new b(a.actions.RECOMMENDATION_DATA_RECEIVE,a.actionSources.DP_ATC_CLICK,
r);c.dispatch(f)},function(){g.atcData.then(function(a){n();1===a.isOk?d.showATCSuccess():d.showATCFailure()},function(){d.showATCFailure()})})},secondaryATCClick:function(d,g){d.atcData.then(function(d){var f={};1===d.isOk?f=d.atcStatusData:f.isAtcGenericError=!0;f.params=g;d=new b(a.actions.ATC_RECEIVE,a.actionSources.USS_INLINE_ATC_CLICK,f);c.dispatch(d)},function(){})}}})},loadUssCommonAssets:function(){e.when("dp-flux-dispatcher").register("uss-dispatcher",function(a){return new a});e.when("A",
"uss-constants").register("promising-ui-element",function(a,b){var c=b.classList;return a.createClass({_element:null,_uiPromiseElement:null,_uiValueElement:null,_isResolved:!1,init:function(a){var b=a.find("."+c.UI_PROMISE),h=a.find("."+c.UI_VALUE);if((a.hasClass(c.PROMISING_UI_ELEMENT)||a.hasClass(c.PROMISING_UI_ELEMENT_ANIMATION))&&b.length&&h.length)this._uiPromiseElement=b,this._uiValueElement=h,this._element=a,this.showUIPromise();else throw Error("PromisingUIElement.init()...: HTML structure is not compatible with PromisingUIElement");
},showUIPromise:function(){this._element.addClass(c.IS_LOADING);this._element.removeClass(c.IS_RESOLVED);this._isResolved=!1},showUIValue:function(){this._element.addClass(c.IS_RESOLVED);this._element.removeClass(c.IS_LOADING);this._isResolved=!0},getValueElement:function(){return this._uiValueElement},getElement:function(){return this._element},isResolved:function(){return this._isResolved}})});e.when("A","uss-sheet-component","uss-constants","uss-store-repository","dp-flux-attribution","uss-layout",
"dp-flux-view","widget-creation-helper","dp-flux-action","uss-dispatcher").register("uss-sheet-view",function(a,b,c,d,n,h,g,k,f,r){function l(){u=!0;var a=c.classList,l=c.ussCTI,y=d.getStore(c.stores.USS_SHEET_STORE),x=d.getStore(c.stores.RECOMMENDATION_DATA_STORE),A=[y,x],l=new n("uss-sheet-view",l.CATEGORY,l.TYPE,l.ITEM),z=new b(a.USS_SHEET_VIEW_IDENTIFIER,{beforeClose:function(){r.dispatch(new f(c.actions.USS_CLOSE,c.actionSources.SHEET_CLOSE_BUTTON_CLICK))}}),a=z.getSheetElement(),B=new h(a);
new g(l,A,function(a){var f;if(-1!==e.inArray(y,a))if(f=y.getState(),f.isSheetOpen()){if(f.getActionSource()===c.actionSources.DP_ATC_CLICK){B.reset();var b=k.createAtcStatusWidget();f=k.createIMBWidget(f.getActionSource());B.renderWidgets([b,f])}z.open()}else f.getActionSource()!==c.actionSources.SHEET_CLOSE_BUTTON_CLICK&&z.close();-1!==e.inArray(x,a)&&B.renderWidgets(k.createRecommendationWidget(x))})}var e=a.$,u=!1;return{initializeUSSSheetView:function(){u||l()}}});e.when("A","uss-constants",
"uss-template-store","uss-widget-factory").register("widget-creation-helper",function(a,b,c,d){return{createAtcStatusWidget:function(){var a={content:c.getTemplate(b.widgetType.ATCStatusWidget),widgetType:b.widgetType.ATCStatusWidget};return d.getWidget(a)},createRecommendationWidget:function(b){var c,g=[];b=b.getState().getNewRecommendations();a.each(b,function(a){(c=d.getWidget(a))&&g.push(c)});return g},createIMBWidget:function(){return d.getWidget({content:"\x3cdiv\x3e\x3c/div\x3e",widgetType:b.widgetType.ATC_STATUS_IMB_WIDGET})}}});
e.when("A","dp-flux-store","uss-dispatcher").register("uss-store-repository",function(a,b,c){var d={};return{registerStore:function(a,h,g){h=new b(a,h,c,g);return d[a.getName()]=h},getStore:function(a){return d[a]},getDispatcher:function(){return c}}});e.when("A","uss-store-repository","dp-flux-attribution","uss-sheet-store","uss-constants").register("uss-recommendation-data-store",function(a,b,c,d,e){function h(a,b,c){this._unprocessedChunkIndex=c||0;this._recommendationBaseIdentifier=a;this._dataChunks=
b||[]}var g=a.$,k=e.ussCTI;c=new c(e.stores.RECOMMENDATION_DATA_STORE,k.CATEGORY,k.TYPE,k.ITEM);d=b.getStore(e.stores.USS_SHEET_STORE);h.prototype={_getRecommendations:function(f){var b=[];f<this._dataChunks.length&&a.each(this._dataChunks,function(c,d){d>=f&&a.each(c,function(a){b.push(a)})});return b},getAllRecommendations:function(){return this._getRecommendations(0)},getNewRecommendations:function(){return this._getRecommendations(this._unprocessedChunkIndex)},getRecommendationBaseIdentifier:function(){return this._recommendationBaseIdentifier},
addRecommendationChunk:function(f){var b=[];a.each(f,function(a){a.widgetType=a.widgetType||e.widgetType.RECOMMENDATION_WIDGET});b=g.merge(b,this._dataChunks);b=g.merge(b,[f]);return new h(this._recommendationBaseIdentifier,b,this._dataChunks.length)}};k=new h;return b.registerStore(c,function(a,c){var g=a,k=e.actions;switch(c.getName()){case k.USS_OPEN:b.getDispatcher().waitFor([d.getDispatchToken()]);d.getState().getActionSource()===e.actionSources.DP_ATC_CLICK&&(g=new h(d.getState().getRecommendationBaseIdentifier()));
break;case k.RECOMMENDATION_DATA_RECEIVE:k=d.getState().getRecommendationBaseIdentifier(),c=c._metadata,c.recommendationBaseIdentifier===k&&(g=a.addRecommendationChunk(c.widgets))}return g},k)});e.when("uss-store-repository","dp-flux-attribution","uss-constants").register("uss-sheet-store",function(a,b,c){function d(a,b,f){this._isSheetOpen=a||!1;this._actionSource=b;this._recommendationBaseIdentifier=f}var e=c.actions,h=c.ussCTI;b=new b(c.stores.USS_SHEET_STORE,h.CATEGORY,h.TYPE,h.ITEM);d.prototype=
{isSheetOpen:function(){return this._isSheetOpen},getActionSource:function(){return this._actionSource},getRecommendationBaseIdentifier:function(){return this._recommendationBaseIdentifier}};h=new d(!1);return a.registerStore(b,function(a,b){var f=a;switch(b.getName()){case e.USS_OPEN:a.isSheetOpen()||(b.getSource()===c.actionSources.DP_ATC_CLICK?f=new d(!0,b.getSource(),b.getMetaData().recommendationBaseIdentifier):b.getSource()===c.actionSources.USS_INGRESS_CLICK&&a.getRecommendationBaseIdentifier()&&
(f=new d(!0,b.getSource(),a.getRecommendationBaseIdentifier())));break;case e.USS_CLOSE:a.isSheetOpen()&&(f=new d(!1,b.getSource(),a.getRecommendationBaseIdentifier()))}return f},h)});e.when("A","uss-store-repository","dp-flux-attribution","uss-constants","dp-flux-utils").register("uss-atc-status-store",function(a,b,c,d,e){function h(){this.status=v;this.cart={subTotal:{}};this.mainImage={};this.isAtcGenericError=this.shippingMessageHTML=this.imbHTML=v}a=new c("uss-atc-status-store",d.ussCTI.CATEGORY,
d.ussCTI.TYPE,d.ussCTI.ITEM);h.prototype={setStatus:function(a){this.status=1===a||a===d.classList.ATC_SUCCESS?d.classList.ATC_SUCCESS:d.classList.ATC_ERROR},setCart:function(a,b,f){e.isNonEmptyString(a)&&(this.cart.count=parseInt(a));b&&(this.cart.subTotal=b);e.isNonEmptyString(f)&&(this.cart.checkoutUrl=f)},setMainImage:function(a,b){e.isNonEmptyString(a)&&(this.mainImage.src=a,e.isNonEmptyString(b)?this.mainImage.altText:this.mainImage.altText="")},setImbHTML:function(a){e.isNonEmptyString(a)&&
(this.imbHTML=a)},setShippingMessageHTML:function(a){e.isNonEmptyString(a)&&(this.shippingMessageHTML=a)},setIsAtcGenericError:function(a){this.isAtcGenericError=a}};c=new h;b.registerStore(a,function(a,b){var f=a;switch(b.getName()){case d.actions.ATC_RECEIVE:var c=b.getMetaData();b.getSource()===d.actionSources.DP_ATC_CLICK?(f=new h,c.isAtcGenericError?f.setIsAtcGenericError(!0):(f.setStatus(c.status),f.setCart(c.cart.count,c.cart.subTotal,c.cart.checkoutUrl),f.setMainImage(c.mainImage.src,c.mainImage.altText),
f.setImbHTML(c.imbHTML),f.setShippingMessageHTML(c.shippingMessageHTML))):b.getSource()!==d.actionSources.USS_INLINE_ATC_CLICK||c.isAtcGenericError||(f=new h,f.setStatus(a.status),f.setMainImage(a.mainImage.src,a.mainImage.altText),f.setImbHTML(a.imbHTML),f.setShippingMessageHTML(a.shippingMessageHTML),c.cart&&f.setCart(c.cart.count,c.cart.subTotal,a.cart.checkoutUrl));break;case d.actions.USS_OPEN:b.getSource()===d.actionSources.DP_ATC_CLICK&&(f=new h)}return f},c)});e.when("A","uss-constants").register("uss-template-store",
function(a,b){var c=a.$,d=b.classList,e={};return{init:function(){var a=c("."+d.TEMPLATE_STORE),b;1===a.length&&a.find("."+d.TEMPLATE).each(function(a,f){b=c("\x3cdiv\x3e\x3c/div\x3e");f=c(f);b.append(f);(a=f.data(d.TEMPLATE_NAME))&&(e[a]=b.html())})},getTemplate:function(a){return e[a]},_nameToTemplateMap:e}});e.when("A","dp-flux-attribution","dp-flux-utils","uss-store-repository","uss-widget","uss-constants").register("uss-widget-factory",function(a,b,c,d,n,h){var g=a.$,k={};k[h.widgetType.WIDGET]=
n;a=h.ussCTI;var f=new b("uss-widget-factory",a.CATEGORY,a.TYPE,a.ITEM);return{registerWidgetType:function(a,b){if(!c.isNonEmptyString(a))throw Error("uss-widget-factory.registerWidgetType()... : name parameter must be valid string. provided name param is \x3d "+a);if(!(b.prototype instanceof n))throw Error("uss-widget-factory.registerWidgetType()... : constructor.prototype must be instance of Widget. provided constructor param is \x3d "+b);k[a]=b},getWidgetType:function(a){return k[a]},getWidget:function(a){var c,
d=f;try{var n=a.widgetType||h.widgetType.WIDGET,m=k[n];if(!m)return e.log("Widget.getWidget()... : Constructor not exist for type : "+n,"FATAL",d.getAttribution()),c;var D=m.getAttribution&&m.getAttribution();D&&(d=D);if(a.attribution)var y=a.attribution,d=new b(y.name,y.category,y.type,y.item);var x=g(a.content),A=g("\x3cdiv\x3e\x3c/div\x3e");A.append(x);c=new m(d,A)}catch(z){e.log("Widget.getWidget()... : "+z.message,"FATAL",d.getAttribution&&d.getAttribution())}return c}}});e.when("A","uss-constants",
"dp-flux-view","uss-store-repository","uss-dispatcher").register("uss-widget",function(a,b,c,d,e){function h(b){var c=[];a.each(b,function(a){var b=d.getStore(a);if(b)c.push(b);else throw Error("Widget.getWidget().getStores()... : store with name \x3d "+a+" not exists");});return c}var g=b.classList,k=b.widgetType;return a.createClass({init:function(a,b){this._element=b;this._element.addClass(k.WIDGET);this._element.addClass(g.HIDE_ELEMENT);this._attribution=a;this._dispacther=e;this.getStoreNames().length&&
(b=h(this.getStoreNames()),this._fluxView=new c(a,b,this.update.bind(this)),this.update(b))},show:function(c){c=c||{};c=c.showWidgetAnimation||{};var d=b.animationType;c.animationType=c.animationType||d.NO_ANIMATION;switch(c.animationType){case d.FADE_IN:a.fadeIn(this._element,c.timeDuration||100,c.transitionTimingFunction||b.transitionTimingFunction.EVEN_EASE);break;case d.NO_ANIMATION:this._element.addClass(g.SHOW_ELEMENT),this._element.removeClass(g.HIDE_ELEMENT)}},hide:function(){this._element.addClass(g.HIDE_ELEMENT);
this._element.removeClass(g.SHOW_ELEMENT)},beforeRender:function(){},afterRender:function(){},getElement:function(){return this._element},getAttribution:function(){return this._attribution},getDispatcher:function(){return this._dispacther},update:function(a){},getStoreNames:function(){return[]},deleteWidget:function(){this._element.remove();this._fluxView&&this._fluxView.unregisterStores()}})});e.when("A","uss-constants","uss-widget-factory","uss-logger-service").register("uss-recommendation-widget",
function(a,b,c,d){var e=b.widgetType;a=c.getWidgetType(e.WIDGET);var h=b.classList,g=b.metrics;b=a.extend({init:function(a,b){this._super(a,b);this._element.addClass(e.RECOMMENDATION_WIDGET);this._addTrackingMetrics()},_addTrackingMetrics:function(){this._element.find("."+h.FACEOUT_IMAGE).click(function(){d.logCounter(g.FACEOUT_IMAGE_CLICK_COUNTER)});this._element.find("."+h.FACEOUT_REVIEW_STARS).click(function(){d.logCounter(g.FACEOUT_REVIEW_STARS_CLICK_COUNTER)});this._element.find("."+h.FACEOUT_PRICE).click(function(){d.logCounter(g.FACEOUT_PRICE_CLICK_COUNTER)});
this._element.find("."+h.FACEOUT_TITLE).click(function(){d.logCounter(g.FACEOUT_TITLE_CLICK_COUNTER)});this._element.find("."+h.FACEOUT_BEST_SELLER).click(function(){d.logCounter(g.FACEOUT_BEST_SELLER_CLICK_COUNTER)})}});c.registerWidgetType(e.RECOMMENDATION_WIDGET,b);return b});e.when("A","uss-constants","uss-widget-factory","dp-flux-attribution","uss-template-store","dp-flux-action","uss-logger-service").register("uss-no-recommendation-widget",function(a,b,c,d,e,h,g){var k=b.widgetType;a=c.getWidgetType(k.WIDGET);
var f=b.ussCTI,r=new d(b.widgetType.NO_RECOMMENDATION_WIDGET,f.CATEGORY,f.TYPE,f.ITEM);d=a.extend({init:function(a,c){this._super(a,c);this._element.addClass(k.NO_RECOMMENDATION_WIDGET);a=e.getTemplate(b.widgetType.NO_RECOMMENDATION_WIDGET);this._element.append(a);this._continueShoppingLink=this._element.find("."+b.classList.CONTINUE_SHOPPING_LINK);this._continueShoppingLink.click(function(a){a.preventDefault();g.logCounter(b.metrics.CONTINUE_SHOPPING_CLICK);this.getDispatcher().dispatch(new h(b.actions.USS_CLOSE,
b.actionSources.CONTINUE_SHOPPING_CLICK))}.bind(this))}});d.getAttribution=function(){return r};c.registerWidgetType(k.NO_RECOMMENDATION_WIDGET,d);return d});e.when("A","uss-constants","uss-widget-factory").register("primary-action-status-widget",function(a,b,c){var d=b.widgetType;a=c.getWidgetType(d.WIDGET).extend({init:function(a,b){this._super(a,b);this.getElement().addClass(d.PRIMARY_ACTION_STATUS_WIDGET)}});c.registerWidgetType(d.PRIMARY_ACTION_STATUS_WIDGET,a);return a});e.when("A","promising-ui-element",
"uss-utils","uss-constants").register("promising-image",function(a,b,c,d){var n=a.$,h=d.classList;return b.extend({init:function(a,b){this._element=n(b);this._attribution=a;this._super(this._element);this._eventHandle=v},_showTickMarkImage:function(b){switch(b){case h.ATC_SUCCESS:this._showSuccessTickMark();break;case h.ATC_ERROR:this._showErrorTickMark();break;default:return}a.off(this._eventHandle.event,this._eventHandle.callback)},_showSuccessTickMark:function(){n(".main-image").find(".success-tick-mark-placeholder").addClass("success-tick-mark-image")},
_showErrorTickMark:function(){var b=n(".main-image").find(".error-tick-mark-placeholder");b.addClass("error-tick-mark-image");a.fadeIn(b,200,d.transitionTimingFunction.EASE_OUT)},showUIValue:function(b,h,f){var r=this,l=d.defaultAtcAnimationType,C=this._super.bind(this);l===d.animationType.FADE_IN&&(this._eventHandle=a.on(d.atcAnimationStatusEvent,this._showTickMarkImage.bind(this,f)));return c.loadImage(b,h).then(function(b){if(l===d.animationType.FADE_IN){var c=n(".main-image").find(".ui-promise");
a.fadeOut(c,200,d.transitionTimingFunction.EASE_IN,function(){r._appendImageToUIValue(b);C();var c=n(".main-image").find(".ui-value");a.fadeIn(c,200,d.transitionTimingFunction.EASE_OUT)})}else this._appendImageToUIValue(b),C();return!0}.bind(this),function(){e.log("PromisingImage.showUIValue() ... : failed to load image","FATAL",this._attribution.getAttribution());return!1}.bind(this))},_appendImageToUIValue:function(a){this.getValueElement().empty();this.getValueElement().append(a)}})});e.when("A",
"promising-ui-element","uss-constants").register("atc-status-msg",function(a,b,c){var d=c.classList;return b.extend({init:function(a){this._atcStatusElement=a;this._super(this._atcStatusElement)},_showSuccessMessage:function(){this._atcStatusElement.addClass(d.ATC_SUCCESS);this._atcStatusElement.removeClass(d.ATC_ERROR);this._atcStatusElement.removeClass(d.ITEM_IN_CART)},_showFailureMessage:function(){this._atcStatusElement.addClass(d.ATC_ERROR);this._atcStatusElement.removeClass(d.ATC_SUCCESS);this._atcStatusElement.removeClass(d.ITEM_IN_CART)},
_showItemInCartMessage:function(){this._atcStatusElement.addClass(d.ITEM_IN_CART);this._atcStatusElement.removeClass(d.ATC_ERROR);this._atcStatusElement.removeClass(d.ATC_SUCCESS)},showUIValue:function(b){var e=this,g=c.defaultAtcAnimationType;switch(b){case d.ATC_SUCCESS:this._showSuccessMessage();break;case d.ATC_ERROR:this._showFailureMessage();break;case d.ITEM_IN_CART:this._showItemInCartMessage();break;default:return}this._super();g===c.animationType.FADE_IN&&(b=this._atcStatusElement.find("."+
d.UI_PROMISE),a.fadeOut(b,200,c.transitionTimingFunction.EASE_IN,function(){var b=e._atcStatusElement.find("."+d.UI_VALUE);a.fadeIn(b,200,c.transitionTimingFunction.EASE_OUT,function(){a.trigger(c.atcAnimationStatusEvent)})}))}})});e.when("A","promising-ui-element","uss-constants","dp-flux-utils").register("cart-status-message",function(a,b,c,d){var e=c.classList;return b.extend({init:function(a){this._cartStatusElement=a;this._subTotalElement=this._cartStatusElement.find("."+e.CART_SUB_TOTAL);this._cartCountElement=
this._cartStatusElement.find("."+e.CART_COUNT);this._cartCountSingularTemplate=this._cartCountElement.data("cart-count-singular-template");this._cartCountPluralTemplate=this._cartCountElement.data("cart-count-plural-template");this._super(this._cartStatusElement);this._eventHandle=v},_atcAnimationStatusResolved:function(){setTimeout(function(){this._cartStatusElement.addClass("uss-c-cart-status-msg-transition");a.off(this._eventHandle.event,this._eventHandle.callback)}.bind(this),200)},showUIValue:function(b,
e){var k=c.defaultAtcAnimationType;if("number"===typeof b&&d.isNonEmptyString(e)){var f;1===b?f=this._cartCountSingularTemplate.replace("###cartCount",b):1<b&&(f=this._cartCountPluralTemplate.replace("###cartCount",b));this._cartCountElement.html(f);this._subTotalElement.html(e);this._super();k===c.animationType.FADE_IN&&(this._eventHandle=a.on(c.atcAnimationStatusEvent,this._atcAnimationStatusResolved.bind(this)))}}})});e.when("A","a-button","uss-constants","uss-logger-service").register("uss-sub-nav",
function(a,b,c,d){var e=c.classList,h=c.metrics;return{getInstance:function(g){var k={},f=g.find("."+e.CHECKOUT_FORM);b("."+e.CHECKOUT_BUTTON,g);var r=g.find("."+e.CART_BUTTON),l=v;f.submit(function(){d.logCounter(h.CHECKOUT_FORM_CLICK_COUNTER)});r.click(function(){d.logCounter(h.CART_BUTTON_CLICK_COUNTER)});k.updateCheckoutUrl=function(a){f.attr("action",a)};k.hide=function(){a.$(g).addClass("is-hidden")};k.atcAnimationStatusResolved=function(){setTimeout(function(){a.$(g).addClass("uss-c-sub-nav-margin");
a.$(g).addClass("uss-c-sub-nav-transition");a.off(l.event,l.callback)}.bind(),200)};k.show=function(){a.$(g).removeClass("is-hidden");c.defaultAtcAnimationType===c.animationType.FADE_IN&&(l=a.on(c.atcAnimationStatusEvent,k.atcAnimationStatusResolved.bind()))};k.preInitiate=function(){var a=f.parent();a.find("iframe#ussCheckoutPrefetch").remove();var b=(new Date).getTime(),c="/gp/checkoutprefetch/checkout-prefetch.html?cartInitiateId\x3d"+b,d=document.createElement("iframe");d.setAttribute("src",c);
d.setAttribute("style","width:0px;height:0px;display:none;position:absolute;");d.setAttribute("name","ussCheckoutPrefetch");d.setAttribute("id","ussCheckoutPrefetch");a.append(d);a=f.find("#cartInitiateId");a.length?a.val(b):f.append("\x3cinput type\x3d'hidden' name\x3d'cartInitiateId' id\x3d'cartInitiateId' value\x3d'"+b+"'\x3e")};k.hide();return k}}});e.when("A","uss-constants").register("uss-shipping-details",function(a,b){var c=a.$;return{getInstance:function(d){var e=d.find("."+b.classList.SHIPPING_DETAILS),
h=e.find("."+b.classList.SHIPPING_MESSAGE_PLACEHOLDER),g=b.defaultAtcAnimationType,k=v,f=function(){var a=h.find(".a-row").find("a"),b=a.attr("onclick");if("undefined"!==typeof b&&b.includes("amz_js_PopWin")){var f=[];c.each(a[0].attributes,function(a,b){f.push(b.name)});c.each(f,function(b,c){a.removeAttr(c)});a.attr("href","/gp/help/customer/display.html?nodeId\x3d527692")}},r={hide:function(){e.addClass(b.classList.HIDE_ELEMENT);e.removeClass(b.classList.SHOW_ELEMENT)},atcAnimationStatusResolved:function(){setTimeout(function(){e.addClass("uss-c-shipping-details-transition");
a.off(k.event,k.callback)}.bind(),200)},show:function(c){h.empty();h.append(a.$(c));f();e.addClass(b.classList.SHOW_ELEMENT);e.removeClass(b.classList.HIDE_ELEMENT);g===b.animationType.FADE_IN&&(k=a.on(b.atcAnimationStatusEvent,r.atcAnimationStatusResolved.bind()))}};r.hide();return r}}});e.when("A","uss-constants","primary-action-status-widget","dp-flux-attribution","uss-widget-factory","atc-status-msg","cart-status-message","promising-image","uss-sub-nav","uss-shipping-details").register("atc-status-widget",
function(a,b,c,d,e,h,g,k,f,r){var l=b.ussCTI,m=b.widgetType,u=b.classList,t=new d(b.widgetType.ATCStatusWidget,l.CATEGORY,l.TYPE,l.ITEM);c=c.extend({init:function(a,b){this._atcGenericError=b.find("."+u.ATC_GENERIC_ERROR);this._atcAcknowledgementMessage=b.find("."+u.ATC_ACKNOWLEDGEMENT_MESSAGE);this._mainImage=new k(a,this._atcAcknowledgementMessage.find("."+u.MAIN_IMAGE));this._atcStatusMessage=new h(this._atcAcknowledgementMessage.find("."+u.ATC_STATUS_MESSAGE_COMPONENT));this._cartStatusMessage=
new g(this._atcAcknowledgementMessage.find("."+u.CART_STATUS_MESSAGE_COMPONENT));this._subNav=f.getInstance(this._atcAcknowledgementMessage.find("."+u.SUB_NAV));this._shippingDetails=r.getInstance(this._atcAcknowledgementMessage);this._viewState={};this._super(a,b)},update:function(c){var f;a.each(c,function(c){if(c.getStoreAttribution().getName()===b.stores.ATC_STATUS_STORE){var d=c.getDispatcher()._pendingAction;d&&d.getName()===b.actions.ATC_RECEIVE&&this._subNav.preInitiate();f=c.getState();f.isAtcGenericError?
this.showGenericError():(c=a.diff(this._viewState,f),c.status&&f.status&&this._atcStatusMessage.showUIValue(f.status),c.cart.count&&f.cart.count&&(this._cartStatusMessage.showUIValue(f.cart.count,f.cart&&f.cart.subTotal&&f.cart.subTotal.displayString||""),c.cart.checkoutUrl&&f.cart.checkoutUrl&&this._subNav.updateCheckoutUrl(f.cart.checkoutUrl),this._subNav.show()),c.mainImage.src&&f.mainImage.src&&this._mainImage.showUIValue(f.mainImage.src,f.mainImage.altText,f.status),c.shippingMessageHTML&&f.shippingMessageHTML&&
this._shippingDetails.show(f.shippingMessageHTML));this._viewState=f}}.bind(this))},showGenericError:function(){this._atcAcknowledgementMessage.addClass(u.HIDE_ELEMENT);this._atcAcknowledgementMessage.removeClass(u.SHOW_ELEMENT);this._atcGenericError.removeClass(u.HIDE_ELEMENT);this._atcGenericError.addClass(u.SHOW_ELEMENT)},getStoreNames:function(){return[b.stores.ATC_STATUS_STORE]}});c.getAttribution=function(){return t};e.registerWidgetType(m.ATCStatusWidget,c);return c});e.when("A","uss-constants",
"dp-flux-attribution","uss-widget-factory").register("atc-status-imb-widget",function(a,b,c,d){var n=d.getWidgetType(b.widgetType.WIDGET),h=b.ussCTI,g=new c("atc-status-imb-widget",h.CATEGORY,h.TYPE,h.ITEM);c=n.extend({init:function(a,c){c.addClass(b.widgetType.ATC_STATUS_IMB_WIDGET);this._super(a,c)},update:function(c){var f;a.each(c,function(c){if(c.getStoreAttribution().getName()===b.stores.ATC_STATUS_STORE)if(f=c.getState(),f.imbHTML){this.getElement().empty();c=a.$(f.imbHTML);var d=c.children().length;
if(1<=d){c.find(".a-declarative a").unwrap();var h=c.find(".a-declarative span");h.removeClass("a-color-link huc-cursor-pointer");h.unwrap();this.getElement().append(c);this.show();1<d&&e.log("ImbWidget.update(...): More than one IMB message exist : html \x3d "+f.imbHTML,"WARN",g.getAttribution())}else this.hide()}else this.hide()}.bind(this))},afterRender:function(){this.hide()},getStoreNames:function(){return[b.stores.ATC_STATUS_STORE]}});c.getAttribution=function(){return g};d.registerWidgetType(b.widgetType.ATC_STATUS_IMB_WIDGET,
c);return c});e.when("A").register("uss-base-layout",function(a){return a.createClass({init:function(a){this._ussSheetElement=a},renderWidgets:function(a){throw Error("Layout.renderWidgets()...: Subclass must implement update method");},reset:function(){throw Error("Layout.reset()...: Subclass must implement reset method");},getUssSheetElement:function(){return this._ussSheetElement}})});e.when("A","uss-base-layout","promising-ui-element","uss-constants","primary-action-status-widget","atc-status-imb-widget").register("uss-default-layout",
function(a,b,c,d,e,h){var g=d.layout.defaultLayout;return b.extend({init:function(b){this._super(b);this._element=b.find("."+g.DEFAULT_LAYOUT);this._ussHead=this._element.find("."+g.HEAD);this._ussBody=this._element.find("."+g.BODY);this._widgetList=[];this._recommendationLoader=a.$("."+g.SKELETON_LOADER);this._recommendationLoadingMessage=a.$("."+g.RECOMMENDATION_LOADING_MESSAGE);this._recommendationLoadedMessage=a.$("."+g.RECOMMENDATION_LOADED_MESSAGE);this._ussBody.append(this._recommendationLoader);
this._recommendationLoaderFadeOutOptions={timeDuration:200,transitionTimingFunction:d.transitionTimingFunction.EASE_IN};this._recommendationLoaderFadeInOptions={timeDuration:200,transitionTimingFunction:d.transitionTimingFunction.EASE_OUT};this._recommendationWidgetOptions={showWidgetAnimation:{animationType:d.animationType.FADE_IN,timeDuration:200,transitionTimingFunction:d.transitionTimingFunction.EASE_OUT}}},renderWidgets:function(b){var c,d=!1;a.each(b,function(b){c={};b.beforeRender();this._widgetList.push(b);
if(b instanceof e)this._ussHead.prepend(b.getElement());else if(b.getElement().addClass(g.BOTTOM_MARGIN_BETWEEN_WIDGETS),b.getElement().addClass(g.TOP_MARGIN_BETWEEN_WIDGETS),b instanceof h)this._ussBody.prepend(b.getElement());else{if(!d){d=!0;var k=this;a.fadeOut(this._recommendationLoader,this._recommendationLoaderFadeOutOptions.timeDuration,this._recommendationLoaderFadeOutOptions.transitionTimingFunction,function(){a.fadeIn(k._recommendationLoadedMessage,k._recommendationLoaderFadeInOptions.timeDuration,
k._recommendationLoaderFadeInOptions.transitionTimingFunction)})}c=this._recommendationWidgetOptions;this._ussBody.append(b.getElement())}b.show(c);b.afterRender()}.bind(this))},reset:function(){a.each(this._widgetList,function(a){a.deleteWidget()});this._widgetList=[];this._ussBody.empty();this._ussBody.append(this._recommendationLoader);this._ussBody.append(this._recommendationLoadedMessage);this._recommendationLoader.css({display:"block"});this._recommendationLoadingMessage.css({display:"none"});
this._recommendationLoadedMessage.css({display:"none"});this.resetScrollPosition()},resetScrollPosition:function(){this._ussBody.scrollTop(0)}})});e.when("uss-constants","dp-flux-action","uss-dispatcher","uss-utils").register("uss-action-creator-helper",function(a,b,c,d){function e(){t.$("#add-to-cart-button").removeAttr("disabled")}return{primaryATCClick:function(h,g){var k=new b(a.actions.USS_OPEN,a.actionSources.DP_ATC_CLICK,{recommendationBaseIdentifier:h});g.percolateData.then(function(f){var d=
{isContainsRecommendation:!1,widgets:[]};f.recommendationData&&(d.widgets=f.recommendationData.widgets||[]);e();d.widgets.length||(d.widgets.push({widgetType:a.widgetType.NO_RECOMMENDATION_WIDGET}),d.recommendationBaseIdentifier=h);c.dispatch(k);g.atcData.then(function(f){var d={};1===f.isOk?d=f.atcStatusData:d.isAtcGenericError=!0;f=new b(a.actions.ATC_RECEIVE,a.actionSources.DP_ATC_CLICK,d);c.dispatch(f)},function(){var f=new b(a.actions.ATC_RECEIVE,a.actionSources.DP_ATC_CLICK,{isAtcGenericError:!0});
c.dispatch(f)});d.recommendationBaseIdentifier=h;f=new b(a.actions.RECOMMENDATION_DATA_RECEIVE,a.actionSources.DP_ATC_CLICK,d);c.dispatch(f)},function(){g.atcData.then(function(a){e();1===a.isOk?d.showATCSuccess():d.showATCFailure()},function(){d.showATCFailure()})})},secondaryATCClick:function(d,e){d.atcData.then(function(d){var f={};1===d.isOk?f=d.atcStatusData:f.isAtcGenericError=!0;f.params=e;d=new b(a.actions.ATC_RECEIVE,a.actionSources.USS_INLINE_ATC_CLICK,f);c.dispatch(d)},function(){})}}})},
initializeUSSComponents:function(){e.when("uss-template-store","uss-sheet-store","uss-recommendation-data-store","uss-store-repository","uss-widget","uss-recommendation-widget","primary-action-status-widget","uss-widget-factory","uss-sheet-view","uss-layout").register("uss-framework-ready",function(a){a.init()});e.when("uss-sheet-view","uss-framework-ready").register("uss-sheet-view-ready",function(a){a.initializeUSSSheetView()})},initializeBuyBox:function(){e.when("buy-box-override","atc-status-widget",
"atc-status-imb-widget","uss-atc-status-store","uss-framework-ready","uss-sheet-view-ready").execute(function(a){a.init()})}}});e.when("A","uss-constants","uss-logger-service").register("uss-eligibility",function(e,p,m){var q=p.metrics,a={};return{getUssEligibility:function(b,c){return{primaryAsinData:{asin:b,offerListingId:c},eligibility:a}},registerProgramEligibility:function(b,c){b&&(a[b]&&m.logCounter(q.PROGRAM_ELIGIBILITY_REGISTRY_OVERWRITTEN+"."+programName),a[b]=c)}}});e.when("A","atf","uss-init-helper",
"uss-preconditions","uss-logger-service","uss-constants").register("uss-init",function(t,p,m,q,a,b){function c(){m.loadUssCommonAssets();e.when("A","3p-promise","uss-light-box","uss-constants","uss-logger-service").register("uss-sheet-component",function(a,b,c,d,e){function l(b,g){if(!(this instanceof l))throw Error(t.INVALID_CONSTRUCTOR_USAGE);if("string"===typeof b)if(this._sheet=n("#"+b),1===this._sheet.length)this._sheetID=b,this._sheet.addClass(u.RIGHT_SIDE_SHEET),this._sheet.addClass(u.RIGHT_SIDE_SHEET_LAYOUT),
this._sheet.addClass(u.SHEET_CLOSE),this._sheet.attr("role","dialog"),this._sheet.appendTo(q),this._closeIcon=this._createCloseIcon(),this._closeIcon.click(function(){var a=this.close();g.beforeClose&&g.beforeClose(a);e.logCounter(this._sheetID+":closeIconClick")}.bind(this)),this._sheet.append(this._closeIcon),c.getElement().click(function(){var a=this.close();g.beforeClose&&g.beforeClose(a);e.logCounter(this._sheetID+":lightBoxClick")}.bind(this)),this._sheet.removeClass(u.HIDE_ELEMENT),a.on(d.atcAnimationStatusEvent,
function(){A.is(":visible")&&a.fadeIn(z,200,m.EASE_OUT)});else throw Error("Unique element with id '"+b+"' must exist inside a DOM");else throw Error(t.INVALID_SHEET_ID);}var n=a.$,u=d.classList,m=d.transitionTimingFunction,t=d.fatalMessagesList,p=d.layout.defaultLayout,q=n("body"),A=n("."+p.SKELETON_LOADER),z=n("."+p.RECOMMENDATION_LOADING_MESSAGE);l.prototype.open=function(){var d=this;return new b(function(b){var f=d._getSheetSize();d._sheet.css({right:"-"+f+"px"});c.show();a.animationFrameDelay(function(){a.animate(d._sheet,
{right:0},400,m.ENTER_EASE,function(){d._sheet.removeClass(u.SHEET_CLOSE);d._sheet.addClass(u.SHEET_OPEN);d.showCloseIcon();b(!0);e.logCounter(d._sheetID+":open")})});d._closeIcon.css({right:f+15+"px"})})};l.prototype.close=function(){return new b(function(b){var d="-"+this._getSheetSize()+"px";a.animate(this._sheet,{right:d},300,m.EXIT_EASE,function(){this._sheet.removeClass(u.SHEET_OPEN);this._sheet.addClass(u.SHEET_CLOSE);b(!0);e.logCounter(this._sheetID+":close")}.bind(this));this.hideCloseIcon();
c.hide()}.bind(this))};l.prototype.getSheetElement=function(){return this._sheet};l.prototype._getSheetSize=function(){return this._sheet.outerWidth()};l.prototype._createCloseIcon=function(){return n("\x3cdiv class \x3d '"+(u.CLOSE_ICON+" "+u.CLOSE_ICON_MEDIUM+"  "+u.HIDE_ELEMENT)+"'\x3e\x3c/div\x3e")};l.prototype.showCloseIcon=function(){a.fadeIn(this._closeIcon,200,m.EVEN_EASE)};l.prototype.hideCloseIcon=function(){a.fadeOut(this._closeIcon,200,m.EVEN_EASE)};return l});e.when("A","uss-constants",
"uss-utils").register("uss-light-box",function(a,b,c){var d=a.$,e=b.classList,l=d("\x3cdiv class\x3d'"+e.LIGHT_BOX_IDENTIFIER+" "+e.LIGHT_BOX_JS_HOOK+" "+e.HIDE_ELEMENT+"'\x3e\x3c/div\x3e");d("body").append(l);return{show:function(){l.addClass(e.SHOW_ELEMENT);l.removeClass(e.HIDE_ELEMENT);c.disablePageScroll();a.animationFrameDelay(function(){a.animate(l,{opacity:.6},400,b.transitionTimingFunction.EVEN_EASE)})},hide:function(){l.removeClass(e.SHOW_ELEMENT);a.animate(l,{opacity:0},300,b.transitionTimingFunction.EVEN_EASE,
function(){l.addClass(e.HIDE_ELEMENT);l.removeClass(e.SHOW_ELEMENT);c.enablePageScroll()})},getElement:function(){return l}}});e.when("A","uss-constants","dp-flux-attribution","dp-flux-view","uss-store-repository","uss-atc-status-store").register("nav-bar-cart-count-view",function(a,b,c,d,e,l){var n=a.$;a=b.ussCTI;c=new c("nav-bar-cart-count-view",a.CATEGORY,a.TYPE,a.ITEM);l=e.getStore(b.stores.ATC_STATUS_STORE);new d(c,[l],function(a){if(-1!==n.inArray(l,a)){var b=l.getState();w.$Nav.when("api.setCartCount").run(function(a){b.cart.count&&
a(b.cart.count)})}})});e.when("A").register("buy-box-utility",function(a){var b=a.$;return{isWarrantySelectedInBuyBox:function(){var a=!1;b("#abbWrapper .abbListItem input[type\x3dcheckbox]").each(function(){a=a||b(this).prop("checked")});return a}}});e.when("A","uss-action-creator-helper","uss-preconditions","uss-logger-service","uss-constants","uss-utils","uss-eligibility").register("uss-atc",function(a,b,c,d,e,l,n){function m(a){this.widgetName=a;this.isPrimaryAtc="DetailPageBuyBox"===a}var t=
a.$,p=e.ajaxParams.AJAX_TIMEOUT,q=e.ajaxParams.BASE_URL,x={};m.prototype._getAtcUrl=function(a){var b=q;a.hasOwnProperty("ref")&&(b=b+"/ref\x3d"+a.ref);(a=a.linkParams)&&""!==a.trim()&&("\x26"===a.charAt(a.length-1)&&(a=a.substring(0,a.length-1)),b=b+"?"+a);return b};m.prototype._addUssParameters=function(a){a.params.isUSSAjax=1;this.isPrimaryAtc&&(a.params.isPrimaryATC=1,l.shouldFireAndForgetWeblabTrigger()||(a.params.triggerUSSWeblab=c.triggerUSSWeblabValue()));a=this._addEligibilityParameters(a);
var b=l.getDebugParams();Object.keys(b).forEach(function(c){a.params[c]=b[c]});return a};m.prototype._addEligibilityParameters=function(a){var b=n.getUssEligibility(a.params[e.ajaxParams.ASIN],a.params[e.ajaxParams.OFFER_LISTING_ID]);a.params.ussEligibility=JSON.stringify(b);return a};m.prototype._callback=function(){var a=arguments[0],b=Array.prototype.slice.call(arguments,1);"function"===typeof a&&a.apply(this,b)};m.prototype._addToCart=function(b,d){this.isPrimaryAtc&&c.isUssWeblabInTreatment()&&
a.$("#add-to-cart-button").attr("disabled",!0);var e=this;b=this._getAtcUrl(b);d=this._addUssParameters(d);var f=t.Deferred(),g=t.Deferred(),l={};a.post(b,{params:d.params,success:function(b,c,f){d.hasOwnProperty("success")&&e._callback(d.success,b,c,f);a.trigger("USS ATC: Success")},error:function(b,c,k){f.reject();g.reject();d.hasOwnProperty("error")&&e._callback(d.error,b,c,k);a.trigger("USS ATC : Failure")},abort:function(a){f.reject();g.reject();d.hasOwnProperty("abort")&&e._callback(d.abort,
a)},chunk:function(a){if(a&&a.hasOwnProperty("name")){switch(a.name){case "atc-data":f.resolve(a.response);break;case "percolate-data":g.resolve(a.response);break;default:var b={message:"ATC Failed for widget "+e.widgetName+". Unrecognized chunk name found. ",logLevel:"FATAL"};w.ueLogError&&w.ueLogError("USS ATC Failure for widget "+e.widgetName,b)}d.hasOwnProperty("chunk")&&e._callback(d.chunk,a)}},timeout:d.timeout||p});l.atcData=f;this.isPrimaryAtc&&(l.percolateData=g);return l};return{addToCart:function(a,
c,h){if(!a||!a.trim().length||"object"!==typeof c)throw e.fatalMessagesList.INCORRECT_PARAMETER_PASSED;var k="DetailPageBuyBox"===a;x[a]||(x[a]=new m(a));a=x[a]._addToCart(h,c);k||(k={},k.baseAsin=c.params.ASIN||c.params.a,k.baseReftag=h.ref,d.logCounter(e.metrics.SECONDARY_ADD_TO_CART_CLICK_COUNTER),b.secondaryATCClick(a,k));return a}}});e.when("A","uss-atc","uss-action-creator-helper","uss-preconditions","uss-logger-service","uss-constants","buy-box-utility","uss-utils").register("buy-box-override",
function(a,b,c,d,e,l,m,n){var t=a.$,p=l.metrics;a={actionButton:null,whitelistedActions:{"submit.add-to-cart":1},init:function(){this.checkPreconditionsAndManipulateBuyBox()},checkPreconditionsAndManipulateBuyBox:function(){this.buyBoxForm=t("#addToCart");d.isUssConditionsPassed()&&this.attachFormHandler()},attachFormHandler:function(){this.buyBoxForm.submit(this.submitForm.bind(this));this.buyBoxForm.find("input[type\x3dsubmit], input[type\x3dbutton]").click(function(a){this.actionButton=a.target}.bind(this))},
isValidAction:function(){return this.actionButton&&this.actionButton.name in this.whitelistedActions},submitForm:function(a){if(!m.isWarrantySelectedInBuyBox()&&this.isValidAction())if(d.isUssWeblabInTreatment()){a.preventDefault();a=this.getAddToCartParameters();var h={params:a},t={ref:l.ajaxParams.REFTAG};n.shouldFireAndForgetWeblabTrigger()&&n.fireAndForgetWeblabTrigger(d.triggerUSSWeblabValue(),d.ussWeblabTreatmentValue());var h=b.addToCart("DetailPageBuyBox",h,t),q=new e.Timer(p.ATC_PROMISE_RESOLVED_TIMER),
v=new e.Timer(p.PERCOLATE_DATA_PROMISE_RESOLVED_TIMER);q.start();v.start();h.atcData.then(function(a){1===a.isOk&&q.stop()},function(){e.logCounter(p.ATC_PROMISE_REJECTED_COUNTER)});h.percolateData.then(function(){v.stop()},function(){e.logCounter(p.PERCOLATE_DATA_PROMISE_REJECTED_COUNTER)});c.primaryATCClick(a[l.ajaxParams.ASIN],h)}else e.logCounter(l.metrics.POST_ATC_PRECONDITIONS_FAILED),this.addHiddenUSSField("isUSSControl",1),n.shouldFireAndForgetWeblabTrigger()?n.fireAndForgetWeblabTrigger(d.triggerUSSWeblabValue(),
d.ussWeblabTreatmentValue()):this.addHiddenUSSField("triggerUSSWeblab",d.triggerUSSWeblabValue());else e.logCounter(l.metrics.POST_ATC_PRECONDITIONS_FAILED)},addHiddenUSSField:function(a,b){t("\x3cinput\x3e").attr({type:"hidden",id:a,name:a,value:b}).appendTo(this.buyBoxForm)},getAddToCartParameters:function(){var a={},b=this.buyBoxForm.serializeArray();t.each(b,function(b,c){a[c.name]=c.value});return a}};return{init:a.init.bind(a)}})}function d(){q.isUssConditionsPassed()&&(a.logCounter(b.metrics.PAGE_LANDING_PRECONDITIONS_PASSED),
n||(c(),n=!0,m.initializeUSSComponents()),m.initializeBuyBox())}var n=!1;t.on("PageRefresh:ATF",function(){d()});d()});"use strict";e.when("jQuery","A","a-component","uss-widget-footer","uss-widget-partial-content","uss-widget-full-content","p13n-sc-call-on-visible","p13n-sc-logger").register("uss-list-widget",function(e,p,m,q,a,b,c,d){function n(a){var b="a:expandControl:"+a._$footer.getName()+":toggle";p.on(b,function(){var b=!a.isExpanded();a._$element.attr("data-a-expanded",b);g(a,b);a._$firstToggleEvent&&
0<a._$widgetImpressionElement.length&&(a._$firstToggleEvent=0,h(a._$widgetImpressionElement,a._$fullContent._$element,{action:"see_more"}))})}function h(a,b,h){c.register(a,function(){d.logAsyncAction(e.extend(!0,{},{featureElement:a,isEventComplete:function(){return b.is(":visible")},logOnlyNew:!0,replicateAsinImpressions:!0},h))},{distance:10})}function g(a,b){a._$footer.toggleExpansion(b,!a.isExpanded(),a._$firstToggleEvent);a._$fullContent.toggleExpansion(b);a._$partialContent.toggleExpansion(b)}
var k=m.create({_componentName:"ussListWidget",init:function(c,e){this._super(c,e);this._$partialContent=a(this._$element.find(".uss-partial-list-container"));this._$fullContent=b(this._$element.find(".uss-full-list-container"));this._$footer=q(this._$element.find(".uss-widget-footer"));this._$firstToggleEvent=1;this._$widgetImpressionElement=this._$element.find(".p13n-sc-static-list");0<this._$widgetImpressionElement.length&&("function"===typeof d.resetImpressions&&d.resetImpressions(this._$widgetImpressionElement.attr("data-p13n-feature-name")),
h(this._$widgetImpressionElement,this._$partialContent._$element,{action:"view",initialDelay:0}));n(this);g(this,this.isExpanded())},isExpanded:function(){return"true"===this._$element.attr("data-a-expanded")}});return function(a,b){return new k(a,b)}});e.when("jQuery","A").execute("uss-sp-help-link",function(e,p){p.on("a:popover:beforeShow:uss-sp-help-link-popover",function(e){e.popover.$container.css("z-index",501)})});"use strict";e.when("jQuery","A","p13n-sc-line-truncator","a-component").register("uss-widget-partial-content",
function(e,p,m,q){var a=q.create({_componentName:"ussWidgetPartialContent",init:function(a,c){this._super(a,c);this._$element.find(".p13n-sc-truncate").toggleClass("uss-asin-title");m.truncateLines(this._$element);p.loadDynamicImage(this._$element.find(".p13n-sc-dynamic-image"))},toggleExpansion:function(a){var c=this;c._$element.attr("data-a-expanded",a);a?c._$element.hide():p.delay(function(){c._$element.show()},50)}});return function(b,c){return new a(b,c)}});"use strict";e.when("jQuery","A","p13n-sc-line-truncator",
"a-component").register("uss-widget-full-content",function(e,p,m,q){var a=q.create({_componentName:"ussWidgetFullcontent",init:function(a,c){this._super(a,c);this._$dynamicImagesLoaded=this._$isTitleTruncated=!1;a=this._$element.find(".p13n-sc-truncate");a.toggleClass("uss-asin-title");a.attr("data-rows","4")},toggleExpansion:function(a){var c=this;c._$element.attr("data-a-expanded",a);a?p.delay(function(){c._$element.show();m.truncateLines(c._$element);c._$dynamicImagesLoaded||(p.loadDynamicImage(c._$element.find(".p13n-sc-dynamic-image")),
c._$dynamicImagesLoaded=!0)},50):c._$element.hide()}});return function(b,c){return new a(b,c)}});"use strict";e.when("jQuery","A","a-component","uss-widget-see-more","uss-widget-expander-icon","uss-constants","uss-logger-service").register("uss-widget-footer",function(e,p,m,q,a,b,c){function d(a){var b=a.getName();a=a.isExpanded();p.trigger("a:expandControl:"+b+":toggle");a?(c.logCounter(n.SEE_LESS_CLICK_COUNTER),c.logCounter(n.SEE_LESS_CLICK_COUNTER+":"+b)):(c.logCounter(n.SEE_MORE_CLICK_COUNTER),
c.logCounter(n.SEE_MORE_CLICK_COUNTER+":"+b))}var n=b.metrics,h=function(a,b){return a+":"+b},g=m.create({_componentName:"ussWidgetFooter",init:function(b,e){var g=this;g._super(b,e);g._$expanderIcon=a(g._$element.find(".uss-expander-icon-container"));g._$seeMore=q(g._$element.find(".uss-see-more"));g._$element.length&&(c.logCounter(n.SEE_MORE_EXISTENCE_COUNTER),c.logCounter(h(n.SEE_MORE_EXISTENCE_COUNTER,g.getName())));g._$element.click(function(){d(g)});g._$element.keypress(function(a){var b=p.constants.keycodes;
a=a.which;a!==b.ENTER&&a!==b.SPACE||d(g)})},toggleExpansion:function(a,b,c){var d=this;d._$element.attr("data-a-expanded",a);p.fadeOut(d._$element,200,"linear",function(){d._$seeMore.toggleSeeMore(a);d._$expanderIcon.toggleExpanderIcon(a);p.fadeIn(d._$element,200)});a||!b||c||d._$element.parent().get(0).scrollIntoView(!0)},isExpanded:function(){return"true"===this._$element.attr("data-a-expanded")},getName:function(){return this._$element.attr("data-name")}});return function(a,b){return new g(a,b)}});
"use strict";e.when("jQuery","A","a-component").register("uss-widget-see-more",function(e,p,m){var q=m.create({_componentName:"ussWidgetSeeMore",init:function(a,b){this._super(a,b);this._$seeMoreText=this._$element.find(".uss-see-more-text");this._$seeLessText=this._$element.find(".uss-see-less-text")},toggleSeeMore:function(a){this._$seeMoreText.toggle(!a);this._$seeLessText.toggle(a)}});return function(a,b){return new q(a,b)}});"use strict";e.when("jQuery","A","a-component").register("uss-widget-expander-icon",
function(e,p,m){var q=m.create({_componentName:"ussWidgetExpanderIcon",init:function(a,b){this._super(a,b);this._$icon=this._$element.find(".uss-expander-icon")},toggleExpanderIcon:function(a){this._$icon.toggleClass("a-css-icon-expand",!a).toggleClass("a-css-icon-collapse",a)}});return function(a,b){return new q(a,b)}});"use strict";e.when("jQuery","A","uss-atc").execute("uss-inline-atc",function(e,p,m){function q(a){var c={};a.find("input[type\x3dhidden]").each(function(a,b){c[b.name]=e(b).val()});
return c}function a(a,c,d,e){a.atcData.then(function(a){e.hide();1===a.isOk?c.show():d.show()},function(){e.hide();d.show()})}(function(){e("body").delegate(".uss-list-widget .uss-add-to-cart-button","click",function(b){b=e(b.currentTarget);var c=b.parent().find("input[name\x3dASIN]").val(),d=e(".uss-add-to-cart-form-"+c),c=d.siblings(".uss-atc-success"),n=d.siblings(".uss-atc-error"),h=d.siblings(".uss-atc-spinner");d.hide();h.show();var g={params:q(d)},k=JSON.parse(d.attr("data-link-params")),d=
{linkParams:e.param(k),ref:d.attr("data-ref")};b=m.addToCart(b.parents(".uss-widget-body").attr("data-p13n-feature-name"),g,d);a(b,c,n,h)})})()})});
/* ******** */
(function(e){var D=window.AmazonUIPageJS||window.P,m=D._namespace||D.attributeErrors,d=m?m("DetailPageTwisterPlusAssets",""):D;d.guardFatal?d.guardFatal(e)(d,window):d.execute(function(){e(d,window)})})(function(e,D,m){"use strict";e.when("A").register("twister-plus-constants",function(d){return{ASIN:"asin",PRICE:"price",SAVINGS:"savings",TOTAL_PRICE:"totalPrice",YOU_SAVE:"youSave",PRICE_UNIT:"priceUnit",OFFER_LISTING_ID:"offerListingId",QUANTITY:"quantity",TWISTER_REFRESH_EVENT:"twister-refresh",
CC_SELECTION_UPDATE_EVENT:"cc-selection-update",DEVICE_TYPE_WEB:"web",TWISTER_PLUS_VIEW_REGISTRATION:{viewAttribution:"DetailPage",viewName:"MobileTwisterPlusFramework"},ccManager:{FEATURE_NAME:"ccManager",ACTIVE_CARDS:"twisterPlusActiveCards",FEATURE_ATTRIBUTION:"Website/ DetailPage/ TwisterPlus"},itemAssociation:{KEY_BUYBACK:"buyback",CUSTOM_NAME_STRING:"custom-name",CUSTOM_VALUE_STRING:"custom-value",CUSTOM_DATA_KEY:"customData",INPUT_TYPE_HIDDEN:"hidden",ENCODED_ITEM_ASSOC_VAL:"encodedItemAssocVal",
ITEM_ASSOCIATION_GROUP_KEY:"ItemAssociationGroupKey",ITEM_ASSOCIATION_GROUP_VAL:"itemAssociationGroup",ASIN_KEY:"asin",QUANTITY_KEY:"quantity",OFFERING_ID_KEY:"offeringID",OFFER_LISTING_ID_KEY:"offerListingId",FORM_DATA_ASIN_KEY:"a",FORM_DATA_OID_KEY:"oid",FIRST_INDEX:".1",DEVICE_TYPE_MOBILE_WEB:"mWeb",DEVICE_TYPE_MOBILE_APP:"mApp",IS_BUYBACK_INPUT_FLAG:"isBuyBack",IS_BUYBACK_INPUT_FLAG_VALUE:"1",PIPE_SEPARATOR:"|",FEATURE_NAME_KEY:"featureName",BASE_ASIN_INDEX:1},htmlTags:{INPUT:"input",FIELDSET:"fieldset"},
selectors:{DECLARATIVE_CLASS:".a-declarative",BUYBOX_ACCORDION:"#buybox .a-accordion",BUYBOX_ACCORDION_ACTIVE:"#buybox .a-accordion-active",BUYNOW_ELEMENT_ID:"form#buyNow, form#buyNowCheckout",BUYNOW_CHECKOUT_ELEMENT_ID:"#buyNowCheckout",BUYNOW_BUTTON_ID:"#buy-now-button",ADD_TO_CART_BUTTON_ID:"#add-to-cart-button, #installments-button, #add-to-cart-button-ubb-mobile",ADD_TO_CART_ELEMENT_ID:"#addToCart, #mobile-installments",ITEM_ASSOCIATION_INPUTS_CLASS:".itemAssocInputs",ITEM_ASSOCIATION_INPUTS_CLASS_NAME:"itemAssocInputs",
DATA_ATTRIBUTE_ACTION:"action",PPD_RIGHT_COL_ID:"#rightCol"},ccFeatures:{PAYMENT_OPTIONS_FEATURE:"paymentOptions",PAYMENT_OPTIONS_BUY_NOW_CART_TYPE:"BUY_NOW",PAYMENT_OPTIONS_ATC_CART_TYPE:"ADD_TO_CART",CART_TYPE:"cartType",IS_BUYBACK_KEY:"isBuyBackKey",IS_BUYBACK_FEE:"isBuyBackFee",BUY_NOW_DATA:"buynowData",COUPONS_FEATURE:"couponsCard"},blacklistedFeaturesListForIA:["couponsCard"],bottomSheet:{FEATURE_NAME:"bottomSheet",EVENT_NAME:"cc-selection-update",FEATURE_ATTRIBUTION:"Website/ DetailPage/ TwisterPlus",
BOTTOM_SHEET_NAME:"twisterPlusBottomSheet",RESIZE_DURATION:.3,BOTTOM_SPACING:21,ITEM_COUNT_SINGULAR_TEMPLATE:"item-count-singular-template",ITEM_COUNT_PLURAL_TEMPLATE:"item-count-plural-template",ITEM_COUNT_PLACEHOLDER:"###itemQuantity",MONTHLY_PAYMENTS_FOOTNOTE_TEMPLATE:"monthly-payment-footnote-template"},unavailableMessage:{ACTIVE_ACCORDION:".a-accordion-active",CLASS:".",DISPLAYABLE_MESSAGE:"tp-bbm-info-message-displayable",HIDDEN:"aok-hidden",MESSAGE_ITEM:"twister-plus-unavailable-message-item",
MULTIPLE:".tp-bbm-info-message-container",SINGLE:".tp-bbm-info-message-with-card-name-container",TEMPLATE:"twister-plus-unavailable-message-item-template"},sideSheet:{FEATURE_NAME:"sideSheet",EVENT_NAME:"cc-selection-update",FEATURE_ATTRIBUTION:"Website/ DetailPage/ TwisterPlus",RESIZE_DURATION:300,SYMBOL_HASH:"#",DISPLAY:"display",INLINE:"inline"},ccCardsRefresh:{SINGLE_CARD_INVALID:"single-card-invalid-message",SINGLE_SELECTION_INVALID:"single-selection-invalid-message",SINGLE_DETAILS_UPDATE:"single-details-update-message",
MULTIPLE_DETAILS_UPDATE_OR_CARD_REFRESH:"multiple-details-update-or-cards-refresh-message",MULTIPLE_CARD_INVALID_OR_SELECTION_INVALID:"multiple-card-invalid-or-selection-invalid-message",CARD_NAME_PLACEHOLDER:"###cardName"},metrics:{CC_CARD_COUNT:"ccCardCount",TWISTER_PLUS_TTI:"TTI",BOTTOM_SHEET_GV:"priceBottomSheetGV",BOTTOM_SHEET_TIMER:"priceBottomSheetTimer",CC_REMOVAL:"ccRemoval",CC_SELECTION:"ccSelection",PREFIX:"twisterPlus.",FEATURE_NAME:"twisterPlus",TWISTER_PLUS_TWISTER_REFRESH_GV:"twisterPlusTwisterRefreshGV"},
toolTip:{FEATURE_NAME:"toolTip",EVENT_NAME:"cc-selection-update",FEATURE_ATTRIBUTION:"Website/ DetailPage/ TwisterPlus",TOOL_TIP_NAME:"twisterPlusPopOver",ITEM_COUNT_SINGULAR_TEMPLATE:"item-count-singular-template",ITEM_COUNT_PLURAL_TEMPLATE:"item-count-plural-template",ITEM_COUNT_PLACEHOLDER:"###itemQuantity",MONTHLY_PAYMENTS_FOOTNOTE_TEMPLATE:"monthly-payment-footnote-template"},ID_SELECTOR:"#",CLASS_ATTRIBUTE:"class",AUI_COLOR_CSS_PREFIX:"a-color-",AUI_SIZE_CSS_PREFIX:"a-size-",AUI_ALIGN_LEFT_CSS:"a-text-left",
AUI_ALIGN_RIGHT_CSS:"a-text-right",AUI_SPACING_TOP_MINI_CSS:"a-spacing-top-mini",AUI_SPACING_TOP_MEDIUM_CSS:"a-spacing-top-medium",AUI_NORMAL_CSS:"a-normal",AUI_HIDDEN_CSS:"aok-hidden",ATF_PAGE_REFRESH_EVENT:"PageRefresh:ATF",priceBreakupDetails:{INIT_DATA_KEYS:"contextCurrencySymbol baseItemAmount baseItemTitle locale currencySymbolPosition priceAfterDiscountString".split(" "),REFMARKER_ENDPOINT:"/hctp/log/refMarker?ref_\x3d",REF_MARKERS:{DETAILS_INGRESS_CLICKED:"tp_cc_pd_clk",PRICE_DETAILS_CARD_VISIBLE:"tp_cc_pd_gv",
BOTTOM_SHEET_CLOSE:"tp_cc_pd_close"},BOTTOM_SHEET:"price-detail-bottom-sheet",BOTTOM_SHEET_NAME:"tpPriceDetail",BOTTOM_SHEET_WRAPPER:"price-detail-bottom-sheet-wrapper",BOTTOM_SHEET_HEIGHT_ADJUSTMENT_PORTRAIT:160,BOTTOM_SHEET_HEIGHT_ADJUSTMENT_LANDSCAPE:120,BOTTOM_SHEET_CONTENT_HEIGHT_ADJUSTMENT:35,BOTTOM_SHEET_DURATION_IN_MS:0,BOTTOM_SHEET_CONTAINER:"#tp-bottom-sheet-container",BOTTOM_SHEET_DEFAULT_HEIGHT:0,PRICE_BREAKUP_DETAILS_FIELD:"priceBreakupDetails",BASE_ITEMS_DETAILS_FIELD:"baseItemDetails",
TP_BUNDLE_PRICE_BREAKUP_CONTENT:"#tp-bundle-price-breakup-content",TP_BUNDLE_PRICE_VALUE:"#tp-bundle-price-value",TP_BUNDLE_DISCOUNT_VALUE:"#tp-bundle-discount-value",TP_BUNDLE_SELL_PRICE_VALUE_SELECTOR:"#tp-bundle-sell-price-value",TP_BUNDLE_PRICE_ID:"#tp-bundle-price",ASSET_LOADED:"PDTPAssetLoaded",SUBTOTAL_DATA_ERROR:"PDTPSubtotalDataError",ITEM_KEY_MAIN:"main",COUPONS_CARD:"couponsCard",EXCHANGE_CARD:"buyback",APPROX_CHAR_LENGTH:15,LEFT_SYMBOL_POSITION:"left",PRICE_TYPE_SUB:"sub",bundleItemDisplayStyle:{LEFT_COLOR:"base",
RIGHT_COLOR:"base",LEFT_SIZE:"base",RIGHT_SIZE:"base",PRICE_TYPE:"add"},discountComponentDisplayStyle:{LEFT_COLOR:"tertiary",RIGHT_COLOR:"tertiary",LEFT_SIZE:"small",RIGHT_SIZE:"small",PRICE_TYPE:"sub"},priceAfterDiscountDisplayStyle:{LEFT_COLOR:"tertiary",RIGHT_COLOR:"base",LEFT_SIZE:"small",RIGHT_SIZE:"base a-text-bold",PRICE_TYPE:"add"}}}});"use strict";e.when("A").register("twister-plus-preconditions",function(d){return{isTwisterPlusEligible:function(){return"true"===d.$("#twister-plus-eligible").val()},
isCcCardsRendered:function(){return"true"===d.$("#ccCardsRendered").val()}}});"use strict";e.when("A","twister-plus-logger-service","twister-plus-constants").register("twister-plus-feature-state",function(d,b,n){function f(a){return t.ccFeaturesState[a]}function c(a){return t.ccRemovedSelections[a]}var t={},x=n.metrics;return{initialize:function(a){t.twisterState=a.twisterState||{};t.priceData=a.priceData||{};t.ccFeaturesState=a.ccFeaturesState||{};t.ccRemovedSelections=a.ccRemovedSelections||{}},
getTwisterPlusFeaturesState:function(){return t},getTwisterState:function(){return t.twisterState},setTwisterState:function(a){t.twisterState=a||{}},getCCFeaturesState:function(){return t.ccFeaturesState},getCCRemovedSelections:function(){return t.ccRemovedSelections},getPriceData:function(){return t.priceData},updateCCFeatureState:function(a,c,d){var n=!1;if(a!==m&&c!==m){var n=t.ccFeaturesState,y;y=f(a);if("add"===c.selectionType)d[a].hasOwnProperty("updateQtyAsBaseItem")&&d[a].updateQtyAsBaseItem&&
(c.quantity=t.twisterState.quantity),y!==m?y.push(c):(t.ccFeaturesState[a]=[],t.ccFeaturesState[a].push(c)),b.logCounter(x.CC_SELECTION+"."+a);else if("delete"===c.selectionType&&(d=c.itemType,c=c[d],y!==m))for(var z=0;z<y.length;z++)if(y[z][d]===c){y.splice(z,1);b.logCounter(x.CC_REMOVAL+"."+a);break}y=f(a);n[a]=y;n=!0}else e.log("CC featureName or featureData passed to Twister+ is not defined.","FATAL",a);return n},updateTwisterPlusFeatureStateForQuantity:function(a,c){t.twisterState.quantity=a;
d.each(t.ccFeaturesState,function(f,b){c[b].hasOwnProperty("updateQtyAsBaseItem")&&c[b].updateQtyAsBaseItem&&d.each(f,function(c,f){t.ccFeaturesState[b][f].quantity=a})})},updateCCRemovedSelections:function(a,f){var b=!1;a!==m&&f!==m?(b=t.ccRemovedSelections,c(a)===m&&(t.ccRemovedSelections[a]=[]),c(a).push(f),f=c(a),b[a]=f,b=!0):e.log("CC featureName or featureData passed to Twister+ is not defined.","FATAL",a);return b},clearCCFeatureSelections:function(a){var c=!1;a!==m?(f(a)!==m&&(c=t.ccFeaturesState[a].length,
0<c&&b.logCounter(x.CC_REMOVAL+"."+a,c),t.ccFeaturesState[a]=[]),c=!0):e.log("CC featureName passed to Twister+ is not defined.","FATAL",a);return c},clearCCRemovedSelections:function(a){var f=!1;a!==m?(c(a)!==m&&delete t.ccRemovedSelections[a],f=!0):e.log("CC featureName passed to Twister+ is not defined.","FATAL",a);return f},updatePriceData:function(a){t.priceData=a||{}}}});"use strict";e.when("A","twister-plus-constants").register("twister-plus-feature-registration",function(d,b){var n={},f=[b.TWISTER_REFRESH_EVENT,
b.CC_SELECTION_UPDATE_EVENT];(function(){for(var c=0;c<f.length;c++)n[f[c]]=[]})();return{registerFeature:function(c,b,d){var a;a=!0;c.hasOwnProperty("featureName")&&c.hasOwnProperty("featureAttribution")||(a=!1,e.log("Feature Registration does not contain valid featureName or featureAttribution","ERROR",c.featureName+": "+c.featureAttribution));a&&(a=!0,-1===f.indexOf(b)&&(e.log("Feature passed invalid event name while registering to Twister+: "+b,"ERROR",c.featureName+": "+c.featureAttribution),
a=!1));if(a){a=c.featureName;for(var u=!1,m=0;m<n[b].length;m++)if(n[b][m].featureName===a){u=!0;break}u?e.log("Feature already registered to TwisterPlus for the event: "+b,"ERROR",a):(u={},u.featureName=a,u.featureAttribution=c.featureAttribution,u.callback=d,n[b].push(u))}},callRegisteredFeaturesCallback:function(c){for(var b=0;b<n[c].length;b++)n[c][b].callback.apply()}}});"use strict";e.when("A","twister-plus-feature-state","twister-plus-feature-registration","twister-plus-constants","priceUpdate",
"itemAssociation","buy-box-price-update","turbo-checkout-handler","utils").register("twister-plus-framework",function(d,b,n,f,c,t,x,a,u){function A(){g(document).delegate("#quantity","change",function(r){r=E();p=!0;b.updateTwisterPlusFeatureStateForQuantity(r,K);v();p=!1})}function S(){var r=d.$("#twister-plus-price-data-price"),r=r?r.val():m,a=d.$("#twister-plus-price-data-savings"),a=a?a.val():m,p=d.$("#twister-plus-price-data-price-unit"),p=p?p.val():m;return{price:parseFloat(r),savings:parseFloat(a),
priceUnit:p}}function y(){var r=d.$("#twister-plus-offer-listing-id");return r?r.val():m}function z(){var r=d.$("#twister-plus-asin");return r?r.val():m}function h(){var r={};r[F.ASIN]=I;r[F.PRICE]=G.price;r[F.SAVINGS]=G.savings;r[F.PRICE_UNIT]=G.priceUnit;r[F.OFFER_LISTING_ID]=P;r[F.QUANTITY]=E();var a={};a[F.TOTAL_PRICE]=G.price;a[F.YOU_SAVE]=G.savings;return{twisterState:r,priceData:a}}function E(){var a=u.getBaseItemQuantity();a===m&&(a=1);return a}function v(){var r=b.getTwisterPlusFeaturesState(),
f=c.getTotalPriceAndYouSave(r);b.updatePriceData(f);x.updatePriceSubtotalFeature(r);p&&!u.isFeatureSelectionPresent(b.getCCFeaturesState())||t.addItemAssociationBundleData(b.getTwisterPlusFeaturesState(),!0);n.callRegisteredFeaturesCallback(F.CC_SELECTION_UPDATE_EVENT);a.updateInputCheckbox(r)}var F=f,G=S(),P=y(),I=z(),g=d.$,K,p=!1;return{initializeTwisterPlus:function(){b.initialize(h());A()},refreshTwisterPlusData:function(){G=S();P=y();I=z();b.initialize(h());n.callRegisteredFeaturesCallback(F.TWISTER_REFRESH_EVENT);
A()},ccSelectionFetch:function(a){return b.getCCFeaturesState()[a]},ccRemovedSelectionFetch:function(a){return b.getCCRemovedSelections()[a]},ccSelectionUpdate:function(a,p){a=b.updateCCFeatureState(a,p,K);v();return a},ccRemovedSelectionUpdate:function(a,p){a=b.updateCCRemovedSelections(a,p);v();return a},ccSelectionsClear:function(a){a=b.clearCCFeatureSelections(a);v();return a},ccRemovedSelectionsClear:function(a){a=b.clearCCRemovedSelections(a);v();return a},setFeatureRegistrationMap:function(a){K=
a},getTwisterPlusState:function(){return d.copy(b.getTwisterPlusFeaturesState())},registerFeature:function(a,p,c){try{"function"===typeof c?n.registerFeature(a,p,c):e.log("Registering function should provide callback as a function","ERROR",a.featureName)}catch(b){D.ueLogError&&D.ueLogError(b,{logLevel:"ERROR",attribution:a.featureName,message:"TwisterPlus Framework: Error caused by the feature: "+a.featureName+" (C/T/I: "+a.featureAttribution+") while registering to TwisterPlus to listen to "+p+" event"+
b})}}}});e.when("A","twister-plus-framework","twister-plus-constants","twister-plus-logger-service","utils").register("cc-manager",function(d,b,n,f,c){function t(a){return h[a].hasOwnProperty("isMultiSelection")&&h[a].isMultiSelection}function x(a,c){g=b.getTwisterPlusState();c=b.ccSelectionUpdate(a,c);b.ccRemovedSelectionsClear(a);return c}function a(a){g=b.getTwisterPlusState();return b.ccSelectionsClear(a)}function u(a){var c=!0,b=a;v||(v=A());h.hasOwnProperty(a)?-1===v.indexOf(a)&&(c=!1,b=h[a].featureAttribution,
e.log("CC selection update called for non rendered feature","ERROR",b)):(c=!1,e.log("CC selection update called for unregistered feature","ERROR",b));return c}function A(){var a=E("#twister-plus-active-cards");return(a?a.val():"").split(",")}function S(a,c){var b={},f;for(f in v){var g=v[f];if(g!==c&&h.hasOwnProperty(g)){var k=h[g];k.callbacks.hasOwnProperty("refreshCard")&&(k=k.callbacks.refreshCard(a,c),"NO_CHANGE"!==k&&a.ccFeaturesState[g]!==m&&0<a.ccFeaturesState[g].length&&(b[k]===m&&(b[k]=[]),
b[k].push(g)))}}a=h[c].callbacks;g=Object.keys(b).length;if(a.hasOwnProperty("ccCardsRefreshNotification")&&0<g){var d;c=E("#tp-cc-cards-refresh-strings");f=!0;if(1===g)if(g=Object.keys(b)[0],b=b[g],1===b.length){switch(g){case "CARD_INVALID":d=c.data(G.SINGLE_CARD_INVALID);break;case "SELECTION_INVALID":d=c.data(G.SINGLE_SELECTION_INVALID);break;case "DETAILS_UPDATE":d=c.data(G.SINGLE_DETAILS_UPDATE),f=!1}d=d.replace(G.CARD_NAME_PLACEHOLDER,b[0])}else switch(g){case "CARD_INVALID":d=c.data(G.MULTIPLE_CARD_INVALID_OR_SELECTION_INVALID);
break;case "SELECTION_INVALID":d=c.data(G.MULTIPLE_CARD_INVALID_OR_SELECTION_INVALID);break;case "DETAILS_UPDATE":d=c.data(G.MULTIPLE_DETAILS_UPDATE_OR_CARD_REFRESH),f=!1}else 1<g&&(d=c.data(G.MULTIPLE_DETAILS_UPDATE_OR_CARD_REFRESH));b=f?E("#tp-cc-cards-refresh-red-notification"):E("#tp-cc-cards-refresh-green-notification");b.find(".a-alert-content").text(d);d=b.html();a.ccCardsRefreshNotification(d)}else 0<g&&e.log("Feature callback ccCardsRefreshNotification() missing for the feature","ERROR",
h[c].featureAttribution)}function y(a,c,b){for(var f in v){var g=v[f];if(g!==b&&h.hasOwnProperty(g)){var d=h[g];d.callbacks.hasOwnProperty("restorePreviousSelection")&&d.callbacks.restorePreviousSelection(a.ccFeaturesState[g],c.ccFeaturesState[g],b)}}}function z(a,c){var b=!1;if(I&&I===a&&g.ccFeaturesState!==m&&g.ccFeaturesState[I]!==m)if("SELECTION_CLEAR_ITEM_DATA"===c)b=0===g.ccFeaturesState[I].length?!0:!1;else{a=g.ccFeaturesState[I];for(var f=c.itemType,d=0;d<a.length;d++){var k=a[d].itemType;
if(k===f&&a[d][k]===c[f]){b=!0;break}}}return b}var h={},E=d.$,v,F=n.metrics,G=n.ccCardsRefresh,P,I,g,K="";return{registerFeature:function(a,c){var b=!0;a.hasOwnProperty("featureName")&&a.hasOwnProperty("featureAttribution")||(e.log("Properties missing in feature registration passed","ERROR",a.featureAttribution||a.featureName),b=!1);b&&(b=!0,c.hasOwnProperty("init")&&c.hasOwnProperty("validateInputParams")||(e.log("Functions missing in callbacks passed","ERROR",a.featureAttribution||a.featureName),
b=!1),b&&(b=a.featureName,h[b]={},h[b].callbacks=c,h[b].featureAttribution=a.featureAttribution,h[b].isMultiSelection=a.isMultiSelection,h[b].updateQtyAsBaseItem=a.updateQtyAsBaseItem,c.init()))},ccSelectionUpdate:function(a,c){var f=!1;u(a)&&(h[a].callbacks.validateInputParams(c)?(z(a,c)?(f=x(a,c),y(b.getTwisterPlusState(),g,a)):(I=a,f=x(a,c),S(b.getTwisterPlusState(),a)),c=t(a),K===n.DEVICE_TYPE_WEB&&f&&!c&&(c=h[a].callbacks,c.hasOwnProperty("cardCollapse")?c.cardCollapse():e.log("Feature callback cardCollapse() missing for the feature",
"ERROR",h[a].featureAttribution))):e.log("Validation failed for the passed itemData","ERROR",h[a].featureAttribution));return f},ccRemovedSelectionUpdate:function(a,c){var f=!1;u(a)&&(h[a].callbacks.validateInputParams(c)?f=b.ccRemovedSelectionUpdate(a,c):e.log("Validation failed for the passed itemData","ERROR",h[a].featureAttribution));return f},ccSelectionsClear:function(c){var f=!1;u(c)&&(z(c,"SELECTION_CLEAR_ITEM_DATA")?(f=a(c),y(b.getTwisterPlusState(),g,c)):(I=c,f=a(c),S(b.getTwisterPlusState(),
c)));return f},ccRemovedSelectionsClear:function(a){var c=!1;u(a)&&(c=b.ccRemovedSelectionsClear(a));return c},getFeatureRegistrationDetails:function(){return h},init:function(){K=c.getDeviceType();v=A();b.setFeatureRegistrationMap(h);for(var a in v){var g=v[a];h.hasOwnProperty(g)&&h[g].callbacks.init()}f.logCounter(F.CC_CARD_COUNT,v.length)},getRenderedFeaturesList:A,cardExpanded:function(a){var c=u(a),b=P;c&&(d.trigger("twisterPlus-removeCCCardNotification"),b&&b!==a?(P=a,a=h[b].callbacks,a.hasOwnProperty("cardCollapse")?
a.cardCollapse():e.log("Feature callback cardCollapse() missing for the feature","ERROR",h[b].featureAttribution)):P=a)},switchBuyingOption:function(a){for(var c in v){var f=v[c];if(h.hasOwnProperty(f)){var g=h[f];g.callbacks.hasOwnProperty("switchBuyingOption")&&g.callbacks.switchBuyingOption(a,b.ccSelectionFetch(f),b.ccRemovedSelectionFetch(f))}}v&&b.updateTwisterPlusComponents()},getFeatureCurrentlyExpanded:function(){return P},isMultiSelectionFeature:t}});"use strict";e.when("A").register("buy-box-price-update",
function(d){function b(){z.text("/"+a.termType);h.text(a.termCount.toString()+" "+a.termType);E.removeClass("aok-hidden")}function n(){z.text("");h.text("");E.addClass("aok-hidden")}function f(){2===u.length?A.find(".a-price-fraction").text(String(u[1].substring(0,2))):A.find(".a-price-fraction").text("00");A.find(".a-price-whole").contents().filter(function(){return 3===this.nodeType||""===this.textContent.trim()}).first().replaceWith(Number(u[0]).toLocaleString(m))}var c=d.$;d={};var t,x,a,u,A,
e,y,z,h,E;d.init=function(){t=0;A=c("#tp_price_block_total_price_ww");e=c("#tp_options_detail");y=c("#tp_monthly_options_detail");z=c("#tp-price-update-payment-term");h=c("#tp-price-update-payment-term-length");E=c("#tp-price-update-payment-period")};d.updatePriceSubtotalFeature=function(d){x=d.ccFeaturesState;var h;h=x.hasOwnProperty("paymentOptions")&&0<x.paymentOptions.length;var m=0,A;for(A in x)if("paymentOptions"!==A&&0<x[A].length){m=1;break}h?(a=x.paymentOptions[0],a.isOrderLevel?(u=a.price.toFixed(2).split("."),
f(),b(),1===m?e.removeClass("aok-hidden"):e.addClass("aok-hidden"),y.addClass("aok-hidden")):1===m?(u=(d.priceData.totalPrice+a.price-d.twisterState.price).toFixed(2).split("."),f(),n(),e.addClass("aok-hidden"),y.removeClass("aok-hidden")):(u=a.price.toFixed(2).split("."),f(),b(),e.addClass("aok-hidden"),y.addClass("aok-hidden"))):(u=d.priceData.totalPrice.toFixed(2).split("."),f(),n(),e.removeClass("aok-hidden"),y.addClass("aok-hidden"));d=c("#tp_price_update_feature_ww");h=c("#tp_price_row_ww");
1===t&&(h.css("display","none"),d.css("display","none"),t=0)};return d});"use strict";e.when("A","twister-plus-constants").register("priceUpdate",function(d,b){function n(a,b){var f=a;c.each(b,function(a,b){c.each(b,function(c,b){a!==t.PAYMENT_OPTIONS_FEATURE&&b.price!==m&&(a===e.KEY_BUYBACK?b.isBuyBack&&(f=f-b.savings+b.price):f=a===t.COUPONS_FEATURE?f-b.savings:f+b.price*(b.quantity!==m?b.quantity:1))})});return f}function f(a,b,f){var d=b;c.each(f,function(a,b){c.each(b,function(c,b){a!==t.PAYMENT_OPTIONS_FEATURE&&
b.savings!==m&&(a===e.KEY_BUYBACK?b.isBuyBack&&(d+=b.savings):d+=b.savings*(b.quantity!==m?b.quantity:1))})});return d}var c=d.$;d={};var t=b.ccFeatures,e=b.itemAssociation;d.getTotalPrice=function(a){var c={};c.totalPrice=n(a.twisterState.price,a.ccFeaturesState);return c};d.getTotalPriceAndYouSave=function(a){var c={},b=a.twisterState.quantity?a.twisterState.quantity:1,d=a.twisterState.price*b,b=a.twisterState.savings*b;c.totalPrice=n(d,a.ccFeaturesState);c.youSave=f(d,b,a.ccFeaturesState);return c};
return d});"use strict";e.when("A","utils","twister-plus-constants").register("itemAssociation",function(d,b,n){function f(a,c,b){var f=[],d=k.CUSTOM_NAME_STRING+"."+a+"."+c,d=g("\x3c"+N.INPUT+"\x3e",{type:k.INPUT_TYPE_HIDDEN,id:d,name:d,value:b[k.ITEM_ASSOCIATION_GROUP_KEY]});a=k.CUSTOM_VALUE_STRING+"."+a+"."+c;b=g("\x3c"+N.INPUT+"\x3e",{type:k.INPUT_TYPE_HIDDEN,id:a,name:a,value:JSON.stringify(b[k.ENCODED_ITEM_ASSOC_VAL])});f.push(d);f.push(b);return f}function c(a){return g("\x3c"+N.INPUT+"\x3e",
{type:a.inputType,id:a.inputId,name:a.inputName,value:JSON.stringify(a.inputValue)})}function t(a,c,b){var f=a.featureName;a=a.formData;var d=[];if(a!==m){var g;f===O.PAYMENT_OPTIONS_FEATURE&&(g=b?O.PAYMENT_OPTIONS_BUY_NOW_CART_TYPE:O.PAYMENT_OPTIONS_ATC_CART_TYPE);for(b=0;b<a.length;b++)g!==m&&(a[b].inputValue[O.CART_TYPE]=g),"function"===typeof c&&(f=c(a[b]),d.push(f))}return d}function x(a,b,c){var f=c.quantity,d=c.offerListingId;f!==m&&d!==m?(a.push('\x3cinput type\x3d"hidden" id\x3d"asin.'+b+
'" name\x3d"asin.'+b+'" value\x3d"'+c.asin+'"\x3e'),c=F(b,f,!1),a.push(c),b=G(b,d,!1),a.push(b)):e.log("offerListingId or quantity is not defined for the asin in the itemData","Error",JSON.stringify(c));return a}function a(){return g("\x3c"+N.INPUT+"\x3e",{type:k.INPUT_TYPE_HIDDEN,id:k.IS_BUYBACK_INPUT_FLAG,name:k.IS_BUYBACK_INPUT_FLAG,value:k.IS_BUYBACK_INPUT_FLAG_VALUE})}function u(d,X){for(var q=I(d),U=g("\x3c"+N.FIELDSET+"\x3e",{"class":B.ITEM_ASSOCIATION_INPUTS_CLASS_NAME}),l=[],M=2,n=0;n<q.length;n++){var w=
q[n];if(D)for(var h=q[n].customData||[],e=0;e<h.length;e++){var p=f(M,e+1,h[e]);g.merge(l,p)}w.asin!==m&&(l=x(l,M,w),M++);w=t(q[n],c,!1);g.merge(l,w)}if(l.length)for(q=[],v(k.ASIN_KEY+k.FIRST_INDEX)||(M=k.BASE_ASIN_INDEX,q.push('\x3cinput type\x3d"hidden" id\x3d"asin.'+M+'" name\x3d"asin.'+M+'" value\x3d"'+H.baseAsinState.asin+'"\x3e')),v(k.QUANTITY_KEY+k.FIRST_INDEX)||(M=r?b.getBaseItemQuantity():A().find('input[id\x3d"quantity"]').val(),M=F(k.BASE_ASIN_INDEX,M),q.push(M)),v(k.OFFERING_ID_KEY+k.FIRST_INDEX)||
(M=G(k.BASE_ASIN_INDEX,H.baseAsinState.offerListingId),q.push(M)),g.merge(l,q),X&&(q=a(),l.push(q)),q=0;q<l.length;q++)g(U).append(l[q]);l=g("\x3c"+N.FIELDSET+"\x3e",{"class":B.ITEM_ASSOCIATION_INPUTS_CLASS_NAME});q=[];M=2;n=1;for(w=0;w<d.length;w++){h=d[w];if(D)if(d[w][k.FEATURE_NAME_KEY]===k.KEY_BUYBACK){for(var p=d[w].buynowData||[],e=M,u=[],y,z=0;z<p.length;z++)y=p[z].name===O.IS_BUYBACK_KEY?g("\x3c"+N.INPUT+"\x3e",{type:k.INPUT_TYPE_HIDDEN,id:p[z].id,name:k.CUSTOM_NAME_STRING+"."+e+".1",value:p[z].value}):
p[z].name===O.IS_BUYBACK_FEE?g("\x3c"+N.INPUT+"\x3e",{type:k.INPUT_TYPE_HIDDEN,id:p[z].id,name:k.CUSTOM_VALUE_STRING+"."+e+".1",value:p[z].value}):g("\x3c"+N.INPUT+"\x3e",{type:k.INPUT_TYPE_HIDDEN,id:p[z].id,name:p[z].name,value:p[z].value}),u.push(y);e=u;g.merge(q,e)}else for(p=d[w].customData||[],u=0;u<p.length;u++)e=f(M,u+1,p[u]),g.merge(q,e);h.asin!==m&&(q=x(q,n,h),M++,n++);h=t(d[w],c,!0);g.merge(q,h)}if(q.length)for(X&&(d=a(),q.push(d)),d=0;d<q.length;d++)g(l).append(q[d]);U.length&&(d=g(B.ADD_TO_CART_ELEMENT_ID).find(B.ITEM_ASSOCIATION_INPUTS_CLASS),
d.length?g(d).replaceWith(U):g(B.ADD_TO_CART_ELEMENT_ID).append(U));l.length&&(U=B.BUYNOW_ELEMENT_ID,d=g(U).find(B.ITEM_ASSOCIATION_INPUTS_CLASS),d.length?g(d).replaceWith(l):g(U).append(l))}function A(){var a=g(B.BUYBOX_ACCORDION_ACTIVE);return 1===a.length?a.find(B.ADD_TO_CART_ELEMENT_ID):g(B.ADD_TO_CART_ELEMENT_ID)}function S(){var a=g(B.BUYBOX_ACCORDION);return 1===a.length?a.find(B.ADD_TO_CART_BUTTON_ID):g(B.ADD_TO_CART_BUTTON_ID)}function y(a,b,c){var f={};f[k.CUSTOM_NAME_STRING+"."+a+"."+b]=
c[k.ITEM_ASSOCIATION_GROUP_KEY];f[k.CUSTOM_VALUE_STRING+"."+a+"."+b]=JSON.stringify(c[k.ENCODED_ITEM_ASSOC_VAL]);return f}function z(a){var b={},c=a.inputName;a=JSON.stringify(a.inputValue);b[c]=a;return b}function h(a){var c=[];a.each(function(){var a=g(this).parents(B.DECLARATIVE_CLASS);if(0<a.length){var f=g(a).data(B.DATA_ATTRIBUTE_ACTION),f=b.convertHTMLDataAttributesToKeys(f),a=d.copy(g(a).data(f));c.push({dataActionKey:f,initialFormData:a})}});return c}function E(a,c,b){var f=0;a.each(function(){var a=
g(this).parents(B.DECLARATIVE_CLASS);if(0<a.length){var d=c[f++];if(d!==m){var k=g.extend({},d.initialFormData.inputs,b),W=g.extend({},d.initialFormData);W.inputs=k;a.data(d.dataActionKey,W)}}})}function v(a){return 0<A().clone().find(B.ITEM_ASSOCIATION_INPUTS_CLASS).remove().end().find('input[name\x3d"'+a+'"]').length}function F(a,c,b){return b?(b={},b[k.QUANTITY_KEY+"."+a]=c,b):'\x3cinput type\x3d"hidden" id\x3d"quantity.'+a+'" name\x3d"quantity.'+a+'" value\x3d"'+c+'"\x3e'}function G(a,b,c){return c?
(c={},c[k.OFFERING_ID_KEY+"."+a]=b,c):'\x3cinput type\x3d"hidden" id\x3d"offeringID.'+a+'" name\x3d"offeringID.'+a+'" value\x3d"'+b+'"\x3e'}function P(d,n){if(p===k.DEVICE_TYPE_MOBILE_APP){var q;q=I(d);for(var e={},l=H.baseAsinState.asin,h=b.getBaseItemQuantity(),h=h?h:L.addToCartData[0]&&L.addToCartData[0].initialFormData&&L.addToCartData[0].initialFormData.inputs?L.addToCartData[0].initialFormData.inputs.quantity:"",r=H.baseAsinState.offerListingId,w=0;w<q.length;w++){var T=q[w],v=w+2,C=T.asin,
J=T.quantity,T=T.offerListingId;C!==m&&J!==m&&T!==m&&(l+=k.PIPE_SEPARATOR+C,h+=k.PIPE_SEPARATOR+J,r+=k.PIPE_SEPARATOR+T);if(D)for(C=q[w].customData||[],J=0;J<C.length;J++)T=y(v,J+1,C[J]),e=g.extend(e,T);v=t(q[w],z,!1);for(C=0;C<v.length;C++)e=g.extend(e,v[C])}e[k.FORM_DATA_ASIN_KEY]=l;e[k.QUANTITY_KEY]=h;e[k.FORM_DATA_OID_KEY]=r;q=e;E(S(),L.addToCartData,q);q={};e=b.getBaseItemQuantity();q[k.QUANTITY_KEY]=e?e:L.buyNowData[0]&&L.buyNowData[0].initialFormData&&L.buyNowData[0].initialFormData.inputs?
L.buyNowData[0].initialFormData.inputs.quantity:"";for(e=0;e<d.length;e++){h=d[e];l=e+2;r=e+1;q[k.ASIN_KEY+"."+r]=h.asin;w=F(r,h.quantity,!0);q=g.extend(q,w);h=G(r,h.offerListingId,!0);q=g.extend(q,h);if(D)if(d[e][k.FEATURE_NAME_KEY]===k.KEY_BUYBACK){h=d[e].buynowData||[];r={};for(w=0;w<h.length;w++)v=h[w].name,C=h[w].value,h[w].name===O.IS_BUYBACK_KEY?r[k.CUSTOM_NAME_STRING+"."+l+".1"]=C:h[w].name===O.IS_BUYBACK_FEE?r[k.CUSTOM_VALUE_STRING+"."+l+".1"]=C:r[v]=C;q=g.extend(q,r)}else for(h=d[e].customData||
[],w=0;w<h.length;w++)r=y(l,w+1,h[w]),q=g.extend(q,r);l=t(d[e],z,!0);for(h=0;h<l.length;h++)q=g.extend(q,l[h])}!b.isEmpty(q)&&n&&(q[k.IS_BUYBACK_INPUT_FLAG]=k.IS_BUYBACK_INPUT_FLAG_VALUE);E(g(B.BUYNOW_BUTTON_ID),L.buyNowData,q);u(d,n)}else if(p===k.DEVICE_TYPE_MOBILE_WEB)u(d,n);else{e=I(d);d=g("\x3c"+N.FIELDSET+"\x3e",{"class":B.ITEM_ASSOCIATION_INPUTS_CLASS_NAME});g(B.ITEM_ASSOCIATION_INPUTS_CLASS).remove();q=[];l=A().find('input[name^\x3d"offeringID"]').length+1;h=l+1;for(r=0;r<e.length;r++){w=
e[r];if(D)for(v=e[r].customData||[],C=0;C<v.length;C++)J=f(h,C+1,v[C]),g.merge(q,J);w.asin!==m&&(q=x(q,l,w),l++,h++);w=t(e[r],c,!1);g.merge(q,w)}if(q.length)for(n&&(n=a(),q.push(n)),n=0;n<q.length;n++)g(d).append(q[n]);d.length&&(n=A().find(B.ITEM_ASSOCIATION_INPUTS_CLASS),n.length?g(n).replaceWith(d):A().append(d))}}function I(a){for(var c=[],b=0;b<a.length;b++){var d=a[b];d[k.FEATURE_NAME_KEY]!==k.KEY_BUYBACK&&c.push(d)}return c}var g=d.$,K={name:"itemAssociation"},p="",r=!1,D,H={ccFeaturesState:{},
baseAsinState:{}},L={addToCartData:[],buyNowData:[]},k=n.itemAssociation,N=n.htmlTags,B=n.selectors,O=n.ccFeatures,Q;K.addItemAssociationBundleData=function(a,b,c){D=b;r=c;var d=!1,f=[];H.ccFeaturesState=a.ccFeaturesState;H.baseAsinState=a.twisterState;g.each(H.ccFeaturesState,function(a,b){g.each(b,function(b,c){a===k.KEY_BUYBACK&&c.isBuyBack&&(d=!0);b={};var g=[];b[k.ASIN_KEY]=c.asin;b[k.QUANTITY_KEY]=c.quantity;b[k.OFFER_LISTING_ID_KEY]=c.offerListingId;if(c.enableIA){var e={};e[k.ITEM_ASSOCIATION_GROUP_KEY]=
k.ITEM_ASSOCIATION_GROUP_VAL;e[k.ENCODED_ITEM_ASSOC_VAL]=c.IAData;g.push(e);b[k.CUSTOM_DATA_KEY]=g}b[k.FEATURE_NAME_KEY]=a;c.formData!==m&&0<c.formData.length&&(b.formData=c.formData);a===k.KEY_BUYBACK&&(b[O.BUY_NOW_DATA]=c.buynowData);f.push(b)})});P(f,d)};K.init=function(){p=b.getDeviceType();p===k.DEVICE_TYPE_MOBILE_APP&&(L.addToCartData=h(S()),L.buyNowData=h(g(B.BUYNOW_BUTTON_ID)));p===n.DEVICE_TYPE_WEB&&Q===m&&(Q=A().find('input[name\x3d"itemCount"]'),0===Q.length||parseInt(Q[0].value))};return K});
"use strict";e.when("A").register("utils",function(d){var b=d.$,e={isEmpty:function(b){for(var c in b)if(b.hasOwnProperty(c))return!1;return!0},capitalizeFirstLetter:function(b){return b.charAt(0).toUpperCase()+b.slice(1)},convertHTMLDataAttributesToKeys:function(b){b=b.split("-");for(var c=b[0],d=1;d<b.length;d++)c+=e.capitalizeFirstLetter(b[d]);return c},getBaseItemQuantity:function(d){var c;"web"===this.getDeviceType()?b("#quantity").length&&(c=b("#quantity").val()):b("#mobileQuantityDropDown").length&&
(c=b(".a-accordion-active select.mobileQuantityDropDown").length?b(".a-accordion-active select.mobileQuantityDropDown").val():b("#mobileQuantityDropDown").val());return c},getDeviceType:function(){var d=b("#twister-plus-device-type").val();return"web"===d?"web":"mobile"===d?"mWeb":"mApp"},isMbbCheckboxChecked:function(){var d=!1,c=b("#mbb-checkbox-input");c!==m&&(d=c.prop("checked"));return d},isFeatureSelectionPresent:function(b){var c=!1,d;for(d in b)if(0<b[d].length){c=!0;break}return c}};return e});
"use strict";e.when("A").register("turbo-checkout-handler",function(d){var b=d.$,e;return{updateInputCheckbox:function(d){var c;d=d.ccFeaturesState;var m=!1;for(c in d)if(0<d[c].length){m=!0;break}c=m;e=b("#twister-plus-checkbox");d=e.prop("checked");c&&!d?e.prop("checked","true").trigger("change"):!c&&d&&e.click()}}});e.when("twister-plus-constants").register("twister-plus-logger-service",function(d){function b(b,c){if(b!==m&&""!==b)b=d.metrics.PREFIX+b,ue&&ue.count&&(c===m&&(c=(ue.count(b)||0)+
1),ue.count(b,c));else throw Error("counterKey must be non empty string");}function e(b){if(b!==m&&""!==b)this._timerName=b,this._startTime=0;else throw Error("timerName must be non empty string");}e.prototype={start:function(){this._startTime=Date.now()},stop:function(){this._startTime&&b(this._timerName,Date.now()-this._startTime)}};return{Timer:e,logCounter:b}});"use strict";e.when("A","dp-time-to-interactive","twister-plus-logger-service","twister-plus-constants","ready","twister-plus-init").register("twister-plus-tti-logger",
function(d,b,e,f){function c(){var c=f.metrics,d=b.getTimeToInteractivity({twisterPlus:{name:"twisterPlus"}});if(d&&d.interactiveTime){var a=D.performance;"object"===typeof a&&"object"===typeof a.timing&&e.logCounter(c.TWISTER_PLUS_TTI,d.interactiveTime-a.timing.navigationStart)}}c();return{logTTI:c}});"use strict";e.when("A","twister-plus-constants").register("twister-plus-pinning",function(d,b){var e=d.$,f=b.selectors;return{init:function(){var b=e(f.PPD_RIGHT_COL_ID);b&&b.addClass("twister-plus-pinning")}}});
"use strict";e.when("A","twister-plus-constants").register("side-sheet",function(d,b){function e(){x("#twister-plus-side-sheet-content").show(function(){c({right:"0px"})})}function f(){x("#twister-plus-side-sheet-content").show(function(){c({right:"-600px"})})}function c(a,b){d.animate(x("#twister-plus-side-sheet-content"),a,m.RESIZE_DURATION,b)}var m=b.sideSheet,x=d.$;d.declarative("side-sheet","click",function(a){x("body").css("overflow","hidden");d.show("#twister-plus-dp-bg");e()});d.declarative("close-side-sheet",
"click",function(a){f();d.hide("#twister-plus-dp-bg");x("body").css("overflow","scroll")});return{getContentContainer:function(){return x("#tp-side-sheet-main-section")}}});"use strict";e.when("A","twister-plus-constants","cc-manager","twister-plus-framework","side-sheet").register("twister-plus-side-sheet",function(d,b,e,f,c){function m(){var a=e.getFeatureCurrentlyExpanded();a&&((a=e.isMultiSelectionFeature(a))||d.trigger("a:declarative:close-side-sheet:click"))}var x=d.$,a=b.sideSheet,u,A,D,y=
!1;d.on("a:declarative:side-sheet:click",function(b){u.html(A.html());var d=x(a.SYMBOL_HASH+b.data.contentId).clone();d.prop("id",b.data.contentId+"-sideSheet");D=c.getContentContainer();D.append(d);d.css(a.DISPLAY,"block");D.removeClass("aok-hidden");x("#twister-plus-side-sheet-content").removeClass("aok-hidden")});return{init:function(){u=x("#tp-side-sheet");A=u.clone();if(!y){var b={};b.featureName=a.FEATURE_NAME;b.featureAttribution=a.FEATURE_ATTRIBUTION;f.registerFeature(b,a.EVENT_NAME,m);y=
!0}}}});e.when("A","twister-plus-feature-state","twister-plus-constants","cc-manager","a-popover","twister-plus-framework").register("twister-plus-price-tool-tip",function(d,b,e,f,c,t){function x(){I=!0;p.html(V.html());K=p.find("#tp-tool-tip-price-section");F=b.getTwisterPlusFeaturesState()}function a(a,b,c){var d=b[0];(b=b[1])&&"00"!==b?a.find(".a-price-fraction").text(String(b)):c?(a.find(".a-price-fraction").addClass("aok-hidden"),a.find(".a-price-decimal").addClass("aok-hidden")):(b="00",a.find(".a-price-fraction").text(String(b)));
a.find(".a-price-whole").contents().filter(function(){return 3===this.nodeType||""===this.textContent.trim()}).first().replaceWith(Number(d).toLocaleString(m))}function u(a,b){a.find("#display-string").text(b)}function A(b,c,d){b.find("#tp-item-quantity").text(c);b=b.find(".tp-tool-tip-quantity-block");b.removeClass("aok-hidden");a(b,d.toFixed(2).split("."),!0)}function D(a){a+=r.data(1<O?g.ITEM_COUNT_PLURAL_TEMPLATE:g.ITEM_COUNT_SINGULAR_TEMPLATE);return a=a.replace(g.ITEM_COUNT_PLACEHOLDER,O)}function y(a){var b=
v.clone();a!==m&&b.attr("id",a);b.find("#tp-tool-tip-price").removeClass("twister-plus-price-template");return b}function z(){var a=p.find(".twister-plus-subtotal-price-template").clone().removeClass("twister-plus-subtotal-price-template");a.find("#tp-tool-tip-subtotal-price-value").removeAttr("id");return a}function h(a){return H.hasOwnProperty(a)&&0<H[a].length}var E=d.$,v=E("#tp-tool-tip-price-block"),F,G,P,I=!1,g=e.toolTip,K=E("#tp-tool-tip-price-section"),p=E("#twister-plus-tool-tip"),r=p.find("#tp-tool-tip-item-strings"),
V=p.clone(),H,L,k=[],N=0,B,O,Q=!1;d.on("a:popover:beforeShow:twisterPlusPopOver",function(){var b=E(".twister-plus-tool-tip-padding").parents(".a-popover"),d=E("#twister-plus-popover-inner").parents(".a-popover");b.addClass("twister-plus-popover-margin");d.addClass("twister-plus-popover-margin");if(I){d=0;H=F.ccFeaturesState;var e=h("paymentOptions"),b=F.twisterState.quantity;O=parseInt(b);L=F.priceData.totalPrice.toFixed(2).split(".");for(var f in G){var l=G[f];if("paymentOptions"!==l&&h(l)){var n=
H[l][0],t=!1;P[l].hasOwnProperty("isMultiSelection")&&P[l].isMultiSelection&&(t=!0);var w=y("tp-tool-tip-price-block-"+l),v=n.orderSummaryDisplayString,x=H[l].length,C=0,J=0;if("couponsCard"===l){for(var R=0;R<x;R++)var Q=H[l][R].quantity!==m?H[l][R].quantity:1,J=J+parseInt(Q),C=C+H[l][R].savings*Q;w.find("#price-sign-string").text("-")}else for(R=0;R<x;R++)Q=H[l][R].quantity!==m?H[l][R].quantity:1,J+=parseInt(Q),C+=H[l][R].price*Q;e&&(N+=C,x=d?v.toLowerCase():v,k.push(x),d++);t?v=1<J?v+r.data(g.ITEM_COUNT_PLURAL_TEMPLATE):
v+r.data(g.ITEM_COUNT_SINGULAR_TEMPLATE):n.hasOwnProperty("shortDisplayTitle")&&n.shortDisplayTitle!==m&&(v=v+" ("+n.shortDisplayTitle+")",1<J&&A(w,J,H[l][0].price));O+=J;v=v.replace(g.ITEM_COUNT_PLACEHOLDER,J);a(w.find("#tp-tool-tip-price"),C.toFixed(2).split("."),!1);u(w,v);K.append(w)}}e?(d=H.paymentOptions[0],f=p.find("#tp-tool-tip-footnote-section"),l=y("tp-tool-tip-price-block-interest"),e=d.interestAmount.toFixed(2).split("."),a(l.find("#tp-tool-tip-price"),e,!1),u(l,d.interestDisplayString),
K.append(l),d.isOrderLevel||0===k.length?(p.find("#twister-plus-order-level-monthly-payments-section").removeClass("aok-hidden"),l=p.find("#tp-tool-tip-order-level-monthly-payments-price-block"),u(l,d.orderSummaryDisplayString),e=z(),l.find("#tp-order-level-monthly-payment-subtotal-price").append(e),e=d.price.toFixed(2).split("."),a(l,e,!1),d=d.toolTipFootnoteDisplayString):(p.find("#twister-plus-item-level-monthly-payments-section").removeClass("aok-hidden"),l=y("tp-tool-tip-price-block-monthly-payment"),
e=d.price.toFixed(2).split("."),a(l.find("#tp-tool-tip-price"),e,!1),u(l,d.orderSummaryDisplayString),l.addClass("a-spacing-top-base"),n=p.find("#tp-monthly-payments-breakdown-section"),n.append(l),l=y("tp-tool-tip-price-block-all-selections"),e=N.toFixed(2).split("."),a(l.find("#tp-tool-tip-price"),e),u(l,k.join(", ")),n.append(l),l=z(),p.find("#tp-item-level-monthly-payment-subtotal-price").append(l),e=(d.price+N).toFixed(2).split("."),a(l,e,!1),d=p.find("#tp-tool-tip-footnote-string").data(g.MONTHLY_PAYMENTS_FOOTNOTE_TEMPLATE)),
e=p.find("#tp-tool-tip-monthly-payment-subtotal-price-block"),l=e.find("#display-string").text(),l=D(l),u(e,l),l=p.find(".twister-plus-price-template").clone().removeClass("twister-plus-price-template").addClass("a-text-bold"),e.find("#tp-monthly-payment-subtotal-price").append(l),a(e,L,!1),p.find("#tp-tool-tip-subtotal-price-block").addClass("aok-hidden"),e.removeClass("aok-hidden"),l=p.find("#tp-footnote-text").clone().attr("id","tp-monthly-payment-footnote-text"),l.text(d),f.append(l)):(a(p.find("#tp-tool-tip-subtotal-price-value"),
L,!1),f=p.find("#tp-tool-tip-subtotal-price-block"),d=f.find("#display-string").text(),d=D(d),u(f,d));1<b&&(f=y(),d=F.twisterState.price,A(f,b,d),b*=d,a(f.find("#tp-tool-tip-price"),b.toFixed(2).split("."),!1),K.find("#tp-tool-tip-price-block").replaceWith(f));B=c.get(g.TOOL_TIP_NAME).getContent();B.html(p.html());B.addClass("twister-plus-tool-tip-padding")}I=!1});return{init:function(){v=E("#tp-tool-tip-price-block");K=E("#tp-tool-tip-price-section");p=E("#twister-plus-tool-tip");V=p.clone();r=p.find("#tp-tool-tip-item-strings");
I=!1;F=b.getTwisterPlusFeaturesState();G=f.getRenderedFeaturesList();if(!Q){var a={};a.featureName=g.FEATURE_NAME;a.featureAttribution=g.FEATURE_ATTRIBUTION;t.registerFeature(a,g.EVENT_NAME,x);P=f.getFeatureRegistrationDetails();Q=!0}}}});"use strict";e.when("A","twister-plus-constants","twister-plus-logger-service","twister-plus-preconditions","buy-box-price-update","cc-manager","itemAssociation","twister-plus-framework","twister-plus-price-tool-tip","twister-plus-side-sheet","twister-plus-pinning").register("twister-plus-init",
function(d,b,e,f,c,m,x,a,u,A,S){function y(){x.init();u.init();A.init();c.init();m.init()}var z=b.metrics;d.on("PageRefresh:ATF",function(){f.isTwisterPlusEligible()&&(a.refreshTwisterPlusData(),y(),f.isCcCardsRendered()&&e.logCounter(z.TWISTER_PLUS_TWISTER_REFRESH_GV))});f.isTwisterPlusEligible()&&(a.initializeTwisterPlus(),y(),"function"===typeof D.markFeatureInteractive&&D.markFeatureInteractive(z.FEATURE_NAME,{}))})});
/* ******** */
